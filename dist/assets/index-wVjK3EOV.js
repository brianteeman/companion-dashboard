(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function gS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nf={exports:{}},Ko={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function mS(){if(n0)return Ko;n0=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(i,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:e,type:i,key:c,ref:l!==void 0?l:null,props:u}}return Ko.Fragment=a,Ko.jsx=n,Ko.jsxs=n,Ko}var i0;function yS(){return i0||(i0=1,Nf.exports=mS()),Nf.exports}var E=yS(),Bf={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function bS(){if(o0)return Wt;o0=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function m(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function C(B,I,lt){this.props=B,this.context=I,this.refs=S,this.updater=lt||b}C.prototype.isReactComponent={},C.prototype.setState=function(B,I){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,I,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=C.prototype;function M(B,I,lt){this.props=B,this.context=I,this.refs=S,this.updater=lt||b}var A=M.prototype=new T;A.constructor=M,x(A,C.prototype),A.isPureReactComponent=!0;var O=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function N(B,I,lt,et,dt,bt){return lt=bt.ref,{$$typeof:e,type:B,key:I,ref:lt!==void 0?lt:null,props:bt}}function z(B,I){return N(B.type,I,void 0,void 0,void 0,B.props)}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function H(B){var I={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(lt){return I[lt]})}var P=/\/+/g;function q(B,I){return typeof B=="object"&&B!==null&&B.key!=null?H(""+B.key):I.toString(36)}function U(){}function $(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(I){B.status==="pending"&&(B.status="fulfilled",B.value=I)},function(I){B.status==="pending"&&(B.status="rejected",B.reason=I)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function G(B,I,lt,et,dt){var bt=typeof B;(bt==="undefined"||bt==="boolean")&&(B=null);var L=!1;if(B===null)L=!0;else switch(bt){case"bigint":case"string":case"number":L=!0;break;case"object":switch(B.$$typeof){case e:case a:L=!0;break;case g:return L=B._init,G(L(B._payload),I,lt,et,dt)}}if(L)return dt=dt(B),L=et===""?"."+q(B,0):et,O(dt)?(lt="",L!=null&&(lt=L.replace(P,"$&/")+"/"),G(dt,I,lt,"",function(rt){return rt})):dt!=null&&(j(dt)&&(dt=z(dt,lt+(dt.key==null||B&&B.key===dt.key?"":(""+dt.key).replace(P,"$&/")+"/")+L)),I.push(dt)),1;L=0;var Z=et===""?".":et+":";if(O(B))for(var k=0;k<B.length;k++)et=B[k],bt=Z+q(et,k),L+=G(et,I,lt,bt,dt);else if(k=m(B),typeof k=="function")for(B=k.call(B),k=0;!(et=B.next()).done;)et=et.value,bt=Z+q(et,k++),L+=G(et,I,lt,bt,dt);else if(bt==="object"){if(typeof B.then=="function")return G($(B),I,lt,et,dt);throw I=String(B),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return L}function V(B,I,lt){if(B==null)return B;var et=[],dt=0;return G(B,et,"","",function(bt){return I.call(lt,bt,dt++)}),et}function W(B){if(B._status===-1){var I=B._result;I=I(),I.then(function(lt){(B._status===0||B._status===-1)&&(B._status=1,B._result=lt)},function(lt){(B._status===0||B._status===-1)&&(B._status=2,B._result=lt)}),B._status===-1&&(B._status=0,B._result=I)}if(B._status===1)return B._result.default;throw B._result}var Q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ot(){}return Wt.Children={map:V,forEach:function(B,I,lt){V(B,function(){I.apply(this,arguments)},lt)},count:function(B){var I=0;return V(B,function(){I++}),I},toArray:function(B){return V(B,function(I){return I})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Wt.Component=C,Wt.Fragment=n,Wt.Profiler=l,Wt.PureComponent=M,Wt.StrictMode=i,Wt.Suspense=v,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},Wt.cache=function(B){return function(){return B.apply(null,arguments)}},Wt.cloneElement=function(B,I,lt){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var et=x({},B.props),dt=B.key,bt=void 0;if(I!=null)for(L in I.ref!==void 0&&(bt=void 0),I.key!==void 0&&(dt=""+I.key),I)!_.call(I,L)||L==="key"||L==="__self"||L==="__source"||L==="ref"&&I.ref===void 0||(et[L]=I[L]);var L=arguments.length-2;if(L===1)et.children=lt;else if(1<L){for(var Z=Array(L),k=0;k<L;k++)Z[k]=arguments[k+2];et.children=Z}return N(B.type,dt,void 0,void 0,bt,et)},Wt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},Wt.createElement=function(B,I,lt){var et,dt={},bt=null;if(I!=null)for(et in I.key!==void 0&&(bt=""+I.key),I)_.call(I,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(dt[et]=I[et]);var L=arguments.length-2;if(L===1)dt.children=lt;else if(1<L){for(var Z=Array(L),k=0;k<L;k++)Z[k]=arguments[k+2];dt.children=Z}if(B&&B.defaultProps)for(et in L=B.defaultProps,L)dt[et]===void 0&&(dt[et]=L[et]);return N(B,bt,void 0,void 0,null,dt)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(B){return{$$typeof:f,render:B}},Wt.isValidElement=j,Wt.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:W}},Wt.memo=function(B,I){return{$$typeof:p,type:B,compare:I===void 0?null:I}},Wt.startTransition=function(B){var I=R.T,lt={};R.T=lt;try{var et=B(),dt=R.S;dt!==null&&dt(lt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(ot,Q)}catch(bt){Q(bt)}finally{R.T=I}},Wt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Wt.use=function(B){return R.H.use(B)},Wt.useActionState=function(B,I,lt){return R.H.useActionState(B,I,lt)},Wt.useCallback=function(B,I){return R.H.useCallback(B,I)},Wt.useContext=function(B){return R.H.useContext(B)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(B,I){return R.H.useDeferredValue(B,I)},Wt.useEffect=function(B,I,lt){var et=R.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(B,I)},Wt.useId=function(){return R.H.useId()},Wt.useImperativeHandle=function(B,I,lt){return R.H.useImperativeHandle(B,I,lt)},Wt.useInsertionEffect=function(B,I){return R.H.useInsertionEffect(B,I)},Wt.useLayoutEffect=function(B,I){return R.H.useLayoutEffect(B,I)},Wt.useMemo=function(B,I){return R.H.useMemo(B,I)},Wt.useOptimistic=function(B,I){return R.H.useOptimistic(B,I)},Wt.useReducer=function(B,I,lt){return R.H.useReducer(B,I,lt)},Wt.useRef=function(B){return R.H.useRef(B)},Wt.useState=function(B){return R.H.useState(B)},Wt.useSyncExternalStore=function(B,I,lt){return R.H.useSyncExternalStore(B,I,lt)},Wt.useTransition=function(){return R.H.useTransition()},Wt.version="19.1.0",Wt}var l0;function kd(){return l0||(l0=1,Bf.exports=bS()),Bf.exports}var ut=kd();const fe=gS(ut);var jf={exports:{}},Zo={},Lf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function SS(){return s0||(s0=1,function(e){function a(V,W){var Q=V.length;V.push(W);t:for(;0<Q;){var ot=Q-1>>>1,B=V[ot];if(0<l(B,W))V[ot]=W,V[Q]=B,Q=ot;else break t}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var W=V[0],Q=V.pop();if(Q!==W){V[0]=Q;t:for(var ot=0,B=V.length,I=B>>>1;ot<I;){var lt=2*(ot+1)-1,et=V[lt],dt=lt+1,bt=V[dt];if(0>l(et,Q))dt<B&&0>l(bt,et)?(V[ot]=bt,V[dt]=Q,ot=dt):(V[ot]=et,V[lt]=Q,ot=lt);else if(dt<B&&0>l(bt,Q))V[ot]=bt,V[dt]=Q,ot=dt;else break t}}return W}function l(V,W){var Q=V.sortIndex-W.sortIndex;return Q!==0?Q:V.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var v=[],p=[],g=1,y=null,m=3,b=!1,x=!1,S=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(V){for(var W=n(p);W!==null;){if(W.callback===null)i(p);else if(W.startTime<=V)i(p),W.sortIndex=W.expirationTime,a(v,W);else break;W=n(p)}}function R(V){if(S=!1,O(V),!x)if(n(v)!==null)x=!0,_||(_=!0,q());else{var W=n(p);W!==null&&G(R,W.startTime-V)}}var _=!1,N=-1,z=5,j=-1;function H(){return C?!0:!(e.unstable_now()-j<z)}function P(){if(C=!1,_){var V=e.unstable_now();j=V;var W=!0;try{t:{x=!1,S&&(S=!1,M(N),N=-1),b=!0;var Q=m;try{e:{for(O(V),y=n(v);y!==null&&!(y.expirationTime>V&&H());){var ot=y.callback;if(typeof ot=="function"){y.callback=null,m=y.priorityLevel;var B=ot(y.expirationTime<=V);if(V=e.unstable_now(),typeof B=="function"){y.callback=B,O(V),W=!0;break e}y===n(v)&&i(v),O(V)}else i(v);y=n(v)}if(y!==null)W=!0;else{var I=n(p);I!==null&&G(R,I.startTime-V),W=!1}}break t}finally{y=null,m=Q,b=!1}W=void 0}}finally{W?q():_=!1}}}var q;if(typeof A=="function")q=function(){A(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=P,q=function(){$.postMessage(null)}}else q=function(){T(P,0)};function G(V,W){N=T(function(){V(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(V){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var Q=m;m=W;try{return V()}finally{m=Q}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=m;m=V;try{return W()}finally{m=Q}},e.unstable_scheduleCallback=function(V,W,Q){var ot=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ot+Q:ot):Q=ot,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,V={id:g++,callback:W,priorityLevel:V,startTime:Q,expirationTime:B,sortIndex:-1},Q>ot?(V.sortIndex=Q,a(p,V),n(v)===null&&V===n(p)&&(S?(M(N),N=-1):S=!0,G(R,Q-ot))):(V.sortIndex=B,a(v,V),x||b||(x=!0,_||(_=!0,q()))),V},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(V){var W=m;return function(){var Q=m;m=W;try{return V.apply(this,arguments)}finally{m=Q}}}}(Vf)),Vf}var u0;function xS(){return u0||(u0=1,Lf.exports=SS()),Lf.exports}var Gf={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function CS(){if(c0)return lr;c0=1;var e=kd();function a(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(a(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(v,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:v,containerInfo:p,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,lr.createPortal=function(v,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return u(v,p,null,g)},lr.flushSync=function(v){var p=c.T,g=i.p;try{if(c.T=null,i.p=2,v)return v()}finally{c.T=p,i.p=g,i.d.f()}},lr.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(v,p))},lr.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},lr.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin),m=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:m,fetchPriority:b}):g==="script"&&i.d.X(v,{crossOrigin:y,integrity:m,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},lr.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);i.d.M(v,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(v)},lr.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin);i.d.L(v,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},lr.preloadModule=function(v,p){if(typeof v=="string")if(p){var g=f(p.as,p.crossOrigin);i.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(v)},lr.requestFormReset=function(v){i.d.r(v)},lr.unstable_batchedUpdates=function(v,p){return v(p)},lr.useFormState=function(v,p,g){return c.H.useFormState(v,p,g)},lr.useFormStatus=function(){return c.H.useHostTransitionStatus()},lr.version="19.1.0",lr}var f0;function ES(){if(f0)return Gf.exports;f0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),Gf.exports=CS(),Gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function TS(){if(d0)return Zo;d0=1;var e=xS(),a=kd(),n=ES();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(i(188))}function v(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var o=t,s=r;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return f(d),t;if(h===s)return f(d),r;h=h.sibling}throw Error(i(188))}if(o.return!==s.return)o=d,s=h;else{for(var w=!1,D=d.child;D;){if(D===o){w=!0,o=d,s=h;break}if(D===s){w=!0,s=d,o=h;break}D=D.sibling}if(!w){for(D=h.child;D;){if(D===o){w=!0,o=h,s=d;break}if(D===s){w=!0,s=h,o=d;break}D=D.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==s)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case _:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case A:return(t.displayName||"Context")+".Provider";case M:return(t._context.displayName||"Context")+".Consumer";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:$(t.type)||"Memo";case z:r=t._payload,t=t._init;try{return $(t(r))}catch{}}return null}var G=Array.isArray,V=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ot=[],B=-1;function I(t){return{current:t}}function lt(t){0>B||(t.current=ot[B],ot[B]=null,B--)}function et(t,r){B++,ot[B]=t.current,t.current=r}var dt=I(null),bt=I(null),L=I(null),Z=I(null);function k(t,r){switch(et(L,r),et(bt,t),et(dt,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?zg(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=zg(r),t=Ng(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(dt),et(dt,t)}function rt(){lt(dt),lt(bt),lt(L)}function gt(t){t.memoizedState!==null&&et(Z,t);var r=dt.current,o=Ng(r,t.type);r!==o&&(et(bt,t),et(dt,o))}function ct(t){bt.current===t&&(lt(dt),lt(bt)),Z.current===t&&(lt(Z),qo._currentValue=Q)}var Ct=Object.prototype.hasOwnProperty,Dt=e.unstable_scheduleCallback,zt=e.unstable_cancelCallback,Rt=e.unstable_shouldYield,Bt=e.unstable_requestPaint,Xt=e.unstable_now,Zt=e.unstable_getCurrentPriorityLevel,Ot=e.unstable_ImmediatePriority,Ft=e.unstable_UserBlockingPriority,le=e.unstable_NormalPriority,Re=e.unstable_LowPriority,ye=e.unstable_IdlePriority,de=e.log,be=e.unstable_setDisableYieldValue,pt=null,vt=null;function mt(t){if(typeof de=="function"&&be(t),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(pt,t)}catch{}}var At=Math.clz32?Math.clz32:Yt,se=Math.log,De=Math.LN2;function Yt(t){return t>>>=0,t===0?32:31-(se(t)/De|0)|0}var Me=256,Fe=4194304;function qt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Se(t,r,o){var s=t.pendingLanes;if(s===0)return 0;var d=0,h=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var D=s&134217727;return D!==0?(s=D&~h,s!==0?d=qt(s):(w&=D,w!==0?d=qt(w):o||(o=D&~t,o!==0&&(d=qt(o))))):(D=s&~h,D!==0?d=qt(D):w!==0?d=qt(w):o||(o=s&~t,o!==0&&(d=qt(o)))),d===0?0:r!==0&&r!==d&&(r&h)===0&&(h=d&-d,o=r&-r,h>=o||h===32&&(o&4194048)!==0)?r:d}function zr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ki(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function za(){var t=Me;return Me<<=1,(Me&4194048)===0&&(Me=256),t}function ne(){var t=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),t}function Ne(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function gr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pn(t,r,o,s,d,h){var w=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var D=t.entanglements,X=t.expirationTimes,nt=t.hiddenUpdates;for(o=w&~o;0<o;){var ht=31-At(o),St=1<<ht;D[ht]=0,X[ht]=-1;var st=nt[ht];if(st!==null)for(nt[ht]=null,ht=0;ht<st.length;ht++){var ft=st[ht];ft!==null&&(ft.lane&=-536870913)}o&=~St}s!==0&&Fn(t,s,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(w&~r))}function Fn(t,r,o){t.pendingLanes|=r,t.suspendedLanes&=~r;var s=31-At(r);t.entangledLanes|=r,t.entanglements[s]=t.entanglements[s]|1073741824|o&4194090}function Na(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var s=31-At(o),d=1<<s;d&r|t[s]&r&&(t[s]|=r),o&=~d}}function Zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xl(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Jg(t.type))}function Cl(t,r){var o=W.p;try{return W.p=t,r()}finally{W.p=o}}var ea=Math.random().toString(36).slice(2),We="__reactFiber$"+ea,Ke="__reactProps$"+ea,Ba="__reactContainer$"+ea,Ji="__reactEvents$"+ea,wu="__reactListeners$"+ea,$i="__reactHandles$"+ea,to="__reactResources$"+ea,hn="__reactMarker$"+ea;function eo(t){delete t[We],delete t[Ke],delete t[Ji],delete t[wu],delete t[$i]}function ja(t){var r=t[We];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Ba]||o[We]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Vg(t);t!==null;){if(o=t[We])return o;t=Vg(t)}return r}t=o,o=t.parentNode}return null}function La(t){if(t=t[We]||t[Ba]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function gn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function tt(t){var r=t[to];return r||(r=t[to]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function it(t){t[hn]=!0}var wt=new Set,Tt={};function Mt(t,r){Ut(t,r),Ut(t+"Capture",r)}function Ut(t,r){for(Tt[t]=r,t=0;t<r.length;t++)wt.add(r[t])}var Kt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qt={},Ee={};function Te(t){return Ct.call(Ee,t)?!0:Ct.call(Qt,t)?!1:Kt.test(t)?Ee[t]=!0:(Qt[t]=!0,!1)}function ir(t,r,o){if(Te(r))if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var s=r.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+o)}}function Fr(t,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+o)}}function Nr(t,r,o,s){if(s===null)t.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(r,o,""+s)}}var Au,wv;function Wn(t){if(Au===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Au=r&&r[1]||"",wv=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Au+t+wv}var Mu=!1;function Ou(t,r){if(!t||Mu)return"";Mu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(r){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(ft){var st=ft}Reflect.construct(t,[],St)}else{try{St.call()}catch(ft){st=ft}t.call(St.prototype)}}else{try{throw Error()}catch(ft){st=ft}(St=t())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(ft){if(ft&&st&&typeof ft.stack=="string")return[ft.stack,st.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),w=h[0],D=h[1];if(w&&D){var X=w.split(`
`),nt=D.split(`
`);for(d=s=0;s<X.length&&!X[s].includes("DetermineComponentFrameRoot");)s++;for(;d<nt.length&&!nt[d].includes("DetermineComponentFrameRoot");)d++;if(s===X.length||d===nt.length)for(s=X.length-1,d=nt.length-1;1<=s&&0<=d&&X[s]!==nt[d];)d--;for(;1<=s&&0<=d;s--,d--)if(X[s]!==nt[d]){if(s!==1||d!==1)do if(s--,d--,0>d||X[s]!==nt[d]){var ht=`
`+X[s].replace(" at new "," at ");return t.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",t.displayName)),ht}while(1<=s&&0<=d);break}}}finally{Mu=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Wn(o):""}function cy(t){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return Ou(t.type,!1);case 11:return Ou(t.type.render,!1);case 1:return Ou(t.type,!0);case 31:return Wn("Activity");default:return""}}function Av(t){try{var r="";do r+=cy(t),t=t.return;while(t);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Br(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mv(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fy(t){var r=Mv(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),s=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){s=""+w,h.call(this,w)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(w){s=""+w},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function El(t){t._valueTracker||(t._valueTracker=fy(t))}function Ov(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),s="";return t&&(s=Mv(t)?t.checked?"true":"false":t.value),t=s,t!==o?(r.setValue(t),!0):!1}function Tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dy=/[\n"\\]/g;function jr(t){return t.replace(dy,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ru(t,r,o,s,d,h,w,D){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),r!=null?w==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Br(r)):t.value!==""+Br(r)&&(t.value=""+Br(r)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),r!=null?Du(t,w,Br(r)):o!=null?Du(t,w,Br(o)):s!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.name=""+Br(D):t.removeAttribute("name")}function Rv(t,r,o,s,d,h,w,D){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),r!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||r!=null))return;o=o!=null?""+Br(o):"",r=r!=null?""+Br(r):o,D||r===t.value||(t.value=r),t.defaultValue=r}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=D?t.checked:!!s,t.defaultChecked=!!s,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function Du(t,r,o){r==="number"&&Tl(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Kn(t,r,o,s){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&s&&(t[o].defaultSelected=!0)}else{for(o=""+Br(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,s&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Dv(t,r,o){if(r!=null&&(r=""+Br(r),r!==t.value&&(t.value=r),o==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=o!=null?""+Br(o):""}function _v(t,r,o,s){if(r==null){if(s!=null){if(o!=null)throw Error(i(92));if(G(s)){if(1<s.length)throw Error(i(93));s=s[0]}o=s}o==null&&(o=""),r=o}o=Br(r),t.defaultValue=o,s=t.textContent,s===o&&s!==""&&s!==null&&(t.value=s)}function Zn(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zv(t,r,o){var s=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":s?t.setProperty(r,o):typeof o!="number"||o===0||vy.has(r)?r==="float"?t.cssFloat=o:t[r]=(""+o).trim():t[r]=o+"px"}function Nv(t,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||r!=null&&r.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var d in r)s=r[d],r.hasOwnProperty(d)&&o[d]!==s&&zv(t,d,s)}else for(var h in r)r.hasOwnProperty(h)&&zv(t,h,r[h])}function _u(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var py=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(t){return hy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var zu=null;function Nu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qn=null,Jn=null;function Bv(t){var r=La(t);if(r&&(t=r.stateNode)){var o=t[Ke]||null;t:switch(t=r.stateNode,r.type){case"input":if(Ru(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jr(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var s=o[r];if(s!==t&&s.form===t.form){var d=s[Ke]||null;if(!d)throw Error(i(90));Ru(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)s=o[r],s.form===t.form&&Ov(s)}break t;case"textarea":Dv(t,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Kn(t,!!o.multiple,r,!1)}}}var Bu=!1;function jv(t,r,o){if(Bu)return t(r,o);Bu=!0;try{var s=t(r);return s}finally{if(Bu=!1,(Qn!==null||Jn!==null)&&(cs(),Qn&&(r=Qn,t=Jn,Jn=Qn=null,Bv(r),t)))for(r=0;r<t.length;r++)Bv(t[r])}}function ro(t,r){var o=t.stateNode;if(o===null)return null;var s=o[Ke]||null;if(s===null)return null;o=s[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ju=!1;if(va)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){ju=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{ju=!1}var Va=null,Lu=null,Al=null;function Lv(){if(Al)return Al;var t,r=Lu,o=r.length,s,d="value"in Va?Va.value:Va.textContent,h=d.length;for(t=0;t<o&&r[t]===d[t];t++);var w=o-t;for(s=1;s<=w&&r[o-s]===d[h-s];s++);return Al=d.slice(t,1<s?1-s:void 0)}function Ml(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ol(){return!0}function Vv(){return!1}function mr(t){function r(o,s,d,h,w){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var D in t)t.hasOwnProperty(D)&&(o=t[D],this[D]=o?o(h):h[D]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ol:Vv,this.isPropagationStopped=Vv,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),r}var mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=mr(mn),no=g({},mn,{view:0,detail:0}),gy=mr(no),Vu,Gu,io,Dl=g({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==io&&(io&&t.type==="mousemove"?(Vu=t.screenX-io.screenX,Gu=t.screenY-io.screenY):Gu=Vu=0,io=t),Vu)},movementY:function(t){return"movementY"in t?t.movementY:Gu}}),Gv=mr(Dl),my=g({},Dl,{dataTransfer:0}),yy=mr(my),by=g({},no,{relatedTarget:0}),ku=mr(by),Sy=g({},mn,{animationName:0,elapsedTime:0,pseudoElement:0}),xy=mr(Sy),Cy=g({},mn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ey=mr(Cy),Ty=g({},mn,{data:0}),kv=mr(Ty),wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},My={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oy(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=My[t])?!!r[t]:!1}function Hu(){return Oy}var Ry=g({},no,{key:function(t){if(t.key){var r=wy[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ay[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(t){return t.type==="keypress"?Ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dy=mr(Ry),_y=g({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hv=mr(_y),zy=g({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),Ny=mr(zy),By=g({},mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),jy=mr(By),Ly=g({},Dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vy=mr(Ly),Gy=g({},mn,{newState:0,oldState:0}),ky=mr(Gy),Hy=[9,13,27,32],Uu=va&&"CompositionEvent"in window,oo=null;va&&"documentMode"in document&&(oo=document.documentMode);var Uy=va&&"TextEvent"in window&&!oo,Uv=va&&(!Uu||oo&&8<oo&&11>=oo),Xv=" ",Iv=!1;function qv(t,r){switch(t){case"keyup":return Hy.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function Xy(t,r){switch(t){case"compositionend":return Yv(r);case"keypress":return r.which!==32?null:(Iv=!0,Xv);case"textInput":return t=r.data,t===Xv&&Iv?null:t;default:return null}}function Iy(t,r){if($n)return t==="compositionend"||!Uu&&qv(t,r)?(t=Lv(),Al=Lu=Va=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Uv&&r.locale!=="ko"?null:r.data;default:return null}}var qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pv(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!qy[t.type]:r==="textarea"}function Fv(t,r,o,s){Qn?Jn?Jn.push(s):Jn=[s]:Qn=s,r=gs(r,"onChange"),0<r.length&&(o=new Rl("onChange","change",null,o,s),t.push({event:o,listeners:r}))}var lo=null,so=null;function Yy(t){Mg(t,0)}function _l(t){var r=gn(t);if(Ov(r))return t}function Wv(t,r){if(t==="change")return r}var Kv=!1;if(va){var Xu;if(va){var Iu="oninput"in document;if(!Iu){var Zv=document.createElement("div");Zv.setAttribute("oninput","return;"),Iu=typeof Zv.oninput=="function"}Xu=Iu}else Xu=!1;Kv=Xu&&(!document.documentMode||9<document.documentMode)}function Qv(){lo&&(lo.detachEvent("onpropertychange",Jv),so=lo=null)}function Jv(t){if(t.propertyName==="value"&&_l(so)){var r=[];Fv(r,so,t,Nu(t)),jv(Yy,r)}}function Py(t,r,o){t==="focusin"?(Qv(),lo=r,so=o,lo.attachEvent("onpropertychange",Jv)):t==="focusout"&&Qv()}function Fy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _l(so)}function Wy(t,r){if(t==="click")return _l(r)}function Ky(t,r){if(t==="input"||t==="change")return _l(r)}function Zy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Er=typeof Object.is=="function"?Object.is:Zy;function uo(t,r){if(Er(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!Ct.call(r,d)||!Er(t[d],r[d]))return!1}return!0}function $v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tp(t,r){var o=$v(t);t=0;for(var s;o;){if(o.nodeType===3){if(s=t+o.textContent.length,t<=r&&s>=r)return{node:o,offset:r-t};t=s}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=$v(o)}}function ep(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ep(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function rp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Tl(t.document);r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Tl(t.document)}return r}function qu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Qy=va&&"documentMode"in document&&11>=document.documentMode,ti=null,Yu=null,co=null,Pu=!1;function ap(t,r,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pu||ti==null||ti!==Tl(s)||(s=ti,"selectionStart"in s&&qu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),co&&uo(co,s)||(co=s,s=gs(Yu,"onSelect"),0<s.length&&(r=new Rl("onSelect","select",null,r,o),t.push({event:r,listeners:s}),r.target=ti)))}function yn(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ei={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionrun:yn("Transition","TransitionRun"),transitionstart:yn("Transition","TransitionStart"),transitioncancel:yn("Transition","TransitionCancel"),transitionend:yn("Transition","TransitionEnd")},Fu={},np={};va&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function bn(t){if(Fu[t])return Fu[t];if(!ei[t])return t;var r=ei[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in np)return Fu[t]=r[o];return t}var ip=bn("animationend"),op=bn("animationiteration"),lp=bn("animationstart"),Jy=bn("transitionrun"),$y=bn("transitionstart"),tb=bn("transitioncancel"),sp=bn("transitionend"),up=new Map,Wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wu.push("scrollEnd");function Wr(t,r){up.set(t,r),Mt(r,[t])}var cp=new WeakMap;function Lr(t,r){if(typeof t=="object"&&t!==null){var o=cp.get(t);return o!==void 0?o:(r={value:t,source:r,stack:Av(r)},cp.set(t,r),r)}return{value:t,source:r,stack:Av(r)}}var Vr=[],ri=0,Ku=0;function zl(){for(var t=ri,r=Ku=ri=0;r<t;){var o=Vr[r];Vr[r++]=null;var s=Vr[r];Vr[r++]=null;var d=Vr[r];Vr[r++]=null;var h=Vr[r];if(Vr[r++]=null,s!==null&&d!==null){var w=s.pending;w===null?d.next=d:(d.next=w.next,w.next=d),s.pending=d}h!==0&&fp(o,d,h)}}function Nl(t,r,o,s){Vr[ri++]=t,Vr[ri++]=r,Vr[ri++]=o,Vr[ri++]=s,Ku|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Zu(t,r,o,s){return Nl(t,r,o,s),Bl(t)}function ai(t,r){return Nl(t,null,null,r),Bl(t)}function fp(t,r,o){t.lanes|=o;var s=t.alternate;s!==null&&(s.lanes|=o);for(var d=!1,h=t.return;h!==null;)h.childLanes|=o,s=h.alternate,s!==null&&(s.childLanes|=o),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&r!==null&&(d=31-At(o),t=h.hiddenUpdates,s=t[d],s===null?t[d]=[r]:s.push(r),r.lane=o|536870912),h):null}function Bl(t){if(50<Lo)throw Lo=0,rf=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ni={};function eb(t,r,o,s){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(t,r,o,s){return new eb(t,r,o,s)}function Qu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pa(t,r){var o=t.alternate;return o===null?(o=Tr(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function dp(t,r){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,r=o.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function jl(t,r,o,s,d,h){var w=0;if(s=t,typeof t=="function")Qu(t)&&(w=1);else if(typeof t=="string")w=aS(t,o,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case j:return t=Tr(31,o,r,d),t.elementType=j,t.lanes=h,t;case x:return Sn(o.children,d,h,r);case S:w=8,d|=24;break;case C:return t=Tr(12,o,r,d|2),t.elementType=C,t.lanes=h,t;case R:return t=Tr(13,o,r,d),t.elementType=R,t.lanes=h,t;case _:return t=Tr(19,o,r,d),t.elementType=_,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case A:w=10;break t;case M:w=9;break t;case O:w=11;break t;case N:w=14;break t;case z:w=16,s=null;break t}w=29,o=Error(i(130,t===null?"null":typeof t,"")),s=null}return r=Tr(w,o,r,d),r.elementType=t,r.type=s,r.lanes=h,r}function Sn(t,r,o,s){return t=Tr(7,t,s,r),t.lanes=o,t}function Ju(t,r,o){return t=Tr(6,t,null,r),t.lanes=o,t}function $u(t,r,o){return r=Tr(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ii=[],oi=0,Ll=null,Vl=0,Gr=[],kr=0,xn=null,ha=1,ga="";function Cn(t,r){ii[oi++]=Vl,ii[oi++]=Ll,Ll=t,Vl=r}function vp(t,r,o){Gr[kr++]=ha,Gr[kr++]=ga,Gr[kr++]=xn,xn=t;var s=ha;t=ga;var d=32-At(s)-1;s&=~(1<<d),o+=1;var h=32-At(r)+d;if(30<h){var w=d-d%5;h=(s&(1<<w)-1).toString(32),s>>=w,d-=w,ha=1<<32-At(r)+d|o<<d|s,ga=h+t}else ha=1<<h|o<<d|s,ga=t}function tc(t){t.return!==null&&(Cn(t,1),vp(t,1,0))}function ec(t){for(;t===Ll;)Ll=ii[--oi],ii[oi]=null,Vl=ii[--oi],ii[oi]=null;for(;t===xn;)xn=Gr[--kr],Gr[kr]=null,ga=Gr[--kr],Gr[kr]=null,ha=Gr[--kr],Gr[kr]=null}var cr=null,Be=null,oe=!1,En=null,ra=!1,rc=Error(i(519));function Tn(t){var r=Error(i(418,""));throw po(Lr(r,t)),rc}function pp(t){var r=t.stateNode,o=t.type,s=t.memoizedProps;switch(r[We]=t,r[Ke]=s,o){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(o=0;o<Go.length;o++)ee(Go[o],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":ee("invalid",r),Rv(r,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),El(r);break;case"select":ee("invalid",r);break;case"textarea":ee("invalid",r),_v(r,s.value,s.defaultValue,s.children),El(r)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||s.suppressHydrationWarning===!0||_g(r.textContent,o)?(s.popover!=null&&(ee("beforetoggle",r),ee("toggle",r)),s.onScroll!=null&&ee("scroll",r),s.onScrollEnd!=null&&ee("scrollend",r),s.onClick!=null&&(r.onclick=ms),r=!0):r=!1,r||Tn(t)}function hp(t){for(cr=t.return;cr;)switch(cr.tag){case 5:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:cr=cr.return}}function fo(t){if(t!==cr)return!1;if(!oe)return hp(t),oe=!0,!1;var r=t.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||bf(t.type,t.memoizedProps)),o=!o),o&&Be&&Tn(t),hp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));t:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(r===0){Be=Zr(t.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;t=t.nextSibling}Be=null}}else r===27?(r=Be,$a(t.type)?(t=Ef,Ef=null,Be=t):Be=r):Be=cr?Zr(t.stateNode.nextSibling):null;return!0}function vo(){Be=cr=null,oe=!1}function gp(){var t=En;return t!==null&&(Sr===null?Sr=t:Sr.push.apply(Sr,t),En=null),t}function po(t){En===null?En=[t]:En.push(t)}var ac=I(null),wn=null,ma=null;function Ga(t,r,o){et(ac,r._currentValue),r._currentValue=o}function ya(t){t._currentValue=ac.current,lt(ac)}function nc(t,r,o){for(;t!==null;){var s=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),t===o)break;t=t.return}}function ic(t,r,o,s){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var w=d.child;h=h.firstContext;t:for(;h!==null;){var D=h;h=d;for(var X=0;X<r.length;X++)if(D.context===r[X]){h.lanes|=o,D=h.alternate,D!==null&&(D.lanes|=o),nc(h.return,o,t),s||(w=null);break t}h=D.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=o,h=w.alternate,h!==null&&(h.lanes|=o),nc(w,o,t),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===t){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function ho(t,r,o,s){t=null;for(var d=r,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var D=d.type;Er(d.pendingProps.value,w.value)||(t!==null?t.push(D):t=[D])}}else if(d===Z.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(qo):t=[qo])}d=d.return}t!==null&&ic(r,t,o,s),r.flags|=262144}function Gl(t){for(t=t.firstContext;t!==null;){if(!Er(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function An(t){wn=t,ma=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function or(t){return mp(wn,t)}function kl(t,r){return wn===null&&An(t),mp(t,r)}function mp(t,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ma===null){if(t===null)throw Error(i(308));ma=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ma=ma.next=r;return o}var rb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(o,s){t.push(s)}};this.abort=function(){r.aborted=!0,t.forEach(function(o){return o()})}},ab=e.unstable_scheduleCallback,nb=e.unstable_NormalPriority,Ie={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new rb,data:new Map,refCount:0}}function go(t){t.refCount--,t.refCount===0&&ab(nb,function(){t.controller.abort()})}var mo=null,lc=0,li=0,si=null;function ib(t,r){if(mo===null){var o=mo=[];lc=0,li=cf(),si={status:"pending",value:void 0,then:function(s){o.push(s)}}}return lc++,r.then(yp,yp),r}function yp(){if(--lc===0&&mo!==null){si!==null&&(si.status="fulfilled");var t=mo;mo=null,li=0,si=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ob(t,r){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return t.then(function(){s.status="fulfilled",s.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var bp=V.S;V.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ib(t,r),bp!==null&&bp(t,r)};var Mn=I(null);function sc(){var t=Mn.current;return t!==null?t:we.pooledCache}function Hl(t,r){r===null?et(Mn,Mn.current):et(Mn,r.pool)}function Sp(){var t=sc();return t===null?null:{parent:Ie._currentValue,pool:t}}var yo=Error(i(460)),xp=Error(i(474)),Ul=Error(i(542)),uc={then:function(){}};function Cp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xl(){}function Ep(t,r,o){switch(o=t[o],o===void 0?t.push(r):o!==r&&(r.then(Xl,Xl),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wp(t),t;default:if(typeof r.status=="string")r.then(Xl,Xl);else{if(t=we,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(s){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=s}},function(s){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=s}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,wp(t),t}throw bo=r,yo}}var bo=null;function Tp(){if(bo===null)throw Error(i(459));var t=bo;return bo=null,t}function wp(t){if(t===yo||t===Ul)throw Error(i(483))}var ka=!1;function cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fc(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(t,r,o){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(ue&2)!==0){var d=s.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),s.pending=r,r=Bl(t),fp(t,null,o),r}return Nl(t,s,r,o),Bl(t)}function So(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var s=r.lanes;s&=t.pendingLanes,o|=s,r.lanes=o,Na(t,o)}}function dc(t,r){var o=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=w:h=h.next=w,o=o.next}while(o!==null);h===null?d=h=r:h=h.next=r}else d=h=r;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}var vc=!1;function xo(){if(vc){var t=si;if(t!==null)throw t}}function Co(t,r,o,s){vc=!1;var d=t.updateQueue;ka=!1;var h=d.firstBaseUpdate,w=d.lastBaseUpdate,D=d.shared.pending;if(D!==null){d.shared.pending=null;var X=D,nt=X.next;X.next=null,w===null?h=nt:w.next=nt,w=X;var ht=t.alternate;ht!==null&&(ht=ht.updateQueue,D=ht.lastBaseUpdate,D!==w&&(D===null?ht.firstBaseUpdate=nt:D.next=nt,ht.lastBaseUpdate=X))}if(h!==null){var St=d.baseState;w=0,ht=nt=X=null,D=h;do{var st=D.lane&-536870913,ft=st!==D.lane;if(ft?(re&st)===st:(s&st)===st){st!==0&&st===li&&(vc=!0),ht!==null&&(ht=ht.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var Ht=t,Gt=D;st=r;var he=o;switch(Gt.tag){case 1:if(Ht=Gt.payload,typeof Ht=="function"){St=Ht.call(he,St,st);break t}St=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Gt.payload,st=typeof Ht=="function"?Ht.call(he,St,st):Ht,st==null)break t;St=g({},St,st);break t;case 2:ka=!0}}st=D.callback,st!==null&&(t.flags|=64,ft&&(t.flags|=8192),ft=d.callbacks,ft===null?d.callbacks=[st]:ft.push(st))}else ft={lane:st,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ht===null?(nt=ht=ft,X=St):ht=ht.next=ft,w|=st;if(D=D.next,D===null){if(D=d.shared.pending,D===null)break;ft=D,D=ft.next,ft.next=null,d.lastBaseUpdate=ft,d.shared.pending=null}}while(!0);ht===null&&(X=St),d.baseState=X,d.firstBaseUpdate=nt,d.lastBaseUpdate=ht,h===null&&(d.shared.lanes=0),Ka|=w,t.lanes=w,t.memoizedState=St}}function Ap(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Mp(t,r){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Ap(o[t],r)}var ui=I(null),Il=I(0);function Op(t,r){t=wa,et(Il,t),et(ui,r),wa=t|r.baseLanes}function pc(){et(Il,wa),et(ui,ui.current)}function hc(){wa=Il.current,lt(ui),lt(Il)}var Xa=0,Jt=null,ve=null,ke=null,ql=!1,ci=!1,On=!1,Yl=0,Eo=0,fi=null,lb=0;function Le(){throw Error(i(321))}function gc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Er(t[o],r[o]))return!1;return!0}function mc(t,r,o,s,d,h){return Xa=h,Jt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,V.H=t===null||t.memoizedState===null?fh:dh,On=!1,h=o(s,d),On=!1,ci&&(h=Dp(r,o,s,d)),Rp(t),h}function Rp(t){V.H=Ql;var r=ve!==null&&ve.next!==null;if(Xa=0,ke=ve=Jt=null,ql=!1,Eo=0,fi=null,r)throw Error(i(300));t===null||Ze||(t=t.dependencies,t!==null&&Gl(t)&&(Ze=!0))}function Dp(t,r,o,s){Jt=t;var d=0;do{if(ci&&(fi=null),Eo=0,ci=!1,25<=d)throw Error(i(301));if(d+=1,ke=ve=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}V.H=pb,h=r(o,s)}while(ci);return h}function sb(){var t=V.H,r=t.useState()[0];return r=typeof r.then=="function"?To(r):r,t=t.useState()[0],(ve!==null?ve.memoizedState:null)!==t&&(Jt.flags|=1024),r}function yc(){var t=Yl!==0;return Yl=0,t}function bc(t,r,o){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~o}function Sc(t){if(ql){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ql=!1}Xa=0,ke=ve=Jt=null,ci=!1,Eo=Yl=0,fi=null}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Jt.memoizedState=ke=t:ke=ke.next=t,ke}function He(){if(ve===null){var t=Jt.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var r=ke===null?Jt.memoizedState:ke.next;if(r!==null)ke=r,ve=t;else{if(t===null)throw Jt.alternate===null?Error(i(467)):Error(i(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},ke===null?Jt.memoizedState=ke=t:ke=ke.next=t}return ke}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function To(t){var r=Eo;return Eo+=1,fi===null&&(fi=[]),t=Ep(fi,t,r),r=Jt,(ke===null?r.memoizedState:ke.next)===null&&(r=r.alternate,V.H=r===null||r.memoizedState===null?fh:dh),t}function Pl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return To(t);if(t.$$typeof===A)return or(t)}throw Error(i(438,String(t)))}function Cc(t){var r=null,o=Jt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var s=Jt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(r={data:s.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=xc(),Jt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(t),s=0;s<t;s++)o[s]=H;return r.index++,o}function ba(t,r){return typeof r=="function"?r(t):r}function Fl(t){var r=He();return Ec(r,ve,t)}function Ec(t,r,o){var s=t.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=o;var d=t.baseQueue,h=s.pending;if(h!==null){if(d!==null){var w=d.next;d.next=h.next,h.next=w}r.baseQueue=d=h,s.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{r=d.next;var D=w=null,X=null,nt=r,ht=!1;do{var St=nt.lane&-536870913;if(St!==nt.lane?(re&St)===St:(Xa&St)===St){var st=nt.revertLane;if(st===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),St===li&&(ht=!0);else if((Xa&st)===st){nt=nt.next,st===li&&(ht=!0);continue}else St={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},X===null?(D=X=St,w=h):X=X.next=St,Jt.lanes|=st,Ka|=st;St=nt.action,On&&o(h,St),h=nt.hasEagerState?nt.eagerState:o(h,St)}else st={lane:St,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},X===null?(D=X=st,w=h):X=X.next=st,Jt.lanes|=St,Ka|=St;nt=nt.next}while(nt!==null&&nt!==r);if(X===null?w=h:X.next=D,!Er(h,t.memoizedState)&&(Ze=!0,ht&&(o=si,o!==null)))throw o;t.memoizedState=h,t.baseState=w,t.baseQueue=X,s.lastRenderedState=h}return d===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Tc(t){var r=He(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var s=o.dispatch,d=o.pending,h=r.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do h=t(h,w.action),w=w.next;while(w!==d);Er(h,r.memoizedState)||(Ze=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),o.lastRenderedState=h}return[h,s]}function _p(t,r,o){var s=Jt,d=He(),h=oe;if(h){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!Er((ve||d).memoizedState,o);w&&(d.memoizedState=o,Ze=!0),d=d.queue;var D=Bp.bind(null,s,d,t);if(wo(2048,8,D,[t]),d.getSnapshot!==r||w||ke!==null&&ke.memoizedState.tag&1){if(s.flags|=2048,di(9,Wl(),Np.bind(null,s,d,o,r),null),we===null)throw Error(i(349));h||(Xa&124)!==0||zp(s,r,o)}return o}function zp(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Jt.updateQueue,r===null?(r=xc(),Jt.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Np(t,r,o,s){r.value=o,r.getSnapshot=s,jp(r)&&Lp(t)}function Bp(t,r,o){return o(function(){jp(r)&&Lp(t)})}function jp(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Er(t,o)}catch{return!0}}function Lp(t){var r=ai(t,2);r!==null&&Rr(r,t,2)}function wc(t){var r=yr();if(typeof t=="function"){var o=t;if(t=o(),On){mt(!0);try{o()}finally{mt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},r}function Vp(t,r,o,s){return t.baseState=o,Ec(t,ve,typeof s=="function"?s:ba)}function ub(t,r,o,s,d){if(Zl(t))throw Error(i(485));if(t=r.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){h.listeners.push(w)}};V.T!==null?o(!0):h.isTransition=!1,s(h),o=r.pending,o===null?(h.next=r.pending=h,Gp(r,h)):(h.next=o.next,r.pending=o.next=h)}}function Gp(t,r){var o=r.action,s=r.payload,d=t.state;if(r.isTransition){var h=V.T,w={};V.T=w;try{var D=o(d,s),X=V.S;X!==null&&X(w,D),kp(t,r,D)}catch(nt){Ac(t,r,nt)}finally{V.T=h}}else try{h=o(d,s),kp(t,r,h)}catch(nt){Ac(t,r,nt)}}function kp(t,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Hp(t,r,s)},function(s){return Ac(t,r,s)}):Hp(t,r,o)}function Hp(t,r,o){r.status="fulfilled",r.value=o,Up(r),t.state=o,r=t.pending,r!==null&&(o=r.next,o===r?t.pending=null:(o=o.next,r.next=o,Gp(t,o)))}function Ac(t,r,o){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do r.status="rejected",r.reason=o,Up(r),r=r.next;while(r!==s)}t.action=null}function Up(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Xp(t,r){return r}function Ip(t,r){if(oe){var o=we.formState;if(o!==null){t:{var s=Jt;if(oe){if(Be){e:{for(var d=Be,h=ra;d.nodeType!==8;){if(!h){d=null;break e}if(d=Zr(d.nextSibling),d===null){d=null;break e}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Be=Zr(d.nextSibling),s=d.data==="F!";break t}}Tn(s)}s=!1}s&&(r=o[0])}}return o=yr(),o.memoizedState=o.baseState=r,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:r},o.queue=s,o=sh.bind(null,Jt,s),s.dispatch=o,s=wc(!1),h=_c.bind(null,Jt,!1,s.queue),s=yr(),d={state:r,dispatch:null,action:t,pending:null},s.queue=d,o=ub.bind(null,Jt,d,h,o),d.dispatch=o,s.memoizedState=t,[r,o,!1]}function qp(t){var r=He();return Yp(r,ve,t)}function Yp(t,r,o){if(r=Ec(t,r,Xp)[0],t=Fl(ba)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var s=To(r)}catch(w){throw w===yo?Ul:w}else s=r;r=He();var d=r.queue,h=d.dispatch;return o!==r.memoizedState&&(Jt.flags|=2048,di(9,Wl(),cb.bind(null,d,o),null)),[s,h,t]}function cb(t,r){t.action=r}function Pp(t){var r=He(),o=ve;if(o!==null)return Yp(r,o,t);He(),r=r.memoizedState,o=He();var s=o.queue.dispatch;return o.memoizedState=t,[r,s,!1]}function di(t,r,o,s){return t={tag:t,create:o,deps:s,inst:r,next:null},r=Jt.updateQueue,r===null&&(r=xc(),Jt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=t.next=t:(s=o.next,o.next=t,t.next=s,r.lastEffect=t),t}function Wl(){return{destroy:void 0,resource:void 0}}function Fp(){return He().memoizedState}function Kl(t,r,o,s){var d=yr();s=s===void 0?null:s,Jt.flags|=t,d.memoizedState=di(1|r,Wl(),o,s)}function wo(t,r,o,s){var d=He();s=s===void 0?null:s;var h=d.memoizedState.inst;ve!==null&&s!==null&&gc(s,ve.memoizedState.deps)?d.memoizedState=di(r,h,o,s):(Jt.flags|=t,d.memoizedState=di(1|r,h,o,s))}function Wp(t,r){Kl(8390656,8,t,r)}function Kp(t,r){wo(2048,8,t,r)}function Zp(t,r){return wo(4,2,t,r)}function Qp(t,r){return wo(4,4,t,r)}function Jp(t,r){if(typeof r=="function"){t=t();var o=r(t);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function $p(t,r,o){o=o!=null?o.concat([t]):null,wo(4,4,Jp.bind(null,r,t),o)}function Mc(){}function th(t,r){var o=He();r=r===void 0?null:r;var s=o.memoizedState;return r!==null&&gc(r,s[1])?s[0]:(o.memoizedState=[t,r],t)}function eh(t,r){var o=He();r=r===void 0?null:r;var s=o.memoizedState;if(r!==null&&gc(r,s[1]))return s[0];if(s=t(),On){mt(!0);try{t()}finally{mt(!1)}}return o.memoizedState=[s,r],s}function Oc(t,r,o){return o===void 0||(Xa&1073741824)!==0?t.memoizedState=r:(t.memoizedState=o,t=ng(),Jt.lanes|=t,Ka|=t,o)}function rh(t,r,o,s){return Er(o,r)?o:ui.current!==null?(t=Oc(t,o,s),Er(t,r)||(Ze=!0),t):(Xa&42)===0?(Ze=!0,t.memoizedState=o):(t=ng(),Jt.lanes|=t,Ka|=t,r)}function ah(t,r,o,s,d){var h=W.p;W.p=h!==0&&8>h?h:8;var w=V.T,D={};V.T=D,_c(t,!1,r,o);try{var X=d(),nt=V.S;if(nt!==null&&nt(D,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ht=ob(X,s);Ao(t,r,ht,Or(t))}else Ao(t,r,s,Or(t))}catch(St){Ao(t,r,{then:function(){},status:"rejected",reason:St},Or())}finally{W.p=h,V.T=w}}function fb(){}function Rc(t,r,o,s){if(t.tag!==5)throw Error(i(476));var d=nh(t).queue;ah(t,d,r,Q,o===null?fb:function(){return ih(t),o(s)})}function nh(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:Q},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:o},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function ih(t){var r=nh(t).next.queue;Ao(t,r,{},Or())}function Dc(){return or(qo)}function oh(){return He().memoizedState}function lh(){return He().memoizedState}function db(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var o=Or();t=Ha(o);var s=Ua(r,t,o);s!==null&&(Rr(s,r,o),So(s,r,o)),r={cache:oc()},t.payload=r;return}r=r.return}}function vb(t,r,o){var s=Or();o={lane:s,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Zl(t)?uh(r,o):(o=Zu(t,r,o,s),o!==null&&(Rr(o,t,s),ch(o,r,s)))}function sh(t,r,o){var s=Or();Ao(t,r,o,s)}function Ao(t,r,o,s){var d={lane:s,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zl(t))uh(r,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var w=r.lastRenderedState,D=h(w,o);if(d.hasEagerState=!0,d.eagerState=D,Er(D,w))return Nl(t,r,d,0),we===null&&zl(),!1}catch{}finally{}if(o=Zu(t,r,d,s),o!==null)return Rr(o,t,s),ch(o,r,s),!0}return!1}function _c(t,r,o,s){if(s={lane:2,revertLane:cf(),action:s,hasEagerState:!1,eagerState:null,next:null},Zl(t)){if(r)throw Error(i(479))}else r=Zu(t,o,s,2),r!==null&&Rr(r,t,2)}function Zl(t){var r=t.alternate;return t===Jt||r!==null&&r===Jt}function uh(t,r){ci=ql=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ch(t,r,o){if((o&4194048)!==0){var s=r.lanes;s&=t.pendingLanes,o|=s,r.lanes=o,Na(t,o)}}var Ql={readContext:or,use:Pl,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le},fh={readContext:or,use:Pl,useCallback:function(t,r){return yr().memoizedState=[t,r===void 0?null:r],t},useContext:or,useEffect:Wp,useImperativeHandle:function(t,r,o){o=o!=null?o.concat([t]):null,Kl(4194308,4,Jp.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Kl(4194308,4,t,r)},useInsertionEffect:function(t,r){Kl(4,2,t,r)},useMemo:function(t,r){var o=yr();r=r===void 0?null:r;var s=t();if(On){mt(!0);try{t()}finally{mt(!1)}}return o.memoizedState=[s,r],s},useReducer:function(t,r,o){var s=yr();if(o!==void 0){var d=o(r);if(On){mt(!0);try{o(r)}finally{mt(!1)}}}else d=r;return s.memoizedState=s.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},s.queue=t,t=t.dispatch=vb.bind(null,Jt,t),[s.memoizedState,t]},useRef:function(t){var r=yr();return t={current:t},r.memoizedState=t},useState:function(t){t=wc(t);var r=t.queue,o=sh.bind(null,Jt,r);return r.dispatch=o,[t.memoizedState,o]},useDebugValue:Mc,useDeferredValue:function(t,r){var o=yr();return Oc(o,t,r)},useTransition:function(){var t=wc(!1);return t=ah.bind(null,Jt,t.queue,!0,!1),yr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,o){var s=Jt,d=yr();if(oe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),we===null)throw Error(i(349));(re&124)!==0||zp(s,r,o)}d.memoizedState=o;var h={value:o,getSnapshot:r};return d.queue=h,Wp(Bp.bind(null,s,h,t),[t]),s.flags|=2048,di(9,Wl(),Np.bind(null,s,h,o,r),null),o},useId:function(){var t=yr(),r=we.identifierPrefix;if(oe){var o=ga,s=ha;o=(s&~(1<<32-At(s)-1)).toString(32)+o,r=""+r+"R"+o,o=Yl++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=lb++,r=""+r+"r"+o.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Dc,useFormState:Ip,useActionState:Ip,useOptimistic:function(t){var r=yr();r.memoizedState=r.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=_c.bind(null,Jt,!0,o),o.dispatch=r,[t,r]},useMemoCache:Cc,useCacheRefresh:function(){return yr().memoizedState=db.bind(null,Jt)}},dh={readContext:or,use:Pl,useCallback:th,useContext:or,useEffect:Kp,useImperativeHandle:$p,useInsertionEffect:Zp,useLayoutEffect:Qp,useMemo:eh,useReducer:Fl,useRef:Fp,useState:function(){return Fl(ba)},useDebugValue:Mc,useDeferredValue:function(t,r){var o=He();return rh(o,ve.memoizedState,t,r)},useTransition:function(){var t=Fl(ba)[0],r=He().memoizedState;return[typeof t=="boolean"?t:To(t),r]},useSyncExternalStore:_p,useId:oh,useHostTransitionStatus:Dc,useFormState:qp,useActionState:qp,useOptimistic:function(t,r){var o=He();return Vp(o,ve,t,r)},useMemoCache:Cc,useCacheRefresh:lh},pb={readContext:or,use:Pl,useCallback:th,useContext:or,useEffect:Kp,useImperativeHandle:$p,useInsertionEffect:Zp,useLayoutEffect:Qp,useMemo:eh,useReducer:Tc,useRef:Fp,useState:function(){return Tc(ba)},useDebugValue:Mc,useDeferredValue:function(t,r){var o=He();return ve===null?Oc(o,t,r):rh(o,ve.memoizedState,t,r)},useTransition:function(){var t=Tc(ba)[0],r=He().memoizedState;return[typeof t=="boolean"?t:To(t),r]},useSyncExternalStore:_p,useId:oh,useHostTransitionStatus:Dc,useFormState:Pp,useActionState:Pp,useOptimistic:function(t,r){var o=He();return ve!==null?Vp(o,ve,t,r):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Cc,useCacheRefresh:lh},vi=null,Mo=0;function Jl(t){var r=Mo;return Mo+=1,vi===null&&(vi=[]),Ep(vi,t,r)}function Oo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function $l(t,r){throw r.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function vh(t){var r=t._init;return r(t._payload)}function ph(t){function r(J,K){if(t){var at=J.deletions;at===null?(J.deletions=[K],J.flags|=16):at.push(K)}}function o(J,K){if(!t)return null;for(;K!==null;)r(J,K),K=K.sibling;return null}function s(J){for(var K=new Map;J!==null;)J.key!==null?K.set(J.key,J):K.set(J.index,J),J=J.sibling;return K}function d(J,K){return J=pa(J,K),J.index=0,J.sibling=null,J}function h(J,K,at){return J.index=at,t?(at=J.alternate,at!==null?(at=at.index,at<K?(J.flags|=67108866,K):at):(J.flags|=67108866,K)):(J.flags|=1048576,K)}function w(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function D(J,K,at,yt){return K===null||K.tag!==6?(K=Ju(at,J.mode,yt),K.return=J,K):(K=d(K,at),K.return=J,K)}function X(J,K,at,yt){var Nt=at.type;return Nt===x?ht(J,K,at.props.children,yt,at.key):K!==null&&(K.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===z&&vh(Nt)===K.type)?(K=d(K,at.props),Oo(K,at),K.return=J,K):(K=jl(at.type,at.key,at.props,null,J.mode,yt),Oo(K,at),K.return=J,K)}function nt(J,K,at,yt){return K===null||K.tag!==4||K.stateNode.containerInfo!==at.containerInfo||K.stateNode.implementation!==at.implementation?(K=$u(at,J.mode,yt),K.return=J,K):(K=d(K,at.children||[]),K.return=J,K)}function ht(J,K,at,yt,Nt){return K===null||K.tag!==7?(K=Sn(at,J.mode,yt,Nt),K.return=J,K):(K=d(K,at),K.return=J,K)}function St(J,K,at){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Ju(""+K,J.mode,at),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case m:return at=jl(K.type,K.key,K.props,null,J.mode,at),Oo(at,K),at.return=J,at;case b:return K=$u(K,J.mode,at),K.return=J,K;case z:var yt=K._init;return K=yt(K._payload),St(J,K,at)}if(G(K)||q(K))return K=Sn(K,J.mode,at,null),K.return=J,K;if(typeof K.then=="function")return St(J,Jl(K),at);if(K.$$typeof===A)return St(J,kl(J,K),at);$l(J,K)}return null}function st(J,K,at,yt){var Nt=K!==null?K.key:null;if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Nt!==null?null:D(J,K,""+at,yt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case m:return at.key===Nt?X(J,K,at,yt):null;case b:return at.key===Nt?nt(J,K,at,yt):null;case z:return Nt=at._init,at=Nt(at._payload),st(J,K,at,yt)}if(G(at)||q(at))return Nt!==null?null:ht(J,K,at,yt,null);if(typeof at.then=="function")return st(J,K,Jl(at),yt);if(at.$$typeof===A)return st(J,K,kl(J,at),yt);$l(J,at)}return null}function ft(J,K,at,yt,Nt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return J=J.get(at)||null,D(K,J,""+yt,Nt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case m:return J=J.get(yt.key===null?at:yt.key)||null,X(K,J,yt,Nt);case b:return J=J.get(yt.key===null?at:yt.key)||null,nt(K,J,yt,Nt);case z:var $t=yt._init;return yt=$t(yt._payload),ft(J,K,at,yt,Nt)}if(G(yt)||q(yt))return J=J.get(at)||null,ht(K,J,yt,Nt,null);if(typeof yt.then=="function")return ft(J,K,at,Jl(yt),Nt);if(yt.$$typeof===A)return ft(J,K,at,kl(K,yt),Nt);$l(K,yt)}return null}function Ht(J,K,at,yt){for(var Nt=null,$t=null,jt=K,kt=K=0,Je=null;jt!==null&&kt<at.length;kt++){jt.index>kt?(Je=jt,jt=null):Je=jt.sibling;var ie=st(J,jt,at[kt],yt);if(ie===null){jt===null&&(jt=Je);break}t&&jt&&ie.alternate===null&&r(J,jt),K=h(ie,K,kt),$t===null?Nt=ie:$t.sibling=ie,$t=ie,jt=Je}if(kt===at.length)return o(J,jt),oe&&Cn(J,kt),Nt;if(jt===null){for(;kt<at.length;kt++)jt=St(J,at[kt],yt),jt!==null&&(K=h(jt,K,kt),$t===null?Nt=jt:$t.sibling=jt,$t=jt);return oe&&Cn(J,kt),Nt}for(jt=s(jt);kt<at.length;kt++)Je=ft(jt,J,kt,at[kt],yt),Je!==null&&(t&&Je.alternate!==null&&jt.delete(Je.key===null?kt:Je.key),K=h(Je,K,kt),$t===null?Nt=Je:$t.sibling=Je,$t=Je);return t&&jt.forEach(function(nn){return r(J,nn)}),oe&&Cn(J,kt),Nt}function Gt(J,K,at,yt){if(at==null)throw Error(i(151));for(var Nt=null,$t=null,jt=K,kt=K=0,Je=null,ie=at.next();jt!==null&&!ie.done;kt++,ie=at.next()){jt.index>kt?(Je=jt,jt=null):Je=jt.sibling;var nn=st(J,jt,ie.value,yt);if(nn===null){jt===null&&(jt=Je);break}t&&jt&&nn.alternate===null&&r(J,jt),K=h(nn,K,kt),$t===null?Nt=nn:$t.sibling=nn,$t=nn,jt=Je}if(ie.done)return o(J,jt),oe&&Cn(J,kt),Nt;if(jt===null){for(;!ie.done;kt++,ie=at.next())ie=St(J,ie.value,yt),ie!==null&&(K=h(ie,K,kt),$t===null?Nt=ie:$t.sibling=ie,$t=ie);return oe&&Cn(J,kt),Nt}for(jt=s(jt);!ie.done;kt++,ie=at.next())ie=ft(jt,J,kt,ie.value,yt),ie!==null&&(t&&ie.alternate!==null&&jt.delete(ie.key===null?kt:ie.key),K=h(ie,K,kt),$t===null?Nt=ie:$t.sibling=ie,$t=ie);return t&&jt.forEach(function(hS){return r(J,hS)}),oe&&Cn(J,kt),Nt}function he(J,K,at,yt){if(typeof at=="object"&&at!==null&&at.type===x&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case m:t:{for(var Nt=at.key;K!==null;){if(K.key===Nt){if(Nt=at.type,Nt===x){if(K.tag===7){o(J,K.sibling),yt=d(K,at.props.children),yt.return=J,J=yt;break t}}else if(K.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===z&&vh(Nt)===K.type){o(J,K.sibling),yt=d(K,at.props),Oo(yt,at),yt.return=J,J=yt;break t}o(J,K);break}else r(J,K);K=K.sibling}at.type===x?(yt=Sn(at.props.children,J.mode,yt,at.key),yt.return=J,J=yt):(yt=jl(at.type,at.key,at.props,null,J.mode,yt),Oo(yt,at),yt.return=J,J=yt)}return w(J);case b:t:{for(Nt=at.key;K!==null;){if(K.key===Nt)if(K.tag===4&&K.stateNode.containerInfo===at.containerInfo&&K.stateNode.implementation===at.implementation){o(J,K.sibling),yt=d(K,at.children||[]),yt.return=J,J=yt;break t}else{o(J,K);break}else r(J,K);K=K.sibling}yt=$u(at,J.mode,yt),yt.return=J,J=yt}return w(J);case z:return Nt=at._init,at=Nt(at._payload),he(J,K,at,yt)}if(G(at))return Ht(J,K,at,yt);if(q(at)){if(Nt=q(at),typeof Nt!="function")throw Error(i(150));return at=Nt.call(at),Gt(J,K,at,yt)}if(typeof at.then=="function")return he(J,K,Jl(at),yt);if(at.$$typeof===A)return he(J,K,kl(J,at),yt);$l(J,at)}return typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint"?(at=""+at,K!==null&&K.tag===6?(o(J,K.sibling),yt=d(K,at),yt.return=J,J=yt):(o(J,K),yt=Ju(at,J.mode,yt),yt.return=J,J=yt),w(J)):o(J,K)}return function(J,K,at,yt){try{Mo=0;var Nt=he(J,K,at,yt);return vi=null,Nt}catch(jt){if(jt===yo||jt===Ul)throw jt;var $t=Tr(29,jt,null,J.mode);return $t.lanes=yt,$t.return=J,$t}finally{}}}var pi=ph(!0),hh=ph(!1),Hr=I(null),aa=null;function Ia(t){var r=t.alternate;et(qe,qe.current&1),et(Hr,t),aa===null&&(r===null||ui.current!==null||r.memoizedState!==null)&&(aa=t)}function gh(t){if(t.tag===22){if(et(qe,qe.current),et(Hr,t),aa===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(aa=t)}}else qa()}function qa(){et(qe,qe.current),et(Hr,Hr.current)}function Sa(t){lt(Hr),aa===t&&(aa=null),lt(qe)}var qe=I(0);function ts(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Cf(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function zc(t,r,o,s){r=t.memoizedState,o=o(s,r),o=o==null?r:g({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Nc={enqueueSetState:function(t,r,o){t=t._reactInternals;var s=Or(),d=Ha(s);d.payload=r,o!=null&&(d.callback=o),r=Ua(t,d,s),r!==null&&(Rr(r,t,s),So(r,t,s))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var s=Or(),d=Ha(s);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Ua(t,d,s),r!==null&&(Rr(r,t,s),So(r,t,s))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Or(),s=Ha(o);s.tag=2,r!=null&&(s.callback=r),r=Ua(t,s,o),r!==null&&(Rr(r,t,o),So(r,t,o))}};function mh(t,r,o,s,d,h,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,h,w):r.prototype&&r.prototype.isPureReactComponent?!uo(o,s)||!uo(d,h):!0}function yh(t,r,o,s){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,s),r.state!==t&&Nc.enqueueReplaceState(r,r.state,null)}function Rn(t,r){var o=r;if("ref"in r){o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}if(t=t.defaultProps){o===r&&(o=g({},o));for(var d in t)o[d]===void 0&&(o[d]=t[d])}return o}var es=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function bh(t){es(t)}function Sh(t){console.error(t)}function xh(t){es(t)}function rs(t,r){try{var o=t.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(s){setTimeout(function(){throw s})}}function Ch(t,r,o){try{var s=t.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Bc(t,r,o){return o=Ha(o),o.tag=3,o.payload={element:null},o.callback=function(){rs(t,r)},o}function Eh(t){return t=Ha(t),t.tag=3,t}function Th(t,r,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;t.payload=function(){return d(h)},t.callback=function(){Ch(r,o,s)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Ch(r,o,s),typeof d!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var D=s.stack;this.componentDidCatch(s.value,{componentStack:D!==null?D:""})})}function hb(t,r,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(r=o.alternate,r!==null&&ho(r,o,d,!0),o=Hr.current,o!==null){switch(o.tag){case 13:return aa===null?nf():o.alternate===null&&je===0&&(je=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===uc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([s]):r.add(s),lf(t,s,d)),!1;case 22:return o.flags|=65536,s===uc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([s]):o.add(s)),lf(t,s,d)),!1}throw Error(i(435,o.tag))}return lf(t,s,d),nf(),!1}if(oe)return r=Hr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,s!==rc&&(t=Error(i(422),{cause:s}),po(Lr(t,o)))):(s!==rc&&(r=Error(i(423),{cause:s}),po(Lr(r,o))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,s=Lr(s,o),d=Bc(t.stateNode,s,d),dc(t,d),je!==4&&(je=2)),!1;var h=Error(i(520),{cause:s});if(h=Lr(h,o),jo===null?jo=[h]:jo.push(h),je!==4&&(je=2),r===null)return!0;s=Lr(s,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,t=d&-d,o.lanes|=t,t=Bc(o.stateNode,s,t),dc(o,t),!1;case 1:if(r=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Za===null||!Za.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Eh(d),Th(d,t,o,s),dc(o,d),!1}o=o.return}while(o!==null);return!1}var wh=Error(i(461)),Ze=!1;function tr(t,r,o,s){r.child=t===null?hh(r,null,o,s):pi(r,t.child,o,s)}function Ah(t,r,o,s,d){o=o.render;var h=r.ref;if("ref"in s){var w={};for(var D in s)D!=="ref"&&(w[D]=s[D])}else w=s;return An(r),s=mc(t,r,o,w,h,d),D=yc(),t!==null&&!Ze?(bc(t,r,d),xa(t,r,d)):(oe&&D&&tc(r),r.flags|=1,tr(t,r,s,d),r.child)}function Mh(t,r,o,s,d){if(t===null){var h=o.type;return typeof h=="function"&&!Qu(h)&&h.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=h,Oh(t,r,h,s,d)):(t=jl(o.type,null,s,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(h=t.child,!Xc(t,d)){var w=h.memoizedProps;if(o=o.compare,o=o!==null?o:uo,o(w,s)&&t.ref===r.ref)return xa(t,r,d)}return r.flags|=1,t=pa(h,s),t.ref=r.ref,t.return=r,r.child=t}function Oh(t,r,o,s,d){if(t!==null){var h=t.memoizedProps;if(uo(h,s)&&t.ref===r.ref)if(Ze=!1,r.pendingProps=s=h,Xc(t,d))(t.flags&131072)!==0&&(Ze=!0);else return r.lanes=t.lanes,xa(t,r,d)}return jc(t,r,o,s,d)}function Rh(t,r,o){var s=r.pendingProps,d=s.children,h=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if((r.flags&128)!==0){if(s=h!==null?h.baseLanes|o:o,t!==null){for(d=r.child=t.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;r.childLanes=h&~s}else r.childLanes=0,r.child=null;return Dh(t,r,s,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hl(r,h!==null?h.cachePool:null),h!==null?Op(r,h):pc(),gh(r);else return r.lanes=r.childLanes=536870912,Dh(t,r,h!==null?h.baseLanes|o:o,o)}else h!==null?(Hl(r,h.cachePool),Op(r,h),qa(),r.memoizedState=null):(t!==null&&Hl(r,null),pc(),qa());return tr(t,r,d,o),r.child}function Dh(t,r,o,s){var d=sc();return d=d===null?null:{parent:Ie._currentValue,pool:d},r.memoizedState={baseLanes:o,cachePool:d},t!==null&&Hl(r,null),pc(),gh(r),t!==null&&ho(t,r,s,!0),null}function as(t,r){var o=r.ref;if(o===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(t===null||t.ref!==o)&&(r.flags|=4194816)}}function jc(t,r,o,s,d){return An(r),o=mc(t,r,o,s,void 0,d),s=yc(),t!==null&&!Ze?(bc(t,r,d),xa(t,r,d)):(oe&&s&&tc(r),r.flags|=1,tr(t,r,o,d),r.child)}function _h(t,r,o,s,d,h){return An(r),r.updateQueue=null,o=Dp(r,s,o,d),Rp(t),s=yc(),t!==null&&!Ze?(bc(t,r,h),xa(t,r,h)):(oe&&s&&tc(r),r.flags|=1,tr(t,r,o,h),r.child)}function zh(t,r,o,s,d){if(An(r),r.stateNode===null){var h=ni,w=o.contextType;typeof w=="object"&&w!==null&&(h=or(w)),h=new o(s,h),r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Nc,r.stateNode=h,h._reactInternals=r,h=r.stateNode,h.props=s,h.state=r.memoizedState,h.refs={},cc(r),w=o.contextType,h.context=typeof w=="object"&&w!==null?or(w):ni,h.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(zc(r,o,w,s),h.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(w=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),w!==h.state&&Nc.enqueueReplaceState(h,h.state,null),Co(r,s,h,d),xo(),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308),s=!0}else if(t===null){h=r.stateNode;var D=r.memoizedProps,X=Rn(o,D);h.props=X;var nt=h.context,ht=o.contextType;w=ni,typeof ht=="object"&&ht!==null&&(w=or(ht));var St=o.getDerivedStateFromProps;ht=typeof St=="function"||typeof h.getSnapshotBeforeUpdate=="function",D=r.pendingProps!==D,ht||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(D||nt!==w)&&yh(r,h,s,w),ka=!1;var st=r.memoizedState;h.state=st,Co(r,s,h,d),xo(),nt=r.memoizedState,D||st!==nt||ka?(typeof St=="function"&&(zc(r,o,St,s),nt=r.memoizedState),(X=ka||mh(r,o,X,s,st,nt,w))?(ht||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(r.flags|=4194308)):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=nt),h.props=s,h.state=nt,h.context=w,s=X):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{h=r.stateNode,fc(t,r),w=r.memoizedProps,ht=Rn(o,w),h.props=ht,St=r.pendingProps,st=h.context,nt=o.contextType,X=ni,typeof nt=="object"&&nt!==null&&(X=or(nt)),D=o.getDerivedStateFromProps,(nt=typeof D=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==St||st!==X)&&yh(r,h,s,X),ka=!1,st=r.memoizedState,h.state=st,Co(r,s,h,d),xo();var ft=r.memoizedState;w!==St||st!==ft||ka||t!==null&&t.dependencies!==null&&Gl(t.dependencies)?(typeof D=="function"&&(zc(r,o,D,s),ft=r.memoizedState),(ht=ka||mh(r,o,ht,s,st,ft,X)||t!==null&&t.dependencies!==null&&Gl(t.dependencies))?(nt||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,ft,X),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,ft,X)),typeof h.componentDidUpdate=="function"&&(r.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===t.memoizedProps&&st===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&st===t.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=ft),h.props=s,h.state=ft,h.context=X,s=ht):(typeof h.componentDidUpdate!="function"||w===t.memoizedProps&&st===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&st===t.memoizedState||(r.flags|=1024),s=!1)}return h=s,as(t,r),s=(r.flags&128)!==0,h||s?(h=r.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:h.render(),r.flags|=1,t!==null&&s?(r.child=pi(r,t.child,null,d),r.child=pi(r,null,o,d)):tr(t,r,o,d),r.memoizedState=h.state,t=r.child):t=xa(t,r,d),t}function Nh(t,r,o,s){return vo(),r.flags|=256,tr(t,r,o,s),r.child}var Lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(t){return{baseLanes:t,cachePool:Sp()}}function Gc(t,r,o){return t=t!==null?t.childLanes&~o:0,r&&(t|=Ur),t}function Bh(t,r,o){var s=r.pendingProps,d=!1,h=(r.flags&128)!==0,w;if((w=h)||(w=t!==null&&t.memoizedState===null?!1:(qe.current&2)!==0),w&&(d=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,t===null){if(oe){if(d?Ia(r):qa(),oe){var D=Be,X;if(X=D){t:{for(X=D,D=ra;X.nodeType!==8;){if(!D){D=null;break t}if(X=Zr(X.nextSibling),X===null){D=null;break t}}D=X}D!==null?(r.memoizedState={dehydrated:D,treeContext:xn!==null?{id:ha,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},X=Tr(18,null,null,0),X.stateNode=D,X.return=r,r.child=X,cr=r,Be=null,X=!0):X=!1}X||Tn(r)}if(D=r.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Cf(D)?r.lanes=32:r.lanes=536870912,null;Sa(r)}return D=s.children,s=s.fallback,d?(qa(),d=r.mode,D=ns({mode:"hidden",children:D},d),s=Sn(s,d,o,null),D.return=r,s.return=r,D.sibling=s,r.child=D,d=r.child,d.memoizedState=Vc(o),d.childLanes=Gc(t,w,o),r.memoizedState=Lc,s):(Ia(r),kc(r,D))}if(X=t.memoizedState,X!==null&&(D=X.dehydrated,D!==null)){if(h)r.flags&256?(Ia(r),r.flags&=-257,r=Hc(t,r,o)):r.memoizedState!==null?(qa(),r.child=t.child,r.flags|=128,r=null):(qa(),d=s.fallback,D=r.mode,s=ns({mode:"visible",children:s.children},D),d=Sn(d,D,o,null),d.flags|=2,s.return=r,d.return=r,s.sibling=d,r.child=s,pi(r,t.child,null,o),s=r.child,s.memoizedState=Vc(o),s.childLanes=Gc(t,w,o),r.memoizedState=Lc,r=d);else if(Ia(r),Cf(D)){if(w=D.nextSibling&&D.nextSibling.dataset,w)var nt=w.dgst;w=nt,s=Error(i(419)),s.stack="",s.digest=w,po({value:s,source:null,stack:null}),r=Hc(t,r,o)}else if(Ze||ho(t,r,o,!1),w=(o&t.childLanes)!==0,Ze||w){if(w=we,w!==null&&(s=o&-o,s=(s&42)!==0?1:Zi(s),s=(s&(w.suspendedLanes|o))!==0?0:s,s!==0&&s!==X.retryLane))throw X.retryLane=s,ai(t,s),Rr(w,t,s),wh;D.data==="$?"||nf(),r=Hc(t,r,o)}else D.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=X.treeContext,Be=Zr(D.nextSibling),cr=r,oe=!0,En=null,ra=!1,t!==null&&(Gr[kr++]=ha,Gr[kr++]=ga,Gr[kr++]=xn,ha=t.id,ga=t.overflow,xn=r),r=kc(r,s.children),r.flags|=4096);return r}return d?(qa(),d=s.fallback,D=r.mode,X=t.child,nt=X.sibling,s=pa(X,{mode:"hidden",children:s.children}),s.subtreeFlags=X.subtreeFlags&65011712,nt!==null?d=pa(nt,d):(d=Sn(d,D,o,null),d.flags|=2),d.return=r,s.return=r,s.sibling=d,r.child=s,s=d,d=r.child,D=t.child.memoizedState,D===null?D=Vc(o):(X=D.cachePool,X!==null?(nt=Ie._currentValue,X=X.parent!==nt?{parent:nt,pool:nt}:X):X=Sp(),D={baseLanes:D.baseLanes|o,cachePool:X}),d.memoizedState=D,d.childLanes=Gc(t,w,o),r.memoizedState=Lc,s):(Ia(r),o=t.child,t=o.sibling,o=pa(o,{mode:"visible",children:s.children}),o.return=r,o.sibling=null,t!==null&&(w=r.deletions,w===null?(r.deletions=[t],r.flags|=16):w.push(t)),r.child=o,r.memoizedState=null,o)}function kc(t,r){return r=ns({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ns(t,r){return t=Tr(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hc(t,r,o){return pi(r,t.child,null,o),t=kc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function jh(t,r,o){t.lanes|=r;var s=t.alternate;s!==null&&(s.lanes|=r),nc(t.return,r,o)}function Uc(t,r,o,s,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=o,h.tailMode=d)}function Lh(t,r,o){var s=r.pendingProps,d=s.revealOrder,h=s.tail;if(tr(t,r,s.children,o),s=qe.current,(s&2)!==0)s=s&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jh(t,o,r);else if(t.tag===19)jh(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break t;for(;t.sibling===null;){if(t.return===null||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(et(qe,s),d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&ts(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Uc(r,!1,d,o,h);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&ts(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Uc(r,!0,o,null,h);break;case"together":Uc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function xa(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ka|=r.lanes,(o&r.childLanes)===0)if(t!==null){if(ho(t,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,o=pa(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=pa(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Xc(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Gl(t)))}function gb(t,r,o){switch(r.tag){case 3:k(r,r.stateNode.containerInfo),Ga(r,Ie,t.memoizedState.cache),vo();break;case 27:case 5:gt(r);break;case 4:k(r,r.stateNode.containerInfo);break;case 10:Ga(r,r.type,r.memoizedProps.value);break;case 13:var s=r.memoizedState;if(s!==null)return s.dehydrated!==null?(Ia(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Bh(t,r,o):(Ia(r),t=xa(t,r,o),t!==null?t.sibling:null);Ia(r);break;case 19:var d=(t.flags&128)!==0;if(s=(o&r.childLanes)!==0,s||(ho(t,r,o,!1),s=(o&r.childLanes)!==0),d){if(s)return Lh(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),et(qe,qe.current),s)break;return null;case 22:case 23:return r.lanes=0,Rh(t,r,o);case 24:Ga(r,Ie,t.memoizedState.cache)}return xa(t,r,o)}function Vh(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ze=!0;else{if(!Xc(t,o)&&(r.flags&128)===0)return Ze=!1,gb(t,r,o);Ze=(t.flags&131072)!==0}else Ze=!1,oe&&(r.flags&1048576)!==0&&vp(r,Vl,r.index);switch(r.lanes=0,r.tag){case 16:t:{t=r.pendingProps;var s=r.elementType,d=s._init;if(s=d(s._payload),r.type=s,typeof s=="function")Qu(s)?(t=Rn(s,t),r.tag=1,r=zh(null,r,s,t,o)):(r.tag=0,r=jc(null,r,s,t,o));else{if(s!=null){if(d=s.$$typeof,d===O){r.tag=11,r=Ah(null,r,s,t,o);break t}else if(d===N){r.tag=14,r=Mh(null,r,s,t,o);break t}}throw r=$(s)||s,Error(i(306,r,""))}}return r;case 0:return jc(t,r,r.type,r.pendingProps,o);case 1:return s=r.type,d=Rn(s,r.pendingProps),zh(t,r,s,d,o);case 3:t:{if(k(r,r.stateNode.containerInfo),t===null)throw Error(i(387));s=r.pendingProps;var h=r.memoizedState;d=h.element,fc(t,r),Co(r,s,null,o);var w=r.memoizedState;if(s=w.cache,Ga(r,Ie,s),s!==h.cache&&ic(r,[Ie],o,!0),xo(),s=w.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Nh(t,r,s,o);break t}else if(s!==d){d=Lr(Error(i(424)),r),po(d),r=Nh(t,r,s,o);break t}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Be=Zr(t.firstChild),cr=r,oe=!0,En=null,ra=!0,o=hh(r,null,s,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(vo(),s===d){r=xa(t,r,o);break t}tr(t,r,s,o)}r=r.child}return r;case 26:return as(t,r),t===null?(o=Ug(r.type,null,r.pendingProps,null))?r.memoizedState=o:oe||(o=r.type,t=r.pendingProps,s=ys(L.current).createElement(o),s[We]=r,s[Ke]=t,rr(s,o,t),it(s),r.stateNode=s):r.memoizedState=Ug(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return gt(r),t===null&&oe&&(s=r.stateNode=Gg(r.type,r.pendingProps,L.current),cr=r,ra=!0,d=Be,$a(r.type)?(Ef=d,Be=Zr(s.firstChild)):Be=d),tr(t,r,r.pendingProps.children,o),as(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&oe&&((d=s=Be)&&(s=qb(s,r.type,r.pendingProps,ra),s!==null?(r.stateNode=s,cr=r,Be=Zr(s.firstChild),ra=!1,d=!0):d=!1),d||Tn(r)),gt(r),d=r.type,h=r.pendingProps,w=t!==null?t.memoizedProps:null,s=h.children,bf(d,h)?s=null:w!==null&&bf(d,w)&&(r.flags|=32),r.memoizedState!==null&&(d=mc(t,r,sb,null,null,o),qo._currentValue=d),as(t,r),tr(t,r,s,o),r.child;case 6:return t===null&&oe&&((t=o=Be)&&(o=Yb(o,r.pendingProps,ra),o!==null?(r.stateNode=o,cr=r,Be=null,t=!0):t=!1),t||Tn(r)),null;case 13:return Bh(t,r,o);case 4:return k(r,r.stateNode.containerInfo),s=r.pendingProps,t===null?r.child=pi(r,null,s,o):tr(t,r,s,o),r.child;case 11:return Ah(t,r,r.type,r.pendingProps,o);case 7:return tr(t,r,r.pendingProps,o),r.child;case 8:return tr(t,r,r.pendingProps.children,o),r.child;case 12:return tr(t,r,r.pendingProps.children,o),r.child;case 10:return s=r.pendingProps,Ga(r,r.type,s.value),tr(t,r,s.children,o),r.child;case 9:return d=r.type._context,s=r.pendingProps.children,An(r),d=or(d),s=s(d),r.flags|=1,tr(t,r,s,o),r.child;case 14:return Mh(t,r,r.type,r.pendingProps,o);case 15:return Oh(t,r,r.type,r.pendingProps,o);case 19:return Lh(t,r,o);case 31:return s=r.pendingProps,o=r.mode,s={mode:s.mode,children:s.children},t===null?(o=ns(s,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=pa(t.child,s),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Rh(t,r,o);case 24:return An(r),s=or(Ie),t===null?(d=sc(),d===null&&(d=we,h=oc(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),r.memoizedState={parent:s,cache:d},cc(r),Ga(r,Ie,d)):((t.lanes&o)!==0&&(fc(t,r),Co(r,null,null,o),xo()),d=t.memoizedState,h=r.memoizedState,d.parent!==s?(d={parent:s,cache:s},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Ga(r,Ie,s)):(s=h.cache,Ga(r,Ie,s),s!==d.cache&&ic(r,[Ie],o,!0))),tr(t,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ca(t){t.flags|=4}function Gh(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pg(r)){if(r=Hr.current,r!==null&&((re&4194048)===re?aa!==null:(re&62914560)!==re&&(re&536870912)===0||r!==aa))throw bo=uc,xp;t.flags|=8192}}function is(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ne():536870912,t.lanes|=r,yi|=r)}function Ro(t,r){if(!oe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function _e(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,s=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=s,t.childLanes=o,r}function mb(t,r,o){var s=r.pendingProps;switch(ec(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(r),null;case 1:return _e(r),null;case 3:return o=r.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),ya(Ie),rt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(fo(r)?Ca(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gp())),_e(r),null;case 26:return o=r.memoizedState,t===null?(Ca(r),o!==null?(_e(r),Gh(r,o)):(_e(r),r.flags&=-16777217)):o?o!==t.memoizedState?(Ca(r),_e(r),Gh(r,o)):(_e(r),r.flags&=-16777217):(t.memoizedProps!==s&&Ca(r),_e(r),r.flags&=-16777217),null;case 27:ct(r),o=L.current;var d=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==s&&Ca(r);else{if(!s){if(r.stateNode===null)throw Error(i(166));return _e(r),null}t=dt.current,fo(r)?pp(r):(t=Gg(d,s,o),r.stateNode=t,Ca(r))}return _e(r),null;case 5:if(ct(r),o=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==s&&Ca(r);else{if(!s){if(r.stateNode===null)throw Error(i(166));return _e(r),null}if(t=dt.current,fo(r))pp(r);else{switch(d=ys(L.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?d.createElement(o,{is:s.is}):d.createElement(o)}}t[We]=r,t[Ke]=s;t:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break t;for(;d.sibling===null;){if(d.return===null||d.return===r)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=t;t:switch(rr(t,o,s),o){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ca(r)}}return _e(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==s&&Ca(r);else{if(typeof s!="string"&&r.stateNode===null)throw Error(i(166));if(t=L.current,fo(r)){if(t=r.stateNode,o=r.memoizedProps,s=null,d=cr,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}t[We]=r,t=!!(t.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||_g(t.nodeValue,o)),t||Tn(r)}else t=ys(t).createTextNode(s),t[We]=r,r.stateNode=t}return _e(r),null;case 13:if(s=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=fo(r),s!==null&&s.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[We]=r}else vo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_e(r),d=!1}else d=gp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Sa(r),r):(Sa(r),null)}if(Sa(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=s!==null,t=t!==null&&t.memoizedState!==null,o){s=r.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool);var h=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)}return o!==t&&o&&(r.child.flags|=8192),is(r,r.updateQueue),_e(r),null;case 4:return rt(),t===null&&pf(r.stateNode.containerInfo),_e(r),null;case 10:return ya(r.type),_e(r),null;case 19:if(lt(qe),d=r.memoizedState,d===null)return _e(r),null;if(s=(r.flags&128)!==0,h=d.rendering,h===null)if(s)Ro(d,!1);else{if(je!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(h=ts(t),h!==null){for(r.flags|=128,Ro(d,!1),t=h.updateQueue,r.updateQueue=t,is(r,t),r.subtreeFlags=0,t=o,o=r.child;o!==null;)dp(o,t),o=o.sibling;return et(qe,qe.current&1|2),r.child}t=t.sibling}d.tail!==null&&Xt()>ss&&(r.flags|=128,s=!0,Ro(d,!1),r.lanes=4194304)}else{if(!s)if(t=ts(h),t!==null){if(r.flags|=128,s=!0,t=t.updateQueue,r.updateQueue=t,is(r,t),Ro(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!oe)return _e(r),null}else 2*Xt()-d.renderingStartTime>ss&&o!==536870912&&(r.flags|=128,s=!0,Ro(d,!1),r.lanes=4194304);d.isBackwards?(h.sibling=r.child,r.child=h):(t=d.last,t!==null?t.sibling=h:r.child=h,d.last=h)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Xt(),r.sibling=null,t=qe.current,et(qe,s?t&1|2:t&1),r):(_e(r),null);case 22:case 23:return Sa(r),hc(),s=r.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(r.flags|=8192):s&&(r.flags|=8192),s?(o&536870912)!==0&&(r.flags&128)===0&&(_e(r),r.subtreeFlags&6&&(r.flags|=8192)):_e(r),o=r.updateQueue,o!==null&&is(r,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(r.flags|=2048),t!==null&&lt(Mn),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ya(Ie),_e(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function yb(t,r){switch(ec(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ya(Ie),rt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ct(r),null;case 13:if(Sa(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));vo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return lt(qe),null;case 4:return rt(),null;case 10:return ya(r.type),null;case 22:case 23:return Sa(r),hc(),t!==null&&lt(Mn),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ya(Ie),null;case 25:return null;default:return null}}function kh(t,r){switch(ec(r),r.tag){case 3:ya(Ie),rt();break;case 26:case 27:case 5:ct(r);break;case 4:rt();break;case 13:Sa(r);break;case 19:lt(qe);break;case 10:ya(r.type);break;case 22:case 23:Sa(r),hc(),t!==null&&lt(Mn);break;case 24:ya(Ie)}}function Do(t,r){try{var o=r.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&t)===t){s=void 0;var h=o.create,w=o.inst;s=h(),w.destroy=s}o=o.next}while(o!==d)}}catch(D){xe(r,r.return,D)}}function Ya(t,r,o){try{var s=r.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&t)===t){var w=s.inst,D=w.destroy;if(D!==void 0){w.destroy=void 0,d=r;var X=o,nt=D;try{nt()}catch(ht){xe(d,X,ht)}}}s=s.next}while(s!==h)}}catch(ht){xe(r,r.return,ht)}}function Hh(t){var r=t.updateQueue;if(r!==null){var o=t.stateNode;try{Mp(r,o)}catch(s){xe(t,t.return,s)}}}function Uh(t,r,o){o.props=Rn(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(s){xe(t,r,s)}}function _o(t,r){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof o=="function"?t.refCleanup=o(s):o.current=s}}catch(d){xe(t,r,d)}}function na(t,r){var o=t.ref,s=t.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){xe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){xe(t,r,d)}else o.current=null}function Xh(t){var r=t.type,o=t.memoizedProps,s=t.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break t;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){xe(t,t.return,d)}}function Ic(t,r,o){try{var s=t.stateNode;kb(s,t.type,o,r),s[Ke]=r}catch(d){xe(t,t.return,d)}}function Ih(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$a(t.type)||t.tag===4}function qc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ih(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$a(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yc(t,r,o){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(t),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ms));else if(s!==4&&(s===27&&$a(t.type)&&(o=t.stateNode,r=null),t=t.child,t!==null))for(Yc(t,r,o),t=t.sibling;t!==null;)Yc(t,r,o),t=t.sibling}function os(t,r,o){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(s!==4&&(s===27&&$a(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(os(t,r,o),t=t.sibling;t!==null;)os(t,r,o),t=t.sibling}function qh(t){var r=t.stateNode,o=t.memoizedProps;try{for(var s=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);rr(r,s,o),r[We]=t,r[Ke]=o}catch(h){xe(t,t.return,h)}}var Ea=!1,Ve=!1,Pc=!1,Yh=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function bb(t,r){if(t=t.containerInfo,mf=Ts,t=rp(t),qu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else t:{o=(o=t.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break t}var w=0,D=-1,X=-1,nt=0,ht=0,St=t,st=null;e:for(;;){for(var ft;St!==o||d!==0&&St.nodeType!==3||(D=w+d),St!==h||s!==0&&St.nodeType!==3||(X=w+s),St.nodeType===3&&(w+=St.nodeValue.length),(ft=St.firstChild)!==null;)st=St,St=ft;for(;;){if(St===t)break e;if(st===o&&++nt===d&&(D=w),st===h&&++ht===s&&(X=w),(ft=St.nextSibling)!==null)break;St=st,st=St.parentNode}St=ft}o=D===-1||X===-1?null:{start:D,end:X}}else o=null}o=o||{start:0,end:0}}else o=null;for(yf={focusedElem:t,selectionRange:o},Ts=!1,Qe=r;Qe!==null;)if(r=Qe,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Qe=t;else for(;Qe!==null;){switch(r=Qe,h=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,o=r,d=h.memoizedProps,h=h.memoizedState,s=o.stateNode;try{var Ht=Rn(o.type,d,o.elementType===o.type);t=s.getSnapshotBeforeUpdate(Ht,h),s.__reactInternalSnapshotBeforeUpdate=t}catch(Gt){xe(o,o.return,Gt)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,o=t.nodeType,o===9)xf(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Qe=t;break}Qe=r.return}}function Ph(t,r,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:Pa(t,o),s&4&&Do(5,o);break;case 1:if(Pa(t,o),s&4)if(t=o.stateNode,r===null)try{t.componentDidMount()}catch(w){xe(o,o.return,w)}else{var d=Rn(o.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(w){xe(o,o.return,w)}}s&64&&Hh(o),s&512&&_o(o,o.return);break;case 3:if(Pa(t,o),s&64&&(t=o.updateQueue,t!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Mp(t,r)}catch(w){xe(o,o.return,w)}}break;case 27:r===null&&s&4&&qh(o);case 26:case 5:Pa(t,o),r===null&&s&4&&Xh(o),s&512&&_o(o,o.return);break;case 12:Pa(t,o);break;case 13:Pa(t,o),s&4&&Kh(t,o),s&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=Ob.bind(null,o),Pb(t,o))));break;case 22:if(s=o.memoizedState!==null||Ea,!s){r=r!==null&&r.memoizedState!==null||Ve,d=Ea;var h=Ve;Ea=s,(Ve=r)&&!h?Fa(t,o,(o.subtreeFlags&8772)!==0):Pa(t,o),Ea=d,Ve=h}break;case 30:break;default:Pa(t,o)}}function Fh(t){var r=t.alternate;r!==null&&(t.alternate=null,Fh(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&eo(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Oe=null,br=!1;function Ta(t,r,o){for(o=o.child;o!==null;)Wh(t,r,o),o=o.sibling}function Wh(t,r,o){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Ve||na(o,r),Ta(t,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ve||na(o,r);var s=Oe,d=br;$a(o.type)&&(Oe=o.stateNode,br=!1),Ta(t,r,o),Ho(o.stateNode),Oe=s,br=d;break;case 5:Ve||na(o,r);case 6:if(s=Oe,d=br,Oe=null,Ta(t,r,o),Oe=s,br=d,Oe!==null)if(br)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(o.stateNode)}catch(h){xe(o,r,h)}else try{Oe.removeChild(o.stateNode)}catch(h){xe(o,r,h)}break;case 18:Oe!==null&&(br?(t=Oe,Lg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Wo(t)):Lg(Oe,o.stateNode));break;case 4:s=Oe,d=br,Oe=o.stateNode.containerInfo,br=!0,Ta(t,r,o),Oe=s,br=d;break;case 0:case 11:case 14:case 15:Ve||Ya(2,o,r),Ve||Ya(4,o,r),Ta(t,r,o);break;case 1:Ve||(na(o,r),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Uh(o,r,s)),Ta(t,r,o);break;case 21:Ta(t,r,o);break;case 22:Ve=(s=Ve)||o.memoizedState!==null,Ta(t,r,o),Ve=s;break;default:Ta(t,r,o)}}function Kh(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wo(t)}catch(o){xe(r,r.return,o)}}function Sb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Yh),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Yh),r;default:throw Error(i(435,t.tag))}}function Fc(t,r){var o=Sb(t);r.forEach(function(s){var d=Rb.bind(null,t,s);o.has(s)||(o.add(s),s.then(d,d))})}function wr(t,r){var o=r.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],h=t,w=r,D=w;t:for(;D!==null;){switch(D.tag){case 27:if($a(D.type)){Oe=D.stateNode,br=!1;break t}break;case 5:Oe=D.stateNode,br=!1;break t;case 3:case 4:Oe=D.stateNode.containerInfo,br=!0;break t}D=D.return}if(Oe===null)throw Error(i(160));Wh(h,w,d),Oe=null,br=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Zh(r,t),r=r.sibling}var Kr=null;function Zh(t,r){var o=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wr(r,t),Ar(t),s&4&&(Ya(3,t,t.return),Do(3,t),Ya(5,t,t.return));break;case 1:wr(r,t),Ar(t),s&512&&(Ve||o===null||na(o,o.return)),s&64&&Ea&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=Kr;if(wr(r,t),Ar(t),s&512&&(Ve||o===null||na(o,o.return)),s&4){var h=o!==null?o.memoizedState:null;if(s=t.memoizedState,o===null)if(s===null)if(t.stateNode===null){t:{s=t.type,o=t.memoizedProps,d=d.ownerDocument||d;e:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[hn]||h[We]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),rr(h,s,o),h[We]=t,it(h),s=h;break t;case"link":var w=qg("link","href",d).get(s+(o.href||""));if(w){for(var D=0;D<w.length;D++)if(h=w[D],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(D,1);break e}}h=d.createElement(s),rr(h,s,o),d.head.appendChild(h);break;case"meta":if(w=qg("meta","content",d).get(s+(o.content||""))){for(D=0;D<w.length;D++)if(h=w[D],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(D,1);break e}}h=d.createElement(s),rr(h,s,o),d.head.appendChild(h);break;default:throw Error(i(468,s))}h[We]=t,it(h),s=h}t.stateNode=s}else Yg(d,t.type,t.stateNode);else t.stateNode=Ig(d,s,t.memoizedProps);else h!==s?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,s===null?Yg(d,t.type,t.stateNode):Ig(d,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Ic(t,t.memoizedProps,o.memoizedProps)}break;case 27:wr(r,t),Ar(t),s&512&&(Ve||o===null||na(o,o.return)),o!==null&&s&4&&Ic(t,t.memoizedProps,o.memoizedProps);break;case 5:if(wr(r,t),Ar(t),s&512&&(Ve||o===null||na(o,o.return)),t.flags&32){d=t.stateNode;try{Zn(d,"")}catch(ft){xe(t,t.return,ft)}}s&4&&t.stateNode!=null&&(d=t.memoizedProps,Ic(t,d,o!==null?o.memoizedProps:d)),s&1024&&(Pc=!0);break;case 6:if(wr(r,t),Ar(t),s&4){if(t.stateNode===null)throw Error(i(162));s=t.memoizedProps,o=t.stateNode;try{o.nodeValue=s}catch(ft){xe(t,t.return,ft)}}break;case 3:if(xs=null,d=Kr,Kr=bs(r.containerInfo),wr(r,t),Kr=d,Ar(t),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Wo(r.containerInfo)}catch(ft){xe(t,t.return,ft)}Pc&&(Pc=!1,Qh(t));break;case 4:s=Kr,Kr=bs(t.stateNode.containerInfo),wr(r,t),Ar(t),Kr=s;break;case 12:wr(r,t),Ar(t);break;case 13:wr(r,t),Ar(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($c=Xt()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Fc(t,s)));break;case 22:d=t.memoizedState!==null;var X=o!==null&&o.memoizedState!==null,nt=Ea,ht=Ve;if(Ea=nt||d,Ve=ht||X,wr(r,t),Ve=ht,Ea=nt,Ar(t),s&8192)t:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||X||Ea||Ve||Dn(t)),o=null,r=t;;){if(r.tag===5||r.tag===26){if(o===null){X=o=r;try{if(h=X.stateNode,d)w=h.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{D=X.stateNode;var St=X.memoizedProps.style,st=St!=null&&St.hasOwnProperty("display")?St.display:null;D.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(ft){xe(X,X.return,ft)}}}else if(r.tag===6){if(o===null){X=r;try{X.stateNode.nodeValue=d?"":X.memoizedProps}catch(ft){xe(X,X.return,ft)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}s&4&&(s=t.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Fc(t,o))));break;case 19:wr(r,t),Ar(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Fc(t,s)));break;case 30:break;case 21:break;default:wr(r,t),Ar(t)}}function Ar(t){var r=t.flags;if(r&2){try{for(var o,s=t.return;s!==null;){if(Ih(s)){o=s;break}s=s.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,h=qc(t);os(t,h,d);break;case 5:var w=o.stateNode;o.flags&32&&(Zn(w,""),o.flags&=-33);var D=qc(t);os(t,D,w);break;case 3:case 4:var X=o.stateNode.containerInfo,nt=qc(t);Yc(t,nt,X);break;default:throw Error(i(161))}}catch(ht){xe(t,t.return,ht)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Qh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Qh(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Pa(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ph(t,r.alternate,r),r=r.sibling}function Dn(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ya(4,r,r.return),Dn(r);break;case 1:na(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Uh(r,r.return,o),Dn(r);break;case 27:Ho(r.stateNode);case 26:case 5:na(r,r.return),Dn(r);break;case 22:r.memoizedState===null&&Dn(r);break;case 30:Dn(r);break;default:Dn(r)}t=t.sibling}}function Fa(t,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var s=r.alternate,d=t,h=r,w=h.flags;switch(h.tag){case 0:case 11:case 15:Fa(d,h,o),Do(4,h);break;case 1:if(Fa(d,h,o),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(nt){xe(s,s.return,nt)}if(s=h,d=s.updateQueue,d!==null){var D=s.stateNode;try{var X=d.shared.hiddenCallbacks;if(X!==null)for(d.shared.hiddenCallbacks=null,d=0;d<X.length;d++)Ap(X[d],D)}catch(nt){xe(s,s.return,nt)}}o&&w&64&&Hh(h),_o(h,h.return);break;case 27:qh(h);case 26:case 5:Fa(d,h,o),o&&s===null&&w&4&&Xh(h),_o(h,h.return);break;case 12:Fa(d,h,o);break;case 13:Fa(d,h,o),o&&w&4&&Kh(d,h);break;case 22:h.memoizedState===null&&Fa(d,h,o),_o(h,h.return);break;case 30:break;default:Fa(d,h,o)}r=r.sibling}}function Wc(t,r){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&go(o))}function Kc(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&go(t))}function ia(t,r,o,s){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Jh(t,r,o,s),r=r.sibling}function Jh(t,r,o,s){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ia(t,r,o,s),d&2048&&Do(9,r);break;case 1:ia(t,r,o,s);break;case 3:ia(t,r,o,s),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&go(t)));break;case 12:if(d&2048){ia(t,r,o,s),t=r.stateNode;try{var h=r.memoizedProps,w=h.id,D=h.onPostCommit;typeof D=="function"&&D(w,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){xe(r,r.return,X)}}else ia(t,r,o,s);break;case 13:ia(t,r,o,s);break;case 23:break;case 22:h=r.stateNode,w=r.alternate,r.memoizedState!==null?h._visibility&2?ia(t,r,o,s):zo(t,r):h._visibility&2?ia(t,r,o,s):(h._visibility|=2,hi(t,r,o,s,(r.subtreeFlags&10256)!==0)),d&2048&&Wc(w,r);break;case 24:ia(t,r,o,s),d&2048&&Kc(r.alternate,r);break;default:ia(t,r,o,s)}}function hi(t,r,o,s,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var h=t,w=r,D=o,X=s,nt=w.flags;switch(w.tag){case 0:case 11:case 15:hi(h,w,D,X,d),Do(8,w);break;case 23:break;case 22:var ht=w.stateNode;w.memoizedState!==null?ht._visibility&2?hi(h,w,D,X,d):zo(h,w):(ht._visibility|=2,hi(h,w,D,X,d)),d&&nt&2048&&Wc(w.alternate,w);break;case 24:hi(h,w,D,X,d),d&&nt&2048&&Kc(w.alternate,w);break;default:hi(h,w,D,X,d)}r=r.sibling}}function zo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=t,s=r,d=s.flags;switch(s.tag){case 22:zo(o,s),d&2048&&Wc(s.alternate,s);break;case 24:zo(o,s),d&2048&&Kc(s.alternate,s);break;default:zo(o,s)}r=r.sibling}}var No=8192;function gi(t){if(t.subtreeFlags&No)for(t=t.child;t!==null;)$h(t),t=t.sibling}function $h(t){switch(t.tag){case 26:gi(t),t.flags&No&&t.memoizedState!==null&&iS(Kr,t.memoizedState,t.memoizedProps);break;case 5:gi(t);break;case 3:case 4:var r=Kr;Kr=bs(t.stateNode.containerInfo),gi(t),Kr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=No,No=16777216,gi(t),No=r):gi(t));break;default:gi(t)}}function tg(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Bo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];Qe=s,rg(s,t)}tg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)eg(t),t=t.sibling}function eg(t){switch(t.tag){case 0:case 11:case 15:Bo(t),t.flags&2048&&Ya(9,t,t.return);break;case 3:Bo(t);break;case 12:Bo(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,ls(t)):Bo(t);break;default:Bo(t)}}function ls(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];Qe=s,rg(s,t)}tg(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ya(8,r,r.return),ls(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ls(r));break;default:ls(r)}t=t.sibling}}function rg(t,r){for(;Qe!==null;){var o=Qe;switch(o.tag){case 0:case 11:case 15:Ya(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:go(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,Qe=s;else t:for(o=t;Qe!==null;){s=Qe;var d=s.sibling,h=s.return;if(Fh(s),s===o){Qe=null;break t}if(d!==null){d.return=h,Qe=d;break t}Qe=h}}}var xb={getCacheForType:function(t){var r=or(Ie),o=r.data.get(t);return o===void 0&&(o=t(),r.data.set(t,o)),o}},Cb=typeof WeakMap=="function"?WeakMap:Map,ue=0,we=null,te=null,re=0,ce=0,Mr=null,Wa=!1,mi=!1,Zc=!1,wa=0,je=0,Ka=0,_n=0,Qc=0,Ur=0,yi=0,jo=null,Sr=null,Jc=!1,$c=0,ss=1/0,us=null,Za=null,er=0,Qa=null,bi=null,Si=0,tf=0,ef=null,ag=null,Lo=0,rf=null;function Or(){if((ue&2)!==0&&re!==0)return re&-re;if(V.T!==null){var t=li;return t!==0?t:cf()}return xl()}function ng(){Ur===0&&(Ur=(re&536870912)===0||oe?za():536870912);var t=Hr.current;return t!==null&&(t.flags|=32),Ur}function Rr(t,r,o){(t===we&&(ce===2||ce===9)||t.cancelPendingCommit!==null)&&(xi(t,0),Ja(t,re,Ur,!1)),gr(t,o),((ue&2)===0||t!==we)&&(t===we&&((ue&2)===0&&(_n|=o),je===4&&Ja(t,re,Ur,!1)),oa(t))}function ig(t,r,o){if((ue&6)!==0)throw Error(i(327));var s=!o&&(r&124)===0&&(r&t.expiredLanes)===0||zr(t,r),d=s?wb(t,r):of(t,r,!0),h=s;do{if(d===0){mi&&!s&&Ja(t,r,0,!1);break}else{if(o=t.current.alternate,h&&!Eb(o)){d=of(t,r,!1),h=!1;continue}if(d===2){if(h=r,t.errorRecoveryDisabledLanes&h)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;t:{var D=t;d=jo;var X=D.current.memoizedState.isDehydrated;if(X&&(xi(D,w).flags|=256),w=of(D,w,!1),w!==2){if(Zc&&!X){D.errorRecoveryDisabledLanes|=h,_n|=h,d=4;break t}h=Sr,Sr=d,h!==null&&(Sr===null?Sr=h:Sr.push.apply(Sr,h))}d=w}if(h=!1,d!==2)continue}}if(d===1){xi(t,0),Ja(t,r,0,!0);break}t:{switch(s=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ja(s,r,Ur,!Wa);break t;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=$c+300-Xt(),10<d)){if(Ja(s,r,Ur,!Wa),Se(s,0,!0)!==0)break t;s.timeoutHandle=Bg(og.bind(null,s,o,Sr,us,Jc,r,Ur,_n,yi,Wa,h,2,-0,0),d);break t}og(s,o,Sr,us,Jc,r,Ur,_n,yi,Wa,h,0,-0,0)}}break}while(!0);oa(t)}function og(t,r,o,s,d,h,w,D,X,nt,ht,St,st,ft){if(t.timeoutHandle=-1,St=r.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(Io={stylesheets:null,count:0,unsuspend:nS},$h(r),St=oS(),St!==null)){t.cancelPendingCommit=St(vg.bind(null,t,r,h,o,s,d,w,D,X,ht,1,st,ft)),Ja(t,h,w,!nt);return}vg(t,r,h,o,s,d,w,D,X)}function Eb(t){for(var r=t;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],h=d.getSnapshot;d=d.value;try{if(!Er(h(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ja(t,r,o,s){r&=~Qc,r&=~_n,t.suspendedLanes|=r,t.pingedLanes&=~r,s&&(t.warmLanes|=r),s=t.expirationTimes;for(var d=r;0<d;){var h=31-At(d),w=1<<h;s[h]=-1,d&=~w}o!==0&&Fn(t,o,r)}function cs(){return(ue&6)===0?(Vo(0),!1):!0}function af(){if(te!==null){if(ce===0)var t=te.return;else t=te,ma=wn=null,Sc(t),vi=null,Mo=0,t=te;for(;t!==null;)kh(t.alternate,t),t=t.return;te=null}}function xi(t,r){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,Ub(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),af(),we=t,te=o=pa(t.current,null),re=r,ce=0,Mr=null,Wa=!1,mi=zr(t,r),Zc=!1,yi=Ur=Qc=_n=Ka=je=0,Sr=jo=null,Jc=!1,(r&8)!==0&&(r|=r&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=r;0<s;){var d=31-At(s),h=1<<d;r|=t[d],s&=~h}return wa=r,zl(),o}function lg(t,r){Jt=null,V.H=Ql,r===yo||r===Ul?(r=Tp(),ce=3):r===xp?(r=Tp(),ce=4):ce=r===wh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mr=r,te===null&&(je=1,rs(t,Lr(r,t.current)))}function sg(){var t=V.H;return V.H=Ql,t===null?Ql:t}function ug(){var t=V.A;return V.A=xb,t}function nf(){je=4,Wa||(re&4194048)!==re&&Hr.current!==null||(mi=!0),(Ka&134217727)===0&&(_n&134217727)===0||we===null||Ja(we,re,Ur,!1)}function of(t,r,o){var s=ue;ue|=2;var d=sg(),h=ug();(we!==t||re!==r)&&(us=null,xi(t,r)),r=!1;var w=je;t:do try{if(ce!==0&&te!==null){var D=te,X=Mr;switch(ce){case 8:af(),w=6;break t;case 3:case 2:case 9:case 6:Hr.current===null&&(r=!0);var nt=ce;if(ce=0,Mr=null,Ci(t,D,X,nt),o&&mi){w=0;break t}break;default:nt=ce,ce=0,Mr=null,Ci(t,D,X,nt)}}Tb(),w=je;break}catch(ht){lg(t,ht)}while(!0);return r&&t.shellSuspendCounter++,ma=wn=null,ue=s,V.H=d,V.A=h,te===null&&(we=null,re=0,zl()),w}function Tb(){for(;te!==null;)cg(te)}function wb(t,r){var o=ue;ue|=2;var s=sg(),d=ug();we!==t||re!==r?(us=null,ss=Xt()+500,xi(t,r)):mi=zr(t,r);t:do try{if(ce!==0&&te!==null){r=te;var h=Mr;e:switch(ce){case 1:ce=0,Mr=null,Ci(t,r,h,1);break;case 2:case 9:if(Cp(h)){ce=0,Mr=null,fg(r);break}r=function(){ce!==2&&ce!==9||we!==t||(ce=7),oa(t)},h.then(r,r);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Cp(h)?(ce=0,Mr=null,fg(r)):(ce=0,Mr=null,Ci(t,r,h,7));break;case 5:var w=null;switch(te.tag){case 26:w=te.memoizedState;case 5:case 27:var D=te;if(!w||Pg(w)){ce=0,Mr=null;var X=D.sibling;if(X!==null)te=X;else{var nt=D.return;nt!==null?(te=nt,fs(nt)):te=null}break e}}ce=0,Mr=null,Ci(t,r,h,5);break;case 6:ce=0,Mr=null,Ci(t,r,h,6);break;case 8:af(),je=6;break t;default:throw Error(i(462))}}Ab();break}catch(ht){lg(t,ht)}while(!0);return ma=wn=null,V.H=s,V.A=d,ue=o,te!==null?0:(we=null,re=0,zl(),je)}function Ab(){for(;te!==null&&!Rt();)cg(te)}function cg(t){var r=Vh(t.alternate,t,wa);t.memoizedProps=t.pendingProps,r===null?fs(t):te=r}function fg(t){var r=t,o=r.alternate;switch(r.tag){case 15:case 0:r=_h(o,r,r.pendingProps,r.type,void 0,re);break;case 11:r=_h(o,r,r.pendingProps,r.type.render,r.ref,re);break;case 5:Sc(r);default:kh(o,r),r=te=dp(r,wa),r=Vh(o,r,wa)}t.memoizedProps=t.pendingProps,r===null?fs(t):te=r}function Ci(t,r,o,s){ma=wn=null,Sc(r),vi=null,Mo=0;var d=r.return;try{if(hb(t,d,r,o,re)){je=1,rs(t,Lr(o,t.current)),te=null;return}}catch(h){if(d!==null)throw te=d,h;je=1,rs(t,Lr(o,t.current)),te=null;return}r.flags&32768?(oe||s===1?t=!0:mi||(re&536870912)!==0?t=!1:(Wa=t=!0,(s===2||s===9||s===3||s===6)&&(s=Hr.current,s!==null&&s.tag===13&&(s.flags|=16384))),dg(r,t)):fs(r)}function fs(t){var r=t;do{if((r.flags&32768)!==0){dg(r,Wa);return}t=r.return;var o=mb(r.alternate,r,wa);if(o!==null){te=o;return}if(r=r.sibling,r!==null){te=r;return}te=r=t}while(r!==null);je===0&&(je=5)}function dg(t,r){do{var o=yb(t.alternate,t);if(o!==null){o.flags&=32767,te=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(t=t.sibling,t!==null)){te=t;return}te=t=o}while(t!==null);je=6,te=null}function vg(t,r,o,s,d,h,w,D,X){t.cancelPendingCommit=null;do ds();while(er!==0);if((ue&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(h=r.lanes|r.childLanes,h|=Ku,Pn(t,o,h,w,D,X),t===we&&(te=we=null,re=0),bi=r,Qa=t,Si=o,tf=h,ef=d,ag=s,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Db(le,function(){return yg(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||s){s=V.T,V.T=null,d=W.p,W.p=2,w=ue,ue|=4;try{bb(t,r,o)}finally{ue=w,W.p=d,V.T=s}}er=1,pg(),hg(),gg()}}function pg(){if(er===1){er=0;var t=Qa,r=bi,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var s=W.p;W.p=2;var d=ue;ue|=4;try{Zh(r,t);var h=yf,w=rp(t.containerInfo),D=h.focusedElem,X=h.selectionRange;if(w!==D&&D&&D.ownerDocument&&ep(D.ownerDocument.documentElement,D)){if(X!==null&&qu(D)){var nt=X.start,ht=X.end;if(ht===void 0&&(ht=nt),"selectionStart"in D)D.selectionStart=nt,D.selectionEnd=Math.min(ht,D.value.length);else{var St=D.ownerDocument||document,st=St&&St.defaultView||window;if(st.getSelection){var ft=st.getSelection(),Ht=D.textContent.length,Gt=Math.min(X.start,Ht),he=X.end===void 0?Gt:Math.min(X.end,Ht);!ft.extend&&Gt>he&&(w=he,he=Gt,Gt=w);var J=tp(D,Gt),K=tp(D,he);if(J&&K&&(ft.rangeCount!==1||ft.anchorNode!==J.node||ft.anchorOffset!==J.offset||ft.focusNode!==K.node||ft.focusOffset!==K.offset)){var at=St.createRange();at.setStart(J.node,J.offset),ft.removeAllRanges(),Gt>he?(ft.addRange(at),ft.extend(K.node,K.offset)):(at.setEnd(K.node,K.offset),ft.addRange(at))}}}}for(St=[],ft=D;ft=ft.parentNode;)ft.nodeType===1&&St.push({element:ft,left:ft.scrollLeft,top:ft.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<St.length;D++){var yt=St[D];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}Ts=!!mf,yf=mf=null}finally{ue=d,W.p=s,V.T=o}}t.current=r,er=2}}function hg(){if(er===2){er=0;var t=Qa,r=bi,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var s=W.p;W.p=2;var d=ue;ue|=4;try{Ph(t,r.alternate,r)}finally{ue=d,W.p=s,V.T=o}}er=3}}function gg(){if(er===4||er===3){er=0,Bt();var t=Qa,r=bi,o=Si,s=ag;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?er=5:(er=0,bi=Qa=null,mg(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Za=null),Qi(o),r=r.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}if(s!==null){r=V.T,d=W.p,W.p=2,V.T=null;try{for(var h=t.onRecoverableError,w=0;w<s.length;w++){var D=s[w];h(D.value,{componentStack:D.stack})}}finally{V.T=r,W.p=d}}(Si&3)!==0&&ds(),oa(t),d=t.pendingLanes,(o&4194090)!==0&&(d&42)!==0?t===rf?Lo++:(Lo=0,rf=t):Lo=0,Vo(0)}}function mg(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,go(r)))}function ds(t){return pg(),hg(),gg(),yg()}function yg(){if(er!==5)return!1;var t=Qa,r=tf;tf=0;var o=Qi(Si),s=V.T,d=W.p;try{W.p=32>o?32:o,V.T=null,o=ef,ef=null;var h=Qa,w=Si;if(er=0,bi=Qa=null,Si=0,(ue&6)!==0)throw Error(i(331));var D=ue;if(ue|=4,eg(h.current),Jh(h,h.current,w,o),ue=D,Vo(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(pt,h)}catch{}return!0}finally{W.p=d,V.T=s,mg(t,r)}}function bg(t,r,o){r=Lr(o,r),r=Bc(t.stateNode,r,2),t=Ua(t,r,2),t!==null&&(gr(t,2),oa(t))}function xe(t,r,o){if(t.tag===3)bg(t,t,o);else for(;r!==null;){if(r.tag===3){bg(r,t,o);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Za===null||!Za.has(s))){t=Lr(o,t),o=Eh(2),s=Ua(r,o,2),s!==null&&(Th(o,s,r,t),gr(s,2),oa(s));break}}r=r.return}}function lf(t,r,o){var s=t.pingCache;if(s===null){s=t.pingCache=new Cb;var d=new Set;s.set(r,d)}else d=s.get(r),d===void 0&&(d=new Set,s.set(r,d));d.has(o)||(Zc=!0,d.add(o),t=Mb.bind(null,t,r,o),r.then(t,t))}function Mb(t,r,o){var s=t.pingCache;s!==null&&s.delete(r),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,we===t&&(re&o)===o&&(je===4||je===3&&(re&62914560)===re&&300>Xt()-$c?(ue&2)===0&&xi(t,0):Qc|=o,yi===re&&(yi=0)),oa(t)}function Sg(t,r){r===0&&(r=ne()),t=ai(t,r),t!==null&&(gr(t,r),oa(t))}function Ob(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Sg(t,o)}function Rb(t,r){var o=0;switch(t.tag){case 13:var s=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(i(314))}s!==null&&s.delete(r),Sg(t,o)}function Db(t,r){return Dt(t,r)}var vs=null,Ei=null,sf=!1,ps=!1,uf=!1,zn=0;function oa(t){t!==Ei&&t.next===null&&(Ei===null?vs=Ei=t:Ei=Ei.next=t),ps=!0,sf||(sf=!0,zb())}function Vo(t,r){if(!uf&&ps){uf=!0;do for(var o=!1,s=vs;s!==null;){if(t!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var w=s.suspendedLanes,D=s.pingedLanes;h=(1<<31-At(42|t)+1)-1,h&=d&~(w&~D),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,Tg(s,h))}else h=re,h=Se(s,s===we?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||zr(s,h)||(o=!0,Tg(s,h));s=s.next}while(o);uf=!1}}function _b(){xg()}function xg(){ps=sf=!1;var t=0;zn!==0&&(Hb()&&(t=zn),zn=0);for(var r=Xt(),o=null,s=vs;s!==null;){var d=s.next,h=Cg(s,r);h===0?(s.next=null,o===null?vs=d:o.next=d,d===null&&(Ei=o)):(o=s,(t!==0||(h&3)!==0)&&(ps=!0)),s=d}Vo(t)}function Cg(t,r){for(var o=t.suspendedLanes,s=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var w=31-At(h),D=1<<w,X=d[w];X===-1?((D&o)===0||(D&s)!==0)&&(d[w]=Ki(D,r)):X<=r&&(t.expiredLanes|=D),h&=~D}if(r=we,o=re,o=Se(t,t===r?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,o===0||t===r&&(ce===2||ce===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&zt(s),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||zr(t,o)){if(r=o&-o,r===t.callbackPriority)return r;switch(s!==null&&zt(s),Qi(o)){case 2:case 8:o=Ft;break;case 32:o=le;break;case 268435456:o=ye;break;default:o=le}return s=Eg.bind(null,t),o=Dt(o,s),t.callbackPriority=r,t.callbackNode=o,r}return s!==null&&s!==null&&zt(s),t.callbackPriority=2,t.callbackNode=null,2}function Eg(t,r){if(er!==0&&er!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(ds()&&t.callbackNode!==o)return null;var s=re;return s=Se(t,t===we?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(ig(t,s,r),Cg(t,Xt()),t.callbackNode!=null&&t.callbackNode===o?Eg.bind(null,t):null)}function Tg(t,r){if(ds())return null;ig(t,r,!0)}function zb(){Xb(function(){(ue&6)!==0?Dt(Ot,_b):xg()})}function cf(){return zn===0&&(zn=za()),zn}function wg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wl(""+t)}function Ag(t,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,t.id&&o.setAttribute("form",t.id),r.parentNode.insertBefore(o,r),t=new FormData(t),o.parentNode.removeChild(o),t}function Nb(t,r,o,s,d){if(r==="submit"&&o&&o.stateNode===d){var h=wg((d[Ke]||null).action),w=s.submitter;w&&(r=(r=w[Ke]||null)?wg(r.formAction):w.getAttribute("formAction"),r!==null&&(h=r,w=null));var D=new Rl("action","action",null,s,d);t.push({event:D,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(zn!==0){var X=w?Ag(d,w):new FormData(d);Rc(o,{pending:!0,data:X,method:d.method,action:h},null,X)}}else typeof h=="function"&&(D.preventDefault(),X=w?Ag(d,w):new FormData(d),Rc(o,{pending:!0,data:X,method:d.method,action:h},h,X))},currentTarget:d}]})}}for(var ff=0;ff<Wu.length;ff++){var df=Wu[ff],Bb=df.toLowerCase(),jb=df[0].toUpperCase()+df.slice(1);Wr(Bb,"on"+jb)}Wr(ip,"onAnimationEnd"),Wr(op,"onAnimationIteration"),Wr(lp,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(Jy,"onTransitionRun"),Wr($y,"onTransitionStart"),Wr(tb,"onTransitionCancel"),Wr(sp,"onTransitionEnd"),Ut("onMouseEnter",["mouseout","mouseover"]),Ut("onMouseLeave",["mouseout","mouseover"]),Ut("onPointerEnter",["pointerout","pointerover"]),Ut("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function Mg(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var s=t[o],d=s.event;s=s.listeners;t:{var h=void 0;if(r)for(var w=s.length-1;0<=w;w--){var D=s[w],X=D.instance,nt=D.currentTarget;if(D=D.listener,X!==h&&d.isPropagationStopped())break t;h=D,d.currentTarget=nt;try{h(d)}catch(ht){es(ht)}d.currentTarget=null,h=X}else for(w=0;w<s.length;w++){if(D=s[w],X=D.instance,nt=D.currentTarget,D=D.listener,X!==h&&d.isPropagationStopped())break t;h=D,d.currentTarget=nt;try{h(d)}catch(ht){es(ht)}d.currentTarget=null,h=X}}}}function ee(t,r){var o=r[Ji];o===void 0&&(o=r[Ji]=new Set);var s=t+"__bubble";o.has(s)||(Og(r,t,2,!1),o.add(s))}function vf(t,r,o){var s=0;r&&(s|=4),Og(o,t,s,r)}var hs="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[hs]){t[hs]=!0,wt.forEach(function(o){o!=="selectionchange"&&(Lb.has(o)||vf(o,!1,t),vf(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[hs]||(r[hs]=!0,vf("selectionchange",!1,r))}}function Og(t,r,o,s){switch(Jg(r)){case 2:var d=uS;break;case 8:d=cS;break;default:d=Of}o=d.bind(null,r,o,t),d=void 0,!ju||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),s?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function hf(t,r,o,s,d){var h=s;if((r&1)===0&&(r&2)===0&&s!==null)t:for(;;){if(s===null)return;var w=s.tag;if(w===3||w===4){var D=s.stateNode.containerInfo;if(D===d)break;if(w===4)for(w=s.return;w!==null;){var X=w.tag;if((X===3||X===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;D!==null;){if(w=ja(D),w===null)return;if(X=w.tag,X===5||X===6||X===26||X===27){s=h=w;continue t}D=D.parentNode}}s=s.return}jv(function(){var nt=h,ht=Nu(o),St=[];t:{var st=up.get(t);if(st!==void 0){var ft=Rl,Ht=t;switch(t){case"keypress":if(Ml(o)===0)break t;case"keydown":case"keyup":ft=Dy;break;case"focusin":Ht="focus",ft=ku;break;case"focusout":Ht="blur",ft=ku;break;case"beforeblur":case"afterblur":ft=ku;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=yy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Ny;break;case ip:case op:case lp:ft=xy;break;case sp:ft=jy;break;case"scroll":case"scrollend":ft=gy;break;case"wheel":ft=Vy;break;case"copy":case"cut":case"paste":ft=Ey;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Hv;break;case"toggle":case"beforetoggle":ft=ky}var Gt=(r&4)!==0,he=!Gt&&(t==="scroll"||t==="scrollend"),J=Gt?st!==null?st+"Capture":null:st;Gt=[];for(var K=nt,at;K!==null;){var yt=K;if(at=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||at===null||J===null||(yt=ro(K,J),yt!=null&&Gt.push(ko(K,yt,at))),he)break;K=K.return}0<Gt.length&&(st=new ft(st,Ht,null,o,ht),St.push({event:st,listeners:Gt}))}}if((r&7)===0){t:{if(st=t==="mouseover"||t==="pointerover",ft=t==="mouseout"||t==="pointerout",st&&o!==zu&&(Ht=o.relatedTarget||o.fromElement)&&(ja(Ht)||Ht[Ba]))break t;if((ft||st)&&(st=ht.window===ht?ht:(st=ht.ownerDocument)?st.defaultView||st.parentWindow:window,ft?(Ht=o.relatedTarget||o.toElement,ft=nt,Ht=Ht?ja(Ht):null,Ht!==null&&(he=u(Ht),Gt=Ht.tag,Ht!==he||Gt!==5&&Gt!==27&&Gt!==6)&&(Ht=null)):(ft=null,Ht=nt),ft!==Ht)){if(Gt=Gv,yt="onMouseLeave",J="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(Gt=Hv,yt="onPointerLeave",J="onPointerEnter",K="pointer"),he=ft==null?st:gn(ft),at=Ht==null?st:gn(Ht),st=new Gt(yt,K+"leave",ft,o,ht),st.target=he,st.relatedTarget=at,yt=null,ja(ht)===nt&&(Gt=new Gt(J,K+"enter",Ht,o,ht),Gt.target=at,Gt.relatedTarget=he,yt=Gt),he=yt,ft&&Ht)e:{for(Gt=ft,J=Ht,K=0,at=Gt;at;at=Ti(at))K++;for(at=0,yt=J;yt;yt=Ti(yt))at++;for(;0<K-at;)Gt=Ti(Gt),K--;for(;0<at-K;)J=Ti(J),at--;for(;K--;){if(Gt===J||J!==null&&Gt===J.alternate)break e;Gt=Ti(Gt),J=Ti(J)}Gt=null}else Gt=null;ft!==null&&Rg(St,st,ft,Gt,!1),Ht!==null&&he!==null&&Rg(St,he,Ht,Gt,!0)}}t:{if(st=nt?gn(nt):window,ft=st.nodeName&&st.nodeName.toLowerCase(),ft==="select"||ft==="input"&&st.type==="file")var Nt=Wv;else if(Pv(st))if(Kv)Nt=Ky;else{Nt=Fy;var $t=Py}else ft=st.nodeName,!ft||ft.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?nt&&_u(nt.elementType)&&(Nt=Wv):Nt=Wy;if(Nt&&(Nt=Nt(t,nt))){Fv(St,Nt,o,ht);break t}$t&&$t(t,st,nt),t==="focusout"&&nt&&st.type==="number"&&nt.memoizedProps.value!=null&&Du(st,"number",st.value)}switch($t=nt?gn(nt):window,t){case"focusin":(Pv($t)||$t.contentEditable==="true")&&(ti=$t,Yu=nt,co=null);break;case"focusout":co=Yu=ti=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,ap(St,o,ht);break;case"selectionchange":if(Qy)break;case"keydown":case"keyup":ap(St,o,ht)}var jt;if(Uu)t:{switch(t){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else $n?qv(t,o)&&(kt="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(Uv&&o.locale!=="ko"&&($n||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&$n&&(jt=Lv()):(Va=ht,Lu="value"in Va?Va.value:Va.textContent,$n=!0)),$t=gs(nt,kt),0<$t.length&&(kt=new kv(kt,t,null,o,ht),St.push({event:kt,listeners:$t}),jt?kt.data=jt:(jt=Yv(o),jt!==null&&(kt.data=jt)))),(jt=Uy?Xy(t,o):Iy(t,o))&&(kt=gs(nt,"onBeforeInput"),0<kt.length&&($t=new kv("onBeforeInput","beforeinput",null,o,ht),St.push({event:$t,listeners:kt}),$t.data=jt)),Nb(St,t,nt,o,ht)}Mg(St,r)})}function ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function gs(t,r){for(var o=r+"Capture",s=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=ro(t,o),d!=null&&s.unshift(ko(t,d,h)),d=ro(t,r),d!=null&&s.push(ko(t,d,h))),t.tag===3)return s;t=t.return}return[]}function Ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rg(t,r,o,s,d){for(var h=r._reactName,w=[];o!==null&&o!==s;){var D=o,X=D.alternate,nt=D.stateNode;if(D=D.tag,X!==null&&X===s)break;D!==5&&D!==26&&D!==27||nt===null||(X=nt,d?(nt=ro(o,h),nt!=null&&w.unshift(ko(o,nt,X))):d||(nt=ro(o,h),nt!=null&&w.push(ko(o,nt,X)))),o=o.return}w.length!==0&&t.push({event:r,listeners:w})}var Vb=/\r\n?/g,Gb=/\u0000|\uFFFD/g;function Dg(t){return(typeof t=="string"?t:""+t).replace(Vb,`
`).replace(Gb,"")}function _g(t,r){return r=Dg(r),Dg(t)===r}function ms(){}function pe(t,r,o,s,d,h){switch(o){case"children":typeof s=="string"?r==="body"||r==="textarea"&&s===""||Zn(t,s):(typeof s=="number"||typeof s=="bigint")&&r!=="body"&&Zn(t,""+s);break;case"className":Fr(t,"class",s);break;case"tabIndex":Fr(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(t,o,s);break;case"style":Nv(t,s,h);break;case"data":if(r!=="object"){Fr(t,"data",s);break}case"src":case"href":if(s===""&&(r!=="a"||o!=="href")){t.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(o);break}s=wl(""+s),t.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(r!=="input"&&pe(t,r,"name",d.name,d,null),pe(t,r,"formEncType",d.formEncType,d,null),pe(t,r,"formMethod",d.formMethod,d,null),pe(t,r,"formTarget",d.formTarget,d,null)):(pe(t,r,"encType",d.encType,d,null),pe(t,r,"method",d.method,d,null),pe(t,r,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(o);break}s=wl(""+s),t.setAttribute(o,s);break;case"onClick":s!=null&&(t.onclick=ms);break;case"onScroll":s!=null&&ee("scroll",t);break;case"onScrollEnd":s!=null&&ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}o=wl(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(o,""+s):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":s===!0?t.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(o,s):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(o,s):t.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(o):t.setAttribute(o,s);break;case"popover":ee("beforetoggle",t),ee("toggle",t),ir(t,"popover",s);break;case"xlinkActuate":Nr(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Nr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Nr(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Nr(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Nr(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Nr(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Nr(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Nr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Nr(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ir(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=py.get(o)||o,ir(t,o,s))}}function gf(t,r,o,s,d,h){switch(o){case"style":Nv(t,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=o}}break;case"children":typeof s=="string"?Zn(t,s):(typeof s=="number"||typeof s=="bigint")&&Zn(t,""+s);break;case"onScroll":s!=null&&ee("scroll",t);break;case"onScrollEnd":s!=null&&ee("scrollend",t);break;case"onClick":s!=null&&(t.onclick=ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tt.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),h=t[Ke]||null,h=h!=null?h[o]:null,typeof h=="function"&&t.removeEventListener(r,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(r,s,d);break t}o in t?t[o]=s:s===!0?t.setAttribute(o,""):ir(t,o,s)}}}function rr(t,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",t),ee("load",t);var s=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var w=o[h];if(w!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:pe(t,r,h,w,o,null)}}d&&pe(t,r,"srcSet",o.srcSet,o,null),s&&pe(t,r,"src",o.src,o,null);return;case"input":ee("invalid",t);var D=h=w=d=null,X=null,nt=null;for(s in o)if(o.hasOwnProperty(s)){var ht=o[s];if(ht!=null)switch(s){case"name":d=ht;break;case"type":w=ht;break;case"checked":X=ht;break;case"defaultChecked":nt=ht;break;case"value":h=ht;break;case"defaultValue":D=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,r));break;default:pe(t,r,s,ht,o,null)}}Rv(t,h,D,X,nt,w,d,!1),El(t);return;case"select":ee("invalid",t),s=w=h=null;for(d in o)if(o.hasOwnProperty(d)&&(D=o[d],D!=null))switch(d){case"value":h=D;break;case"defaultValue":w=D;break;case"multiple":s=D;default:pe(t,r,d,D,o,null)}r=h,o=w,t.multiple=!!s,r!=null?Kn(t,!!s,r,!1):o!=null&&Kn(t,!!s,o,!0);return;case"textarea":ee("invalid",t),h=d=s=null;for(w in o)if(o.hasOwnProperty(w)&&(D=o[w],D!=null))switch(w){case"value":s=D;break;case"defaultValue":d=D;break;case"children":h=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:pe(t,r,w,D,o,null)}_v(t,s,d,h),El(t);return;case"option":for(X in o)if(o.hasOwnProperty(X)&&(s=o[X],s!=null))switch(X){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:pe(t,r,X,s,o,null)}return;case"dialog":ee("beforetoggle",t),ee("toggle",t),ee("cancel",t),ee("close",t);break;case"iframe":case"object":ee("load",t);break;case"video":case"audio":for(s=0;s<Go.length;s++)ee(Go[s],t);break;case"image":ee("error",t),ee("load",t);break;case"details":ee("toggle",t);break;case"embed":case"source":case"link":ee("error",t),ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in o)if(o.hasOwnProperty(nt)&&(s=o[nt],s!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:pe(t,r,nt,s,o,null)}return;default:if(_u(r)){for(ht in o)o.hasOwnProperty(ht)&&(s=o[ht],s!==void 0&&gf(t,r,ht,s,o,void 0));return}}for(D in o)o.hasOwnProperty(D)&&(s=o[D],s!=null&&pe(t,r,D,s,o,null))}function kb(t,r,o,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,w=null,D=null,X=null,nt=null,ht=null;for(ft in o){var St=o[ft];if(o.hasOwnProperty(ft)&&St!=null)switch(ft){case"checked":break;case"value":break;case"defaultValue":X=St;default:s.hasOwnProperty(ft)||pe(t,r,ft,null,s,St)}}for(var st in s){var ft=s[st];if(St=o[st],s.hasOwnProperty(st)&&(ft!=null||St!=null))switch(st){case"type":h=ft;break;case"name":d=ft;break;case"checked":nt=ft;break;case"defaultChecked":ht=ft;break;case"value":w=ft;break;case"defaultValue":D=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(i(137,r));break;default:ft!==St&&pe(t,r,st,ft,s,St)}}Ru(t,w,D,X,nt,ht,h,d);return;case"select":ft=w=D=st=null;for(h in o)if(X=o[h],o.hasOwnProperty(h)&&X!=null)switch(h){case"value":break;case"multiple":ft=X;default:s.hasOwnProperty(h)||pe(t,r,h,null,s,X)}for(d in s)if(h=s[d],X=o[d],s.hasOwnProperty(d)&&(h!=null||X!=null))switch(d){case"value":st=h;break;case"defaultValue":D=h;break;case"multiple":w=h;default:h!==X&&pe(t,r,d,h,s,X)}r=D,o=w,s=ft,st!=null?Kn(t,!!o,st,!1):!!s!=!!o&&(r!=null?Kn(t,!!o,r,!0):Kn(t,!!o,o?[]:"",!1));return;case"textarea":ft=st=null;for(D in o)if(d=o[D],o.hasOwnProperty(D)&&d!=null&&!s.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:pe(t,r,D,null,s,d)}for(w in s)if(d=s[w],h=o[w],s.hasOwnProperty(w)&&(d!=null||h!=null))switch(w){case"value":st=d;break;case"defaultValue":ft=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&pe(t,r,w,d,s,h)}Dv(t,st,ft);return;case"option":for(var Ht in o)if(st=o[Ht],o.hasOwnProperty(Ht)&&st!=null&&!s.hasOwnProperty(Ht))switch(Ht){case"selected":t.selected=!1;break;default:pe(t,r,Ht,null,s,st)}for(X in s)if(st=s[X],ft=o[X],s.hasOwnProperty(X)&&st!==ft&&(st!=null||ft!=null))switch(X){case"selected":t.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:pe(t,r,X,st,s,ft)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in o)st=o[Gt],o.hasOwnProperty(Gt)&&st!=null&&!s.hasOwnProperty(Gt)&&pe(t,r,Gt,null,s,st);for(nt in s)if(st=s[nt],ft=o[nt],s.hasOwnProperty(nt)&&st!==ft&&(st!=null||ft!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,r));break;default:pe(t,r,nt,st,s,ft)}return;default:if(_u(r)){for(var he in o)st=o[he],o.hasOwnProperty(he)&&st!==void 0&&!s.hasOwnProperty(he)&&gf(t,r,he,void 0,s,st);for(ht in s)st=s[ht],ft=o[ht],!s.hasOwnProperty(ht)||st===ft||st===void 0&&ft===void 0||gf(t,r,ht,st,s,ft);return}}for(var J in o)st=o[J],o.hasOwnProperty(J)&&st!=null&&!s.hasOwnProperty(J)&&pe(t,r,J,null,s,st);for(St in s)st=s[St],ft=o[St],!s.hasOwnProperty(St)||st===ft||st==null&&ft==null||pe(t,r,St,st,s,ft)}var mf=null,yf=null;function ys(t){return t.nodeType===9?t:t.ownerDocument}function zg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ng(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function bf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sf=null;function Hb(){var t=window.event;return t&&t.type==="popstate"?t===Sf?!1:(Sf=t,!0):(Sf=null,!1)}var Bg=typeof setTimeout=="function"?setTimeout:void 0,Ub=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(t){return jg.resolve(null).then(t).catch(Ib)}:Bg;function Ib(t){setTimeout(function(){throw t})}function $a(t){return t==="head"}function Lg(t,r){var o=r,s=0,d=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(0<s&&8>s){o=s;var w=t.ownerDocument;if(o&1&&Ho(w.documentElement),o&2&&Ho(w.body),o&4)for(o=w.head,Ho(o),w=o.firstChild;w;){var D=w.nextSibling,X=w.nodeName;w[hn]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=D}}if(d===0){t.removeChild(h),Wo(r);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:s=o.charCodeAt(0)-48;else s=0;o=h}while(o);Wo(r)}function xf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xf(o),eo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function qb(t,r,o,s){for(;t.nodeType===1;){var d=o;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[hn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Zr(t.nextSibling),t===null)break}return null}function Yb(t,r,o){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Zr(t.nextSibling),t===null))return null;return t}function Cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Pb(t,r){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")r();else{var s=function(){r(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Zr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Ef=null;function Vg(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}function Gg(t,r,o){switch(r=ys(o),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ho(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);eo(t)}var Xr=new Map,kg=new Set;function bs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Aa=W.d;W.d={f:Fb,r:Wb,D:Kb,C:Zb,L:Qb,m:Jb,X:tS,S:$b,M:eS};function Fb(){var t=Aa.f(),r=cs();return t||r}function Wb(t){var r=La(t);r!==null&&r.tag===5&&r.type==="form"?ih(r):Aa.r(t)}var wi=typeof document>"u"?null:document;function Hg(t,r,o){var s=wi;if(s&&typeof r=="string"&&r){var d=jr(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),kg.has(d)||(kg.add(d),t={rel:t,crossOrigin:o,href:r},s.querySelector(d)===null&&(r=s.createElement("link"),rr(r,"link",t),it(r),s.head.appendChild(r)))}}function Kb(t){Aa.D(t),Hg("dns-prefetch",t,null)}function Zb(t,r){Aa.C(t,r),Hg("preconnect",t,r)}function Qb(t,r,o){Aa.L(t,r,o);var s=wi;if(s&&t&&r){var d='link[rel="preload"][as="'+jr(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+jr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+jr(o.imageSizes)+'"]')):d+='[href="'+jr(t)+'"]';var h=d;switch(r){case"style":h=Ai(t);break;case"script":h=Mi(t)}Xr.has(h)||(t=g({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:t,as:r},o),Xr.set(h,t),s.querySelector(d)!==null||r==="style"&&s.querySelector(Uo(h))||r==="script"&&s.querySelector(Xo(h))||(r=s.createElement("link"),rr(r,"link",t),it(r),s.head.appendChild(r)))}}function Jb(t,r){Aa.m(t,r);var o=wi;if(o&&t){var s=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+jr(s)+'"][href="'+jr(t)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Mi(t)}if(!Xr.has(h)&&(t=g({rel:"modulepreload",href:t},r),Xr.set(h,t),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xo(h)))return}s=o.createElement("link"),rr(s,"link",t),it(s),o.head.appendChild(s)}}}function $b(t,r,o){Aa.S(t,r,o);var s=wi;if(s&&t){var d=tt(s).hoistableStyles,h=Ai(t);r=r||"default";var w=d.get(h);if(!w){var D={loading:0,preload:null};if(w=s.querySelector(Uo(h)))D.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":r},o),(o=Xr.get(h))&&Tf(t,o);var X=w=s.createElement("link");it(X),rr(X,"link",t),X._p=new Promise(function(nt,ht){X.onload=nt,X.onerror=ht}),X.addEventListener("load",function(){D.loading|=1}),X.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Ss(w,r,s)}w={type:"stylesheet",instance:w,count:1,state:D},d.set(h,w)}}}function tS(t,r){Aa.X(t,r);var o=wi;if(o&&t){var s=tt(o).hoistableScripts,d=Mi(t),h=s.get(d);h||(h=o.querySelector(Xo(d)),h||(t=g({src:t,async:!0},r),(r=Xr.get(d))&&wf(t,r),h=o.createElement("script"),it(h),rr(h,"link",t),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function eS(t,r){Aa.M(t,r);var o=wi;if(o&&t){var s=tt(o).hoistableScripts,d=Mi(t),h=s.get(d);h||(h=o.querySelector(Xo(d)),h||(t=g({src:t,async:!0,type:"module"},r),(r=Xr.get(d))&&wf(t,r),h=o.createElement("script"),it(h),rr(h,"link",t),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Ug(t,r,o,s){var d=(d=L.current)?bs(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ai(o.href),o=tt(d).hoistableStyles,s=o.get(r),s||(s={type:"style",instance:null,count:0,state:null},o.set(r,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Ai(o.href);var h=tt(d).hoistableStyles,w=h.get(t);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,w),(h=d.querySelector(Uo(t)))&&!h._p&&(w.instance=h,w.state.loading=5),Xr.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xr.set(t,o),h||rS(d,t,o,w.state))),r&&s===null)throw Error(i(528,""));return w}if(r&&s!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Mi(o),o=tt(d).hoistableScripts,s=o.get(r),s||(s={type:"script",instance:null,count:0,state:null},o.set(r,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ai(t){return'href="'+jr(t)+'"'}function Uo(t){return'link[rel="stylesheet"]['+t+"]"}function Xg(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function rS(t,r,o,s){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?s.loading=1:(r=t.createElement("link"),s.preload=r,r.addEventListener("load",function(){return s.loading|=1}),r.addEventListener("error",function(){return s.loading|=2}),rr(r,"link",o),it(r),t.head.appendChild(r))}function Mi(t){return'[src="'+jr(t)+'"]'}function Xo(t){return"script[async]"+t}function Ig(t,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var s=t.querySelector('style[data-href~="'+jr(o.href)+'"]');if(s)return r.instance=s,it(s),s;var d=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),it(s),rr(s,"style",d),Ss(s,o.precedence,t),r.instance=s;case"stylesheet":d=Ai(o.href);var h=t.querySelector(Uo(d));if(h)return r.state.loading|=4,r.instance=h,it(h),h;s=Xg(o),(d=Xr.get(d))&&Tf(s,d),h=(t.ownerDocument||t).createElement("link"),it(h);var w=h;return w._p=new Promise(function(D,X){w.onload=D,w.onerror=X}),rr(h,"link",s),r.state.loading|=4,Ss(h,o.precedence,t),r.instance=h;case"script":return h=Mi(o.src),(d=t.querySelector(Xo(h)))?(r.instance=d,it(d),d):(s=o,(d=Xr.get(h))&&(s=g({},o),wf(s,d)),t=t.ownerDocument||t,d=t.createElement("script"),it(d),rr(d,"link",s),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(s=r.instance,r.state.loading|=4,Ss(s,o.precedence,t));return r.instance}function Ss(t,r,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,w=0;w<s.length;w++){var D=s[w];if(D.dataset.precedence===r)h=D;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(t,r.firstChild))}function Tf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function wf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var xs=null;function qg(t,r,o){if(xs===null){var s=new Map,d=xs=new Map;d.set(o,s)}else d=xs,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(t))return s;for(s.set(t,null),o=o.getElementsByTagName(t),d=0;d<o.length;d++){var h=o[d];if(!(h[hn]||h[We]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var w=h.getAttribute(r)||"";w=t+w;var D=s.get(w);D?D.push(h):s.set(w,[h])}}return s}function Yg(t,r,o){t=t.ownerDocument||t,t.head.insertBefore(o,r==="title"?t.querySelector("head > title"):null)}function aS(t,r,o){if(o===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Pg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Io=null;function nS(){}function iS(t,r,o){if(Io===null)throw Error(i(475));var s=Io;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Ai(o.href),h=t.querySelector(Uo(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Cs.bind(s),t.then(s,s)),r.state.loading|=4,r.instance=h,it(h);return}h=t.ownerDocument||t,o=Xg(o),(d=Xr.get(d))&&Tf(o,d),h=h.createElement("link"),it(h);var w=h;w._p=new Promise(function(D,X){w.onload=D,w.onerror=X}),rr(h,"link",o),r.instance=h}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(s.count++,r=Cs.bind(s),t.addEventListener("load",r),t.addEventListener("error",r))}}function oS(){if(Io===null)throw Error(i(475));var t=Io;return t.stylesheets&&t.count===0&&Af(t,t.stylesheets),0<t.count?function(r){var o=setTimeout(function(){if(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o)}}:null}function Cs(){if(this.count--,this.count===0){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Es=null;function Af(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Es=new Map,r.forEach(lS,t),Es=null,Cs.call(t))}function lS(t,r){if(!(r.state.loading&4)){var o=Es.get(t);if(o)var s=o.get(null);else{o=new Map,Es.set(t,o);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var w=d[h];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),s=w)}s&&o.set(null,s)}d=r.instance,w=d.getAttribute("data-precedence"),h=o.get(w)||s,h===s&&o.set(null,d),o.set(w,d),this.count++,s=Cs.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var qo={$$typeof:A,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function sS(t,r,o,s,d,h,w,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Fg(t,r,o,s,d,h,w,D,X,nt,ht,St){return t=new sS(t,r,o,w,D,X,nt,St),r=1,h===!0&&(r|=24),h=Tr(3,null,null,r),t.current=h,h.stateNode=t,r=oc(),r.refCount++,t.pooledCache=r,r.refCount++,h.memoizedState={element:s,isDehydrated:o,cache:r},cc(h),t}function Wg(t){return t?(t=ni,t):ni}function Kg(t,r,o,s,d,h){d=Wg(d),s.context===null?s.context=d:s.pendingContext=d,s=Ha(r),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=Ua(t,s,r),o!==null&&(Rr(o,t,r),So(o,t,r))}function Zg(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Mf(t,r){Zg(t,r),(t=t.alternate)&&Zg(t,r)}function Qg(t){if(t.tag===13){var r=ai(t,67108864);r!==null&&Rr(r,t,67108864),Mf(t,67108864)}}var Ts=!0;function uS(t,r,o,s){var d=V.T;V.T=null;var h=W.p;try{W.p=2,Of(t,r,o,s)}finally{W.p=h,V.T=d}}function cS(t,r,o,s){var d=V.T;V.T=null;var h=W.p;try{W.p=8,Of(t,r,o,s)}finally{W.p=h,V.T=d}}function Of(t,r,o,s){if(Ts){var d=Rf(s);if(d===null)hf(t,r,s,ws,o),$g(t,s);else if(dS(d,t,r,o,s))s.stopPropagation();else if($g(t,s),r&4&&-1<fS.indexOf(t)){for(;d!==null;){var h=La(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var w=qt(h.pendingLanes);if(w!==0){var D=h;for(D.pendingLanes|=2,D.entangledLanes|=2;w;){var X=1<<31-At(w);D.entanglements[1]|=X,w&=~X}oa(h),(ue&6)===0&&(ss=Xt()+500,Vo(0))}}break;case 13:D=ai(h,2),D!==null&&Rr(D,h,2),cs(),Mf(h,2)}if(h=Rf(s),h===null&&hf(t,r,s,ws,o),h===d)break;d=h}d!==null&&s.stopPropagation()}else hf(t,r,s,null,o)}}function Rf(t){return t=Nu(t),Df(t)}var ws=null;function Df(t){if(ws=null,t=ja(t),t!==null){var r=u(t);if(r===null)t=null;else{var o=r.tag;if(o===13){if(t=c(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ws=t,null}function Jg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Ot:return 2;case Ft:return 8;case le:case Re:return 32;case ye:return 268435456;default:return 32}default:return 32}}var _f=!1,tn=null,en=null,rn=null,Yo=new Map,Po=new Map,an=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $g(t,r){switch(t){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Yo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(r.pointerId)}}function Fo(t,r,o,s,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:r,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},r!==null&&(r=La(r),r!==null&&Qg(r)),t):(t.eventSystemFlags|=s,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function dS(t,r,o,s,d){switch(r){case"focusin":return tn=Fo(tn,t,r,o,s,d),!0;case"dragenter":return en=Fo(en,t,r,o,s,d),!0;case"mouseover":return rn=Fo(rn,t,r,o,s,d),!0;case"pointerover":var h=d.pointerId;return Yo.set(h,Fo(Yo.get(h)||null,t,r,o,s,d)),!0;case"gotpointercapture":return h=d.pointerId,Po.set(h,Fo(Po.get(h)||null,t,r,o,s,d)),!0}return!1}function t0(t){var r=ja(t.target);if(r!==null){var o=u(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){t.blockedOn=r,Cl(t.priority,function(){if(o.tag===13){var s=Or();s=Zi(s);var d=ai(o,s);d!==null&&Rr(d,o,s),Mf(o,s)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function As(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Rf(t.nativeEvent);if(o===null){o=t.nativeEvent;var s=new o.constructor(o.type,o);zu=s,o.target.dispatchEvent(s),zu=null}else return r=La(o),r!==null&&Qg(r),t.blockedOn=o,!1;r.shift()}return!0}function e0(t,r,o){As(t)&&o.delete(r)}function vS(){_f=!1,tn!==null&&As(tn)&&(tn=null),en!==null&&As(en)&&(en=null),rn!==null&&As(rn)&&(rn=null),Yo.forEach(e0),Po.forEach(e0)}function Ms(t,r){t.blockedOn===r&&(t.blockedOn=null,_f||(_f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vS)))}var Os=null;function r0(t){Os!==t&&(Os=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Os===t&&(Os=null);for(var r=0;r<t.length;r+=3){var o=t[r],s=t[r+1],d=t[r+2];if(typeof s!="function"){if(Df(s||o)===null)continue;break}var h=La(o);h!==null&&(t.splice(r,3),r-=3,Rc(h,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function Wo(t){function r(X){return Ms(X,t)}tn!==null&&Ms(tn,t),en!==null&&Ms(en,t),rn!==null&&Ms(rn,t),Yo.forEach(r),Po.forEach(r);for(var o=0;o<an.length;o++){var s=an[o];s.blockedOn===t&&(s.blockedOn=null)}for(;0<an.length&&(o=an[0],o.blockedOn===null);)t0(o),o.blockedOn===null&&an.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],h=o[s+1],w=d[Ke]||null;if(typeof h=="function")w||r0(o);else if(w){var D=null;if(h&&h.hasAttribute("formAction")){if(d=h,w=h[Ke]||null)D=w.formAction;else if(Df(d)!==null)continue}else D=w.action;typeof D=="function"?o[s+1]=D:(o.splice(s,3),s-=3),r0(o)}}}function zf(t){this._internalRoot=t}Rs.prototype.render=zf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,s=Or();Kg(o,s,t,r,null,null)},Rs.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Kg(t.current,2,null,t,null,null),cs(),r[Ba]=null}};function Rs(t){this._internalRoot=t}Rs.prototype.unstable_scheduleHydration=function(t){if(t){var r=xl();t={blockedOn:null,target:t,priority:r};for(var o=0;o<an.length&&r!==0&&r<an[o].priority;o++);an.splice(o,0,t),o===0&&t0(t)}};var a0=a.version;if(a0!=="19.1.0")throw Error(i(527,a0,"19.1.0"));W.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=v(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var pS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{pt=Ds.inject(pS),vt=Ds}catch{}}return Zo.createRoot=function(t,r){if(!l(t))throw Error(i(299));var o=!1,s="",d=bh,h=Sh,w=xh,D=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks)),r=Fg(t,1,!1,null,null,o,s,d,h,w,D,null),t[Ba]=r.current,pf(t),new zf(r)},Zo.hydrateRoot=function(t,r,o){if(!l(t))throw Error(i(299));var s=!1,d="",h=bh,w=Sh,D=xh,X=null,nt=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(X=o.unstable_transitionCallbacks),o.formState!==void 0&&(nt=o.formState)),r=Fg(t,1,!0,r,o??null,s,d,h,w,D,X,nt),r.context=Wg(null),o=r.current,s=Or(),s=Zi(s),d=Ha(s),d.callback=null,Ua(o,d,s),o=s,r.current.lanes=o,gr(r,o),oa(r),t[Ba]=r.current,pf(t),new Rs(r)},Zo.version="19.1.0",Zo}var v0;function wS(){if(v0)return jf.exports;v0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),jf.exports=TS(),jf.exports}var AS=wS();const nr=[];for(let e=0;e<256;++e)nr.push((e+256).toString(16).slice(1));function MS(e,a=0){return(nr[e[a+0]]+nr[e[a+1]]+nr[e[a+2]]+nr[e[a+3]]+"-"+nr[e[a+4]]+nr[e[a+5]]+"-"+nr[e[a+6]]+nr[e[a+7]]+"-"+nr[e[a+8]]+nr[e[a+9]]+"-"+nr[e[a+10]]+nr[e[a+11]]+nr[e[a+12]]+nr[e[a+13]]+nr[e[a+14]]+nr[e[a+15]]).toLowerCase()}let kf;const OS=new Uint8Array(16);function RS(){if(!kf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");kf=crypto.getRandomValues.bind(crypto)}return kf(OS)}const DS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),p0={randomUUID:DS};function Ma(e,a,n){var l;if(p0.randomUUID&&!e)return p0.randomUUID();e=e||{};const i=e.random??((l=e.rng)==null?void 0:l.call(e))??RS();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,MS(i)}function Hd(e,a){for(var n=e.length,i=0;i<n;++i)if(a(e[i],i))return!0;return!1}function mm(e,a){for(var n=e.length,i=0;i<n;++i)if(a(e[i],i))return e[i];return null}function ym(e){var a=e;if(typeof a>"u"){if(typeof navigator>"u"||!navigator)return"";a=navigator.userAgent||""}return a.toLowerCase()}function Ud(e,a){try{return new RegExp(e,"g").exec(a)}catch{return null}}function _S(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,a=e.brands||e.uaList;return!!(a&&a.length)}function zS(e,a){var n=Ud("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",a);return n?n[3]:""}function ud(e){return e.replace(/_/g,".")}function Jo(e,a){var n=null,i="-1";return Hd(e,function(l){var u=Ud("("+l.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",a);return!u||l.brand?!1:(n=l,i=u[3]||"-1",l.versionAlias?i=l.versionAlias:l.versionTest&&(i=zS(l.versionTest.toLowerCase(),a)||i),i=ud(i),!0)}),{preset:n,version:i}}function _s(e,a){var n={brand:"",version:"-1"};return Hd(e,function(i){var l=bm(a,i);return l?(n.brand=i.id,n.version=i.versionAlias||l.version,n.version!=="-1"):!1}),n}function bm(e,a){return mm(e,function(n){var i=n.brand;return Ud(""+a.test,i.toLowerCase())})}var Sm=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],xm=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],cd=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Cm=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Em=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Tm(e){return!!Jo(Cm,e).preset}function NS(e){var a=ym(e),n=!!/mobi/g.exec(a),i={name:"unknown",version:"-1",majorVersion:-1,webview:Tm(a),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},l={name:"unknown",version:"-1",majorVersion:-1},u=Jo(Sm,a),c=u.preset,f=u.version,v=Jo(Em,a),p=v.preset,g=v.version,y=Jo(xm,a);if(i.chromium=!!y.preset,i.chromiumVersion=y.version,!i.chromium){var m=Jo(cd,a);i.webkit=!!m.preset,i.webkitVersion=m.version}return p&&(l.name=p.id,l.version=g,l.majorVersion=parseInt(g,10)),c&&(i.name=c.id,i.version=f,i.webview&&l.name==="ios"&&i.name!=="safari"&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:l,isMobile:n,isHints:!1}}function BS(e){var a=navigator.userAgentData,n=(a.uaList||a.brands).slice(),i=a.mobile||!1,l=n[0],u=(a.platform||navigator.platform).toLowerCase(),c={name:l.brand,version:l.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!_s(Cm,n).brand||Tm(ym())},f={name:"unknown",version:"-1",majorVersion:-1};c.webkit=!c.chromium&&Hd(cd,function(m){return bm(n,m)});var v=_s(xm,n);if(c.chromium=!!v.brand,c.chromiumVersion=v.version||"-1",!c.chromium){var p=_s(cd,n);c.webkit=!!p.brand,c.webkitVersion=p.version||"-1"}var g=mm(Em,function(m){return new RegExp(""+m.test,"g").exec(u)});f.name=g?g.id:"";{var y=_s(Sm,n);c.name=y.brand||c.name,c.version=y.brand&&e?e.uaFullVersion:y.version}return c.webkit&&(f.name=i?"ios":"mac"),f.name==="ios"&&c.webview&&(c.version="-1"),f.version=ud(f.version),c.version=ud(c.version),f.majorVersion=parseInt(f.version,10),c.majorVersion=parseInt(c.version,10),{browser:c,os:f,isMobile:i,isHints:!0}}function jS(e){return _S()?BS():NS(e)}function LS(e){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];return a.map(function(i){return i.split(" ").map(function(l){return l?""+e+l:""}).join(" ")}).join(" ")}function VS(e,a){return a.replace(/([^}{]*){/gm,function(n,i){return i.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function Gn(e,a){return function(n){n&&(e[a]=n)}}function wm(e,a,n){return function(i){i&&(e[a][n]=i)}}function GS(e,a){return a===void 0&&(a={}),function(n,i){e.forEach(function(l){var u=a[l]||l;u in n||(n[u]=function(){for(var c,f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];var p=(c=this[i])[l].apply(c,f);return p===this[i]?this:p})})}}var kS="function",HS="object",US="string",XS="number",Xd="undefined",Am=typeof window!==Xd,IS=typeof document!==Xd&&document,qS=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Xe=1e-7,zs={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,a){return e*a/100},vw:function(e,a){return a===void 0&&(a=window.innerWidth),e/100*a},vh:function(e,a){return a===void 0&&(a=window.innerHeight),e/100*a},vmax:function(e,a){return a===void 0&&(a=Math.max(window.innerWidth,window.innerHeight)),e/100*a},vmin:function(e,a){return a===void 0&&(a=Math.min(window.innerWidth,window.innerHeight)),e/100*a}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function YS(){for(var e=0,a=0,n=arguments.length;a<n;a++)e+=arguments[a].length;for(var i=Array(e),l=0,a=0;a<n;a++)for(var u=arguments[a],c=0,f=u.length;c<f;c++,l++)i[l]=u[c];return i}function tu(e,a,n,i){return(e*i+a*n)/(n+i)}function Id(e){return typeof e===Xd}function $r(e){return e&&typeof e===HS}function $e(e){return Array.isArray(e)}function _a(e){return typeof e===US}function ul(e){return typeof e===XS}function qd(e){return typeof e===kS}function PS(e,a){var n=e===""||e==" ",i=a===""||a==" ";return i&&n||e===a}function Mm(e,a,n,i,l){var u=Yd(e,a,n);return u?n:FS(e,a,n+1,i,l)}function Yd(e,a,n){if(!e.ignore)return null;var i=a.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(i)}function FS(e,a,n,i,l){for(var u=function(p){var g=a[p].trim();if(g===e.close&&!Yd(e,a,p))return{value:p};var y=p,m=Dr(l,function(b){var x=b.open;return x===g});if(m&&(y=Mm(m,a,p,i,l)),y===-1)return c=p,"break";p=y,c=p},c,f=n;f<i;++f){var v=u(f);if(f=c,typeof v=="object")return v.value;if(v==="break")break}return-1}function Pd(e,a){var n=_a(a)?{separator:a}:a,i=n.separator,l=i===void 0?",":i,u=n.isSeparateFirst,c=n.isSeparateOnlyOpenClose,f=n.isSeparateOpenClose,v=f===void 0?c:f,p=n.openCloseCharacters,g=p===void 0?qS:p,y=g.map(function(N){var z=N.open,j=N.close;return z===j?z:z+"|"+j}).join("|"),m="(\\s*"+l+"\\s*|"+y+"|\\s+)",b=new RegExp(m,"g"),x=e.split(b).filter(function(N){return N&&N!=="undefined"}),S=x.length,C=[],T=[];function M(){return T.length?(C.push(T.join("")),T=[],!0):!1}for(var A=function(N){var z=x[N].trim(),j=N,H=Dr(g,function(U){var $=U.open;return $===z}),P=Dr(g,function(U){var $=U.close;return $===z});if(H){if(j=Mm(H,x,N,S,g),j!==-1&&v)return M()&&u||(C.push(x.slice(N,j+1).join("")),N=j,u)?(O=N,"break"):(O=N,"continue")}else if(P&&!Yd(P,x,N)){var q=YS(g);return q.splice(g.indexOf(P),1),{value:Pd(e,{separator:l,isSeparateFirst:u,isSeparateOnlyOpenClose:c,isSeparateOpenClose:v,openCloseCharacters:q})}}else if(PS(z,l)&&!c)return M(),u?(O=N,"break"):(O=N,"continue");j===-1&&(j=S-1),T.push(x.slice(N,j+1).join("")),N=j,O=N},O,R=0;R<S;++R){var _=A(R);if(R=O,typeof _=="object")return _.value;if(_==="break")break}return T.length&&C.push(T.join("")),C}function fn(e){return Pd(e,"")}function Vn(e){return Pd(e,",")}function Om(e){var a=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!a||a.length<4?{}:{prefix:a[1],value:a[2],suffix:a[3]}}function pl(e){var a=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!a)return{prefix:"",unit:"",value:NaN};var n=a[1],i=a[2],l=a[3];return{prefix:n,unit:l,value:parseFloat(i)}}function WS(e,a){return e.replace(/([a-z])([A-Z])/g,function(n,i,l){return""+i+a+l.toLowerCase()})}function cl(){return Date.now?Date.now():new Date().getTime()}function Da(e,a,n){n===void 0&&(n=-1);for(var i=e.length,l=0;l<i;++l)if(a(e[l],l,e))return l;return n}function Dr(e,a,n){var i=Da(e,a);return i>-1?e[i]:n}var Rm=function(){var e=cl(),a=Am&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return a?a.bind(window):function(n){var i=cl(),l=setTimeout(function(){n(i-e)},1e3/60);return l}}(),KS=function(){var e=Am&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return e?e.bind(window):function(a){clearTimeout(a)}}();function Yi(e){return Object.keys(e)}function ge(e,a){var n=pl(e),i=n.value,l=n.unit;if($r(a)){var u=a[l];if(u){if(qd(u))return u(i);if(zs[l])return zs[l](i,u)}}else if(l==="%")return i*a/100;return zs[l]?zs[l](i):i}function fd(e,a,n){return Math.max(a,Math.min(e,n))}function h0(e,a,n,i){return i===void 0&&(i=e[0]/e[1]),[[It(a[0],Xe),It(a[0]/i,Xe)],[It(a[1]*i,Xe),It(a[1],Xe)]].filter(function(l){return l.every(function(u,c){var f=a[c],v=It(f,Xe);return n?u<=f||u<=v:u>=f||u>=v})})[0]||e}function Dm(e,a,n,i){if(!i)return e.map(function(b,x){return fd(b,a[x],n[x])});var l=e[0],u=e[1],c=i===!0?l/u:i,f=h0(e,a,!1,c),v=f[0],p=f[1],g=h0(e,n,!0,c),y=g[0],m=g[1];return l<v||u<p?(l=v,u=p):(l>y||u>m)&&(l=y,u=m),[l,u]}function ZS(e){for(var a=e.length,n=0,i=a-1;i>=0;--i)n+=e[i];return n}function dd(e){for(var a=e.length,n=0,i=a-1;i>=0;--i)n+=e[i];return a?n/a:0}function Ge(e,a){var n=a[0]-e[0],i=a[1]-e[1],l=Math.atan2(i,n);return l>=0?l:l+Math.PI*2}function QS(e){return[0,1].map(function(a){return dd(e.map(function(n){return n[a]}))})}function g0(e){var a=QS(e),n=Ge(a,e[0]),i=Ge(a,e[1]);return n<i&&i-n<Math.PI||n>i&&i-n<-Math.PI?1:-1}function Oa(e,a){return Math.sqrt(Math.pow((a?a[0]:0)-e[0],2)+Math.pow((a?a[1]:0)-e[1],2))}function It(e,a){if(!a)return e;var n=1/a;return Math.round(e/a)/n}function m0(e,a){return e.forEach(function(n,i){e[i]=It(e[i],a)}),e}function JS(e){for(var a=[],n=0;n<e;++n)a.push(n);return a}function $S(e){return e.reduce(function(a,n){return a.concat(n)},[])}function Ye(e,a){return e.classList?e.classList.contains(a):!!e.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}function _m(e,a){e.classList?e.classList.add(a):e.className+=" "+a}function zm(e,a){if(e.classList)e.classList.remove(a);else{var n=new RegExp("(\\s|^)"+a+"(\\s|$)");e.className=e.className.replace(n," ")}}function sr(e,a,n,i){e.addEventListener(a,n,i)}function ar(e,a,n,i){e.removeEventListener(a,n,i)}function Fd(e){return(e==null?void 0:e.ownerDocument)||IS}function Wd(e){return Fd(e).documentElement}function pn(e){return Fd(e).body}function un(e){var a;return((a=e==null?void 0:e.ownerDocument)===null||a===void 0?void 0:a.defaultView)||window}function Nm(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function Kd(e){return $r(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}function tx(e,a,n,i,l,u){for(var c=0;c<l;++c){var f=n+c*l,v=i+c*l;e[f]+=e[v]*u,a[f]+=a[v]*u}}function ex(e,a,n,i,l){for(var u=0;u<l;++u){var c=n+u*l,f=i+u*l,v=e[c],p=a[c];e[c]=e[f],e[f]=v,a[c]=a[f],a[f]=p}}function rx(e,a,n,i,l){for(var u=0;u<i;++u){var c=n+u*i;e[c]/=l,a[c]/=l}}function Bm(e,a,n){for(var i=e.slice(),l=0;l<n;++l)i[l*n+a-1]=0,i[(a-1)*n+l]=0;return i[(a-1)*(n+1)]=1,i}function ca(e,a){a===void 0&&(a=Math.sqrt(e.length));for(var n=e.slice(),i=Ae(a),l=0;l<a;++l){var u=a*l+l;if(!It(n[u],Xe)){for(var c=l+1;c<a;++c)if(n[a*l+c]){ex(n,i,l,c,a);break}}if(!It(n[u],Xe))return[];rx(n,i,l,a,n[u]);for(var c=0;c<a;++c){var f=c,v=c+l*a,p=n[v];!It(p,Xe)||l===c||tx(n,i,f,l,a,-p)}}return i}function ax(e,a){a===void 0&&(a=Math.sqrt(e.length));for(var n=[],i=0;i<a;++i)for(var l=0;l<a;++l)n[l*a+i]=e[a*i+l];return n}function jm(e,a){a===void 0&&(a=Math.sqrt(e.length));for(var n=[],i=e[a*a-1],l=0;l<a-1;++l)n[l]=e[a*(a-1)+l]/i;return n[a-1]=0,n}function nx(e,a){for(var n=Ae(a),i=0;i<a-1;++i)n[a*(a-1)+i]=e[i]||0;return n}function kn(e,a){for(var n=e.slice(),i=e.length;i<a-1;++i)n[i]=0;return n[a-1]=1,n}function ta(e,a,n){if(a===void 0&&(a=Math.sqrt(e.length)),a===n)return e;for(var i=Ae(n),l=Math.min(a,n),u=0;u<l-1;++u){for(var c=0;c<l-1;++c)i[u*n+c]=e[u*a+c];i[(u+1)*n-1]=e[(u+1)*a-1],i[(n-1)*n+u]=e[(a-1)*a+u]}return i[n*n-1]=e[a*a-1],i}function eu(e){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];var i=Ae(e);return a.forEach(function(l){i=me(i,l,e)}),i}function me(e,a,n){n===void 0&&(n=Math.sqrt(e.length));var i=[],l=e.length/n,u=a.length/l;if(l){if(!u)return e}else return a;for(var c=0;c<n;++c)for(var f=0;f<u;++f){i[f*n+c]=0;for(var v=0;v<l;++v)i[f*n+c]+=e[v*n+c]*a[f*l+v]}return i}function ae(e,a){for(var n=Math.min(e.length,a.length),i=e.slice(),l=0;l<n;++l)i[l]=i[l]+a[l];return i}function Vt(e,a){for(var n=Math.min(e.length,a.length),i=e.slice(),l=0;l<n;++l)i[l]=i[l]-a[l];return i}function ix(e,a){return a===void 0&&(a=e.length===6),a?[e[0],e[1],0,e[2],e[3],0,e[4],e[5],1]:e}function Lm(e,a){return a===void 0&&(a=e.length===9),a?[e[0],e[1],e[3],e[4],e[6],e[7]]:e}function ur(e,a,n){n===void 0&&(n=a.length);var i=me(e,a,n),l=i[n-1];return i.map(function(u){return u/l})}function ox(e,a){return me(e,[1,0,0,0,0,Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1],4)}function lx(e,a){return me(e,[Math.cos(a),0,-Math.sin(a),0,0,1,0,0,Math.sin(a),0,Math.cos(a),0,0,0,0,1],4)}function sx(e,a){return me(e,gl(a,4))}function Ns(e,a){var n=a[0],i=n===void 0?1:n,l=a[1],u=l===void 0?1:l,c=a[2],f=c===void 0?1:c;return me(e,[i,0,0,0,0,u,0,0,0,0,f,0,0,0,0,1],4)}function hl(e,a){return ur(gl(a,3),kn(e,3))}function Hf(e,a){var n=a[0],i=n===void 0?0:n,l=a[1],u=l===void 0?0:l,c=a[2],f=c===void 0?0:c;return me(e,[1,0,0,0,0,1,0,0,0,0,1,0,i,u,f,1],4)}function y0(e,a){return me(e,a,4)}function gl(e,a){var n=Math.cos(e),i=Math.sin(e),l=Ae(a);return l[0]=n,l[1]=i,l[a]=-i,l[a+1]=n,l}function Ae(e){for(var a=e*e,n=[],i=0;i<a;++i)n[i]=i%(e+1)?0:1;return n}function Zd(e,a){for(var n=Ae(a),i=Math.min(e.length,a-1),l=0;l<i;++l)n[(a+1)*l]=e[l];return n}function Hn(e,a){for(var n=Ae(a),i=Math.min(e.length,a-1),l=0;l<i;++l)n[a*(a-1)+l]=e[l];return n}function Qd(e,a,n,i,l,u,c,f){var v=e[0],p=e[1],g=a[0],y=a[1],m=n[0],b=n[1],x=i[0],S=i[1],C=l[0],T=l[1],M=u[0],A=u[1],O=c[0],R=c[1],_=f[0],N=f[1],z=[v,0,g,0,m,0,x,0,p,0,y,0,b,0,S,0,1,0,1,0,1,0,1,0,0,v,0,g,0,m,0,x,0,p,0,y,0,b,0,S,0,1,0,1,0,1,0,1,-C*v,-T*v,-M*g,-A*g,-O*m,-R*m,-_*x,-N*x,-C*p,-T*p,-M*y,-A*y,-O*b,-R*b,-_*S,-N*S],j=ca(z,8);if(!j.length)return[];var H=me(j,[C,T,M,A,O,R,_,N],8);return H[8]=1,ta(ax(H),3,4)}var el=function(){return el=Object.assign||function(a){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},el.apply(this,arguments)};function ux(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function fl(e,a){return a===void 0&&(a=0),Di(Vi(e,a))}function cx(e,a){var n=ur(e,[a[0],a[1]||0,a[2]||0,1],4),i=n[3]||1;return[n[0]/i,n[1]/i,n[2]/i]}function Di(e){var a=ux();return e.forEach(function(n){var i=n.matrixFunction,l=n.functionValue;i&&(a=i(a,l))}),a}function Vi(e,a){a===void 0&&(a=0);var n=$e(e)?e:fn(e);return n.map(function(i){var l=Om(i),u=l.prefix,c=l.value,f=null,v=u,p="";if(u==="translate"||u==="translateX"||u==="translate3d"){var g=$r(a)?el(el({},a),{"o%":a["%"]}):{"%":a,"o%":a},y=Vn(c).map(function(U,$){return $===0&&"x%"in g?g["%"]=a["x%"]:$===1&&"y%"in g?g["%"]=a["y%"]:g["%"]=a["o%"],ge(U,g)}),m=y[0],b=y[1],x=b===void 0?0:b,S=y[2],C=S===void 0?0:S;f=Hf,p=[m,x,C]}else if(u==="translateY"){var T=$r(a)?el({"%":a["y%"]},a):{"%":a},x=ge(c,T);f=Hf,p=[0,x,0]}else if(u==="translateZ"){var C=parseFloat(c);f=Hf,p=[0,0,C]}else if(u==="scale"||u==="scale3d"){var M=Vn(c).map(function(U){return parseFloat(U)}),A=M[0],O=M[1],R=O===void 0?A:O,_=M[2],N=_===void 0?1:_;f=Ns,p=[A,R,N]}else if(u==="scaleX"){var A=parseFloat(c);f=Ns,p=[A,1,1]}else if(u==="scaleY"){var R=parseFloat(c);f=Ns,p=[1,R,1]}else if(u==="scaleZ"){var N=parseFloat(c);f=Ns,p=[1,1,N]}else if(u==="rotate"||u==="rotateZ"||u==="rotateX"||u==="rotateY"){var z=pl(c),j=z.unit,H=z.value,P=j==="rad"?H:H*Math.PI/180;u==="rotate"||u==="rotateZ"?(v="rotateZ",f=sx):u==="rotateX"?f=ox:u==="rotateY"&&(f=lx),p=P}else if(u==="matrix3d")f=y0,p=Vn(c).map(function(U){return parseFloat(U)});else if(u==="matrix"){var q=Vn(c).map(function(U){return parseFloat(U)});f=y0,p=[q[0],q[1],0,0,q[2],q[3],0,0,0,0,1,0,q[4],q[5],0,1]}else v="";return{name:u,functionName:v,value:c,matrixFunction:f,functionValue:p}})}var fx=function(){function e(){this.keys=[],this.values=[]}var a=e.prototype;return a.get=function(n){return this.values[this.keys.indexOf(n)]},a.set=function(n,i){var l=this.keys,u=this.values,c=l.indexOf(n),f=c===-1?l.length:c;l[f]=n,u[f]=i},e}(),dx=function(){function e(){this.object={}}var a=e.prototype;return a.get=function(n){return this.object[n]},a.set=function(n,i){this.object[n]=i},e}(),vx=typeof Map=="function",px=function(){function e(){}var a=e.prototype;return a.connect=function(n,i){this.prev=n,this.next=i,n&&(n.next=this),i&&(i.prev=this)},a.disconnect=function(){var n=this.prev,i=this.next;n&&(n.next=i),i&&(i.prev=n)},a.getIndex=function(){for(var n=this,i=-1;n;)n=n.prev,++i;return i},e}();function hx(e,a){var n=[],i=[];return e.forEach(function(l){var u=l[0],c=l[1],f=new px;n[u]=f,i[c]=f}),n.forEach(function(l,u){l.connect(n[u-1])}),e.filter(function(l,u){return!a[u]}).map(function(l,u){var c=l[0],f=l[1];if(c===f)return[0,0];var v=n[c],p=i[f-1],g=v.getIndex();v.disconnect(),p?v.connect(p,p.next):v.connect(void 0,n[0]);var y=v.getIndex();return[g,y]})}var gx=function(){function e(n,i,l,u,c,f,v,p){this.prevList=n,this.list=i,this.added=l,this.removed=u,this.changed=c,this.maintained=f,this.changedBeforeAdded=v,this.fixed=p}var a=e.prototype;return Object.defineProperty(a,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(a,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),a.caculateOrdered=function(){var n=hx(this.changedBeforeAdded,this.fixed),i=this.changed,l=[];this.cacheOrdered=n.filter(function(u,c){var f=u[0],v=u[1],p=i[c],g=p[0],y=p[1];if(f!==v)return l.push([g,y]),!0}),this.cachePureChanged=l},e}();function Jd(e,a,n){var i=vx?Map:n?dx:fx,l=n||function(M){return M},u=[],c=[],f=[],v=e.map(l),p=a.map(l),g=new i,y=new i,m=[],b=[],x={},S=[],C=0,T=0;return v.forEach(function(M,A){g.set(M,A)}),p.forEach(function(M,A){y.set(M,A)}),v.forEach(function(M,A){var O=y.get(M);typeof O>"u"?(++T,c.push(A)):x[O]=T}),p.forEach(function(M,A){var O=g.get(M);typeof O>"u"?(u.push(A),++C):(f.push([O,A]),T=x[A]||0,m.push([O-T,A-C]),b.push(A===O),O!==A&&S.push([O,A]))}),c.reverse(),new gx(e,a,u,c,S,f,m,b)}var mx=function(){function e(n,i){n===void 0&&(n=[]),this.findKeyCallback=i,this.list=[].slice.call(n)}var a=e.prototype;return a.update=function(n){var i=[].slice.call(n),l=Jd(this.list,i,this.findKeyCallback);return this.list=i,l},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vd=function(e,a){return vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)i.hasOwnProperty(l)&&(n[l]=i[l])},vd(e,a)};function yx(e,a){vd(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var Vm=typeof Map=="function"?void 0:function(){var e=0;return function(a){return a.__DIFF_KEY__||(a.__DIFF_KEY__=++e)}}(),Gm=function(e){yx(a,e);function a(n){return n===void 0&&(n=[]),e.call(this,n,Vm)||this}return a}(mx);function bx(e,a){return Jd(e,a,Vm)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pd=function(){return pd=Object.assign||function(a){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},pd.apply(this,arguments)};function Sx(){for(var e=0,a=0,n=arguments.length;a<n;a++)e+=arguments[a].length;for(var i=Array(e),l=0,a=0;a<n;a++)for(var u=arguments[a],c=0,f=u.length;c<f;c++,l++)i[l]=u[c];return i}var $d=function(){function e(){this._events={}}var a=e.prototype;return a.on=function(n,i){if($r(n))for(var l in n)this.on(l,n[l]);else this._addEvent(n,i,{});return this},a.off=function(n,i){if(!n)this._events={};else if($r(n))for(var l in n)this.off(l);else if(!i)this._events[n]=[];else{var u=this._events[n];if(u){var c=Da(u,function(f){return f.listener===i});c>-1&&u.splice(c,1)}}return this},a.once=function(n,i){var l=this;return i&&this._addEvent(n,i,{once:!0}),new Promise(function(u){l._addEvent(n,u,{once:!0})})},a.emit=function(n,i){var l=this;i===void 0&&(i={});var u=this._events[n];if(!n||!u)return!0;var c=!1;return i.eventType=n,i.stop=function(){c=!0},i.currentTarget=this,Sx(u).forEach(function(f){f.listener(i),f.once&&l.off(n,f.listener)}),!c},a.trigger=function(n,i){return i===void 0&&(i={}),this.emit(n,i)},a._addEvent=function(n,i,l){var u=this._events;u[n]=u[n]||[];var c=u[n];c.push(pd({listener:i},l))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hd=function(e,a){return hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)i.hasOwnProperty(l)&&(n[l]=i[l])},hd(e,a)};function xx(e,a){hd(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var _i=function(){return _i=Object.assign||function(a){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},_i.apply(this,arguments)};function Cx(e){var a=e.container;return a===document.body?[a.scrollLeft||document.documentElement.scrollLeft,a.scrollTop||document.documentElement.scrollTop]:[a.scrollLeft,a.scrollTop]}function b0(e,a){return e.addEventListener("scroll",a),function(){e.removeEventListener("scroll",a)}}function Bs(e){if(e){if(_a(e))return document.querySelector(e)}else return null;if(qd(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var Ex=function(e){xx(a,e);function a(){var i=e!==null&&e.apply(this,arguments)||this;return i._startRect=null,i._startPos=[],i._prevTime=0,i._timer=0,i._prevScrollPos=[0,0],i._isWait=!1,i._flag=!1,i._currentOptions=null,i._lock=!1,i._unregister=null,i._onScroll=function(){var l=i._currentOptions;i._lock||!l||i.emit("scrollDrag",{next:function(u){i.checkScroll({container:l.container,inputEvent:u})}})},i}var n=a.prototype;return n.dragStart=function(i,l){var u=Bs(l.container);if(!u){this._flag=!1;return}var c=0,f=0,v=0,p=0;if(u===document.body)v=window.innerWidth,p=window.innerHeight;else{var g=u.getBoundingClientRect();c=g.top,f=g.left,v=g.width,p=g.height}this._flag=!0,this._startPos=[i.clientX,i.clientY],this._startRect={top:c,left:f,width:v,height:p},this._prevScrollPos=this._getScrollPosition([0,0],l),this._currentOptions=l,this._registerScrollEvent(l)},n.drag=function(i,l){if(clearTimeout(this._timer),!!this._flag){var u=i.clientX,c=i.clientY,f=l.threshold,v=f===void 0?0:f,p=this,g=p._startRect,y=p._startPos;this._currentOptions=l;var m=[0,0];return g.top>c-v?(y[1]>g.top||c<y[1])&&(m[1]=-1):g.top+g.height<c+v&&(y[1]<g.top+g.height||c>y[1])&&(m[1]=1),g.left>u-v?(y[0]>g.left||u<y[0])&&(m[0]=-1):g.left+g.width<u+v&&(y[0]<g.left+g.width||u>y[0])&&(m[0]=1),!m[0]&&!m[1]?!1:this._continueDrag(_i(_i({},l),{direction:m,inputEvent:i,isDrag:!0}))}},n.checkScroll=function(i){var l=this;if(this._isWait)return!1;var u=i.prevScrollPos,c=u===void 0?this._prevScrollPos:u,f=i.direction,v=i.throttleTime,p=v===void 0?0:v,g=i.inputEvent,y=i.isDrag,m=this._getScrollPosition(f||[0,0],i),b=m[0]-c[0],x=m[1]-c[1],S=f||[b?Math.abs(b)/b:0,x?Math.abs(x)/x:0];return this._prevScrollPos=m,this._lock=!1,!b&&!x?!1:(this.emit("move",{offsetX:S[0]?b:0,offsetY:S[1]?x:0,inputEvent:g}),p&&y&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){l._continueDrag(i)},p)),!0)},n.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},n._getScrollPosition=function(i,l){var u=l.container,c=l.getScrollPosition,f=c===void 0?Cx:c;return f({container:Bs(u),direction:i})},n._continueDrag=function(i){var l=this,u,c=i.container,f=i.direction,v=i.throttleTime,p=i.useScroll,g=i.isDrag,y=i.inputEvent;if(!(!this._flag||g&&this._isWait)){var m=cl(),b=Math.max(v+this._prevTime-m,0);if(b>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){l._continueDrag(i)},b),!1;this._prevTime=m;var x=this._getScrollPosition(f,i);this._prevScrollPos=x,g&&(this._isWait=!0),p||(this._lock=!0);var S={container:Bs(c),direction:f,inputEvent:y};return(u=i.requestScroll)===null||u===void 0||u.call(i,S),this.emit("scroll",S),this._isWait=!1,p||this.checkScroll(_i(_i({},i),{prevScrollPos:x,direction:f,inputEvent:y}))}},n._registerScrollEvent=function(i){this._unregisterScrollEvent();var l=i.checkScrollEvent;if(l){var u=l===!0?b0:l,c=Bs(i.container);l===!0&&(c===document.body||c===document.documentElement)?this._unregister=b0(window,this._onScroll):this._unregister=u(c,this._onScroll)}},n._unregisterScrollEvent=function(){var i;(i=this._unregister)===null||i===void 0||i.call(this),this._unregister=null},a}($d);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Tx(){for(var e=0,a=0,n=arguments.length;a<n;a++)e+=arguments[a].length;for(var i=Array(e),l=0,a=0;a<n;a++)for(var u=arguments[a],c=0,f=u.length;c<f;c++,l++)i[l]=u[c];return i}function xr(e){return It(e,Xe)}function wx(e,a){return e.every(function(n,i){return xr(n-a[i])===0})}function Ax(e,a){return!xr(e[0]-a[0])&&!xr(e[1]-a[1])}function km(e){return e.length<3?0:Math.abs(ZS(e.map(function(a,n){var i=e[n+1]||e[0];return a[0]*i[1]-i[0]*a[1]})))/2}function S0(e,a){var n=a.width,i=a.height,l=a.left,u=a.top,c=Un(e),f=c.minX,v=c.minY,p=c.maxX,g=c.maxY,y=n/(p-f),m=i/(g-v);return e.map(function(b){return[l+(b[0]-f)*y,u+(b[1]-v)*m]})}function Un(e){var a=e.map(function(i){return i[0]}),n=e.map(function(i){return i[1]});return{minX:Math.min.apply(Math,a),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,a),maxY:Math.max.apply(Math,n)}}function gd(e,a,n){var i=e[0],l=e[1],u=Un(a),c=u.minX,f=u.maxX,v=[[c,l],[f,l]],p=ru(v[0],v[1]),g=md(a),y=[];if(g.forEach(function(x){var S=ru(x[0],x[1]),C=x[0];if(wx(p,S))y.push({pos:e,line:x,type:"line"});else{var T=Hm(tv(p,S),[v,x]);T.forEach(function(M){x.some(function(A){return Ax(A,M)})?y.push({pos:M,line:x,type:"point"}):xr(C[1]-l)!==0&&y.push({pos:M,line:x,type:"intersection"})})}}),Dr(y,function(x){return x[0]===i}))return!0;var m=0,b={};return y.forEach(function(x){var S=x.pos,C=x.type,T=x.line;if(!(S[0]>i))if(C==="intersection")++m;else{if(C==="line")return;if(C==="point"){var M=Dr(T,function(R){return R[1]!==l}),A=b[S[0]],O=M[1]>l?1:-1;A?A!==O&&++m:b[S[0]]=O}}}),m%2===1}function ru(e,a){var n=e[0],i=e[1],l=a[0],u=a[1],c=l-n,f=u-i;Math.abs(c)<Xe&&(c=0),Math.abs(f)<Xe&&(f=0);var v=0,p=0,g=0;return c?f?(v=-f/c,p=1,g=-v*n-i):(p=1,g=-i):f&&(v=-1,g=n),[v,p,g]}function tv(e,a){var n=e[0],i=e[1],l=e[2],u=a[0],c=a[1],f=a[2],v=n===0&&u===0,p=i===0&&c===0,g=[];if(v&&p)return[];if(v){var y=-l/i,m=-f/c;return y!==m?[]:[[-1/0,y],[1/0,y]]}else if(p){var b=-l/n,x=-f/u;return b!==x?[]:[[b,-1/0],[b,1/0]]}else if(n===0){var S=-l/i,C=-(c*S+f)/u;g=[[C,S]]}else if(u===0){var S=-f/c,C=-(i*S+l)/n;g=[[C,S]]}else if(i===0){var C=-l/n,S=-(u*C+f)/c;g=[[C,S]]}else if(c===0){var C=-f/u,S=-(n*C+l)/i;g=[[C,S]]}else{var C=(i*f-c*l)/(c*n-i*u),S=-(n*C+l)/i;g=[[C,S]]}return g.map(function(T){return[T[0],T[1]]})}function Hm(e,a){var n=a.map(function(y){return[0,1].map(function(m){return[Math.min(y[0][m],y[1][m]),Math.max(y[0][m],y[1][m])]})}),i=[];if(e.length===2){var l=e[0],u=l[0],c=l[1];if(xr(u-e[1][0])){if(!xr(c-e[1][1])){var p=Math.max.apply(Math,n.map(function(y){return y[0][0]})),g=Math.min.apply(Math,n.map(function(y){return y[0][1]}));if(xr(p-g)>0)return[];i=[[p,c],[g,c]]}}else{var f=Math.max.apply(Math,n.map(function(y){return y[1][0]})),v=Math.min.apply(Math,n.map(function(y){return y[1][1]}));if(xr(f-v)>0)return[];i=[[u,f],[u,v]]}}return i.length||(i=e.filter(function(y){var m=y[0],b=y[1];return n.every(function(x){return 0<=xr(m-x[0][0])&&0<=xr(x[0][1]-m)&&0<=xr(b-x[1][0])&&0<=xr(x[1][1]-b)})})),i.map(function(y){return[xr(y[0]),xr(y[1])]})}function md(e){return Tx(e.slice(1),[e[0]]).map(function(a,n){return[e[n],a]})}function Mx(e,a){var n=e.slice(),i=a.slice();g0(n)===-1&&n.reverse(),g0(i)===-1&&i.reverse();var l=md(n),u=md(i),c=l.map(function(g){return ru(g[0],g[1])}),f=u.map(function(g){return ru(g[0],g[1])}),v=[];c.forEach(function(g,y){var m=l[y],b=[];f.forEach(function(x,S){var C=tv(g,x),T=Hm(C,[m,u[S]]);b.push.apply(b,T.map(function(M){return{index1:y,index2:S,pos:M,type:"intersection"}}))}),b.sort(function(x,S){return Oa(m[0],x.pos)-Oa(m[0],S.pos)}),v.push.apply(v,b),gd(m[1],i)&&v.push({index1:y,index2:-1,pos:m[1],type:"inside"})}),u.forEach(function(g,y){if(gd(g[1],n)){var m=!1,b=Da(v,function(x){var S=x.index2;return S===y?(m=!0,!1):!!m});b===-1&&(m=!1,b=Da(v,function(x){var S=x.index1,C=x.index2;return S===-1&&C+1===y?(m=!0,!1):!!m})),b===-1?v.push({index1:-1,index2:y,pos:g[1],type:"inside"}):v.splice(b,0,{index1:-1,index2:y,pos:g[1],type:"inside"})}});var p={};return v.filter(function(g){var y=g.pos,m=y[0]+"x"+y[1];return p[m]?!1:(p[m]=!0,!0)})}function Ox(e,a){var n=Mx(e,a);return n.map(function(i){var l=i.pos;return l})}function Rx(e,a){var n=Ox(e,a);return km(n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yd=function(e,a){return yd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)i.hasOwnProperty(l)&&(n[l]=i[l])},yd(e,a)};function Dx(e,a){yd(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var Ue=function(){return Ue=Object.assign||function(a){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},Ue.apply(this,arguments)};function _x(e,a){var n=a[0]-e[0],i=a[1]-e[1],l=Math.atan2(i,n);return l>=0?l:l+Math.PI*2}function Uf(e){return _x([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function zx(e){return e.touches&&e.touches.length>=2}function js(e){return e?e.touches?Bx(e.touches):[Um(e)]:[]}function Nx(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function x0(e,a,n){var i=n.length,l=rl(e,i),u=l.clientX,c=l.clientY,f=l.originalClientX,v=l.originalClientY,p=rl(a,i),g=p.clientX,y=p.clientY,m=rl(n,i),b=m.clientX,x=m.clientY,S=u-g,C=c-y,T=u-b,M=c-x;return{clientX:f,clientY:v,deltaX:S,deltaY:C,distX:T,distY:M}}function Xf(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function Bx(e){for(var a=Math.min(e.length,2),n=[],i=0;i<a;++i)n.push(Um(e[i]));return n}function Um(e){return{clientX:e.clientX,clientY:e.clientY}}function rl(e,a){a===void 0&&(a=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=Math.min(e.length,a),l=0;l<i;++l){var u=e[l];n.originalClientX+="originalClientX"in u?u.originalClientX:u.clientX,n.originalClientY+="originalClientY"in u?u.originalClientY:u.clientY,n.clientX+=u.clientX,n.clientY+=u.clientY}return a?{clientX:n.clientX/a,clientY:n.clientY/a,originalClientX:n.originalClientX/a,originalClientY:n.originalClientY/a}:n}var If=function(){function e(a){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=a,this.prevClients=a,this.length=a.length}return e.prototype.getAngle=function(a){return a===void 0&&(a=this.prevClients),Uf(a)},e.prototype.getRotation=function(a){return a===void 0&&(a=this.prevClients),Uf(a)-Uf(this.startClients)},e.prototype.getPosition=function(a,n){a===void 0&&(a=this.prevClients);var i=x0(a||this.prevClients,this.prevClients,this.startClients),l=i.deltaX,u=i.deltaY;return this.movement+=Math.sqrt(l*l+u*u),this.prevClients=a,i},e.prototype.getPositions=function(a){a===void 0&&(a=this.prevClients);for(var n=this.prevClients,i=this.startClients,l=Math.min(this.length,n.length),u=[],c=0;c<l;++c)u[c]=x0([a[c]],[n[c]],[i[c]]);return u},e.prototype.getMovement=function(a){var n=this.movement;if(!a)return n;var i=rl(a,this.length),l=rl(this.prevClients,this.length),u=i.clientX-l.clientX,c=i.clientY-l.clientY;return Math.sqrt(u*u+c*c)+n},e.prototype.getDistance=function(a){return a===void 0&&(a=this.prevClients),Xf(a)},e.prototype.getScale=function(a){return a===void 0&&(a=this.prevClients),Xf(a)/Xf(this.startClients)},e.prototype.move=function(a,n){this.startClients.forEach(function(i){i.clientX-=a,i.clientY-=n}),this.prevClients.forEach(function(i){i.clientX-=a,i.clientY-=n})},e}(),C0=["textarea","input"],jx=function(e){Dx(a,e);function a(n,i){i===void 0&&(i={});var l=e.call(this)||this;l.options={},l.flag=!1,l.pinchFlag=!1,l.data={},l.isDrag=!1,l.isPinch=!1,l.clientStores=[],l.targets=[],l.prevTime=0,l.doubleFlag=!1,l._useMouse=!1,l._useTouch=!1,l._useDrag=!1,l._dragFlag=!1,l._isTrusted=!1,l._isMouseEvent=!1,l._isSecondaryButton=!1,l._preventMouseEvent=!1,l._prevInputEvent=null,l._isDragAPI=!1,l._isIdle=!0,l._preventMouseEventId=0,l._window=window,l.onDragStart=function(m,b){if(b===void 0&&(b=!0),!(!l.flag&&m.cancelable===!1)){var x=m.type.indexOf("drag")>=-1;if(!(l.flag&&x)){l._isDragAPI=!0;var S=l.options,C=S.container,T=S.pinchOutside,M=S.preventWheelClick,A=S.preventRightClick,O=S.preventDefault,R=S.checkInput,_=S.dragFocusedInput,N=S.preventClickEventOnDragStart,z=S.preventClickEventOnDrag,j=S.preventClickEventByCondition,H=l._useTouch,P=!l.flag;if(l._isSecondaryButton=m.which===3||m.button===2,M&&(m.which===2||m.button===1)||A&&(m.which===3||m.button===2))return l.stop(),!1;if(P){var q=l._window.document.activeElement,U=m.target;if(U){var $=U.tagName.toLowerCase(),G=C0.indexOf($)>-1,V=U.isContentEditable;if(G||V){if(R||!_&&q===U)return!1;if(q&&(q===U||V&&q.isContentEditable&&q.contains(U)))if(_)U.blur();else return!1}else if((O||m.type==="touchstart")&&q){var W=q.tagName.toLowerCase();(q.isContentEditable||C0.indexOf(W)>-1)&&q.blur()}(N||z||j)&&sr(l._window,"click",l._onClick,!0)}l.clientStores=[new If(js(m))],l._isIdle=!1,l.flag=!0,l.isDrag=!1,l._isTrusted=b,l._dragFlag=!0,l._prevInputEvent=m,l.data={},l.doubleFlag=cl()-l.prevTime<200,l._isMouseEvent=Nx(m),!l._isMouseEvent&&l._preventMouseEvent&&l._allowMouseEvent();var Q=l._preventMouseEvent||l.emit("dragStart",Ue(Ue({data:l.data,datas:l.data,inputEvent:m,isMouseEvent:l._isMouseEvent,isSecondaryButton:l._isSecondaryButton,isTrusted:b,isDouble:l.doubleFlag},l.getCurrentStore().getPosition()),{preventDefault:function(){m.preventDefault()},preventDrag:function(){l._dragFlag=!1}}));Q===!1&&l.stop(),l._isMouseEvent&&l.flag&&O&&m.preventDefault()}if(!l.flag)return!1;var ot=0;if(P?(l._attchDragEvent(),H&&T&&(ot=setTimeout(function(){sr(C,"touchstart",l.onDragStart,{passive:!1})}))):H&&T&&ar(C,"touchstart",l.onDragStart),l.flag&&zx(m)){if(clearTimeout(ot),P&&m.touches.length!==m.changedTouches.length)return;l.pinchFlag||l.onPinchStart(m)}}}},l.onDrag=function(m,b){if(l.flag){var x=l.options.preventDefault;!l._isMouseEvent&&x&&m.preventDefault(),l._prevInputEvent=m;var S=js(m),C=l.moveClients(S,m,!1);if(l._dragFlag){if(l.pinchFlag||C.deltaX||C.deltaY){var T=l._preventMouseEvent||l.emit("drag",Ue(Ue({},C),{isScroll:!!b,inputEvent:m}));if(T===!1){l.stop();return}}l.pinchFlag&&l.onPinch(m,S)}l.getCurrentStore().getPosition(S,!0)}},l.onDragEnd=function(m){if(l.flag){var b=l.options,x=b.pinchOutside,S=b.container,C=b.preventClickEventOnDrag,T=b.preventClickEventOnDragStart,M=b.preventClickEventByCondition,A=l.isDrag;(C||T||M)&&requestAnimationFrame(function(){l._allowClickEvent()}),!M&&!T&&C&&!A&&l._allowClickEvent(),l._useTouch&&x&&ar(S,"touchstart",l.onDragStart),l.pinchFlag&&l.onPinchEnd(m);var O=m!=null&&m.touches?js(m):[],R=O.length;R===0||!l.options.keepDragging?l.flag=!1:l._addStore(new If(O));var _=l._getPosition(),N=cl(),z=!A&&l.doubleFlag;l._prevInputEvent=null,l.prevTime=A||z?0:N,l.flag||(l._dettachDragEvent(),l._preventMouseEvent||l.emit("dragEnd",Ue({data:l.data,datas:l.data,isDouble:z,isDrag:A,isClick:!A,isMouseEvent:l._isMouseEvent,isSecondaryButton:l._isSecondaryButton,inputEvent:m,isTrusted:l._isTrusted},_)),l.clientStores=[],l._isMouseEvent||(l._preventMouseEvent=!0,clearTimeout(l._preventMouseEventId),l._preventMouseEventId=setTimeout(function(){l._preventMouseEvent=!1},200)),l._isIdle=!0)}},l.onBlur=function(){l.onDragEnd()},l._allowClickEvent=function(){ar(l._window,"click",l._onClick,!0)},l._onClick=function(m){l._allowClickEvent(),l._allowMouseEvent();var b=l.options.preventClickEventByCondition;b!=null&&b(m)||(m.stopPropagation(),m.preventDefault())},l._onContextMenu=function(m){var b=l.options;b.preventRightClick?l.onDragEnd(m):m.preventDefault()},l._passCallback=function(){};var u=[].concat(n),c=u[0];l._window=Nm(c)?c:un(c),l.options=Ue({checkInput:!1,container:c&&!("document"in c)?un(c):c,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},i);var f=l.options,v=f.container,p=f.events,g=f.checkWindowBlur;if(l._useDrag=p.indexOf("drag")>-1,l._useTouch=p.indexOf("touch")>-1,l._useMouse=p.indexOf("mouse")>-1,l.targets=u,l._useDrag&&u.forEach(function(m){sr(m,"dragstart",l.onDragStart)}),l._useMouse&&(u.forEach(function(m){sr(m,"mousedown",l.onDragStart),sr(m,"mousemove",l._passCallback)}),sr(v,"contextmenu",l._onContextMenu)),g&&sr(un(),"blur",l.onBlur),l._useTouch){var y={passive:!1};u.forEach(function(m){sr(m,"touchstart",l.onDragStart,y),sr(m,"touchmove",l._passCallback,y)})}return l}return a.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},a.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(i,l){return i+l.movement},0)},a.prototype.isDragging=function(){return this.isDrag},a.prototype.isIdle=function(){return this._isIdle},a.prototype.isFlag=function(){return this.flag},a.prototype.isPinchFlag=function(){return this.pinchFlag},a.prototype.isDoubleFlag=function(){return this.doubleFlag},a.prototype.isPinching=function(){return this.isPinch},a.prototype.scrollBy=function(n,i,l,u){u===void 0&&(u=!0),this.flag&&(this.clientStores[0].move(n,i),u&&this.onDrag(l,!0))},a.prototype.move=function(n,i){var l=n[0],u=n[1],c=this.getCurrentStore(),f=c.prevClients;return this.moveClients(f.map(function(v){var p=v.clientX,g=v.clientY;return{clientX:p+l,clientY:g+u,originalClientX:p,originalClientY:g}}),i,!0)},a.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},a.prototype.setEventData=function(n){var i=this.data;for(var l in n)i[l]=n[l];return this},a.prototype.setEventDatas=function(n){return this.setEventData(n)},a.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),Ue(Ue({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},a.prototype.getEventData=function(){return this.data},a.prototype.getEventDatas=function(){return this.data},a.prototype.unset=function(){var n=this,i=this.targets,l=this.options.container;this.off(),ar(this._window,"blur",this.onBlur),this._useDrag&&i.forEach(function(u){ar(u,"dragstart",n.onDragStart)}),this._useMouse&&(i.forEach(function(u){ar(u,"mousedown",n.onDragStart)}),ar(l,"contextmenu",this._onContextMenu)),this._useTouch&&(i.forEach(function(u){ar(u,"touchstart",n.onDragStart)}),ar(l,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},a.prototype.onPinchStart=function(n){var i=this,l=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>l)){var u=new If(js(n));this.pinchFlag=!0,this._addStore(u);var c=this.emit("pinchStart",Ue(Ue({data:this.data,datas:this.data,angle:u.getAngle(),touches:this.getCurrentStore().getPositions()},u.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));c===!1&&(this.pinchFlag=!1)}},a.prototype.onPinch=function(n,i){if(!(!this.flag||!this.pinchFlag||i.length<2)){var l=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ue(Ue({data:this.data,datas:this.data,movement:this.getMovement(i),angle:l.getAngle(i),rotation:l.getRotation(i),touches:l.getPositions(i),scale:l.getScale(i),distance:l.getDistance(i)},l.getPosition(i)),{inputEvent:n,isTrusted:this._isTrusted}))}},a.prototype.onPinchEnd=function(n){if(this.pinchFlag){var i=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var l=this.getCurrentStore();this.emit("pinchEnd",Ue(Ue({data:this.data,datas:this.data,isPinch:i,touches:l.getPositions()},l.getPosition()),{inputEvent:n}))}},a.prototype.getCurrentStore=function(){return this.clientStores[0]},a.prototype.moveClients=function(n,i,l){var u=this._getPosition(n,l),c=this.isDrag;(u.deltaX||u.deltaY)&&(this.isDrag=!0);var f=!1;return!c&&this.isDrag&&(f=!0),Ue(Ue({data:this.data,datas:this.data},u),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:i,isTrusted:this._isTrusted,isFirstDrag:f})},a.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},a.prototype._getPosition=function(n,i){var l=this.getCurrentStore(),u=l.getPosition(n,i),c=this.clientStores.slice(1).reduce(function(p,g){var y=g.getPosition();return p.distX+=y.distX,p.distY+=y.distY,p},u),f=c.distX,v=c.distY;return Ue(Ue({},u),{distX:f,distY:v})},a.prototype._attchDragEvent=function(){var n=this._window,i=this.options.container,l={passive:!1};this._isDragAPI&&(sr(i,"dragover",this.onDrag,l),sr(n,"dragend",this.onDragEnd)),this._useMouse&&(sr(i,"mousemove",this.onDrag),sr(n,"mouseup",this.onDragEnd)),this._useTouch&&(sr(i,"touchmove",this.onDrag,l),sr(n,"touchend",this.onDragEnd,l),sr(n,"touchcancel",this.onDragEnd,l))},a.prototype._dettachDragEvent=function(){var n=this._window,i=this.options.container;this._isDragAPI&&(ar(i,"dragover",this.onDrag),ar(n,"dragend",this.onDragEnd)),this._useMouse&&(ar(i,"mousemove",this.onDrag),ar(n,"mouseup",this.onDragEnd)),this._useTouch&&(ar(i,"touchstart",this.onDragStart),ar(i,"touchmove",this.onDrag),ar(n,"touchend",this.onDragEnd),ar(n,"touchcancel",this.onDragEnd))},a.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},a}($d);function Lx(e){for(var a=5381,n=e.length;n;)a=a*33^e.charCodeAt(--n);return a>>>0}var Vx=Lx;function Gx(e){return Vx(e).toString(36)}function kx(e){if(e&&e.getRootNode){var a=e.getRootNode();if(a.nodeType===11)return a}}function Hx(e,a,n){return n.original?a:a.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(i,l){var u=l.trim();return(u?Vn(u):[""]).map(function(c){var f=c.trim();return f.indexOf("@")===0?f:f.indexOf(":global")>-1?f.replace(/\:global/g,""):f.indexOf(":host")>-1?"".concat(f.replace(/\:host/g,".".concat(e))):f?".".concat(e," ").concat(f):".".concat(e)}).join(", ")+" {"})}function Ux(e,a,n,i,l){var u=Fd(i),c=u.createElement("style");return c.setAttribute("type","text/css"),c.setAttribute("data-styled-id",e),c.setAttribute("data-styled-count","1"),n.nonce&&c.setAttribute("nonce",n.nonce),c.innerHTML=Hx(e,a,n),(l||u.head||u.body).appendChild(c),c}function Xx(e){var a="rCS"+Gx(e);return{className:a,inject:function(n,i){i===void 0&&(i={});var l=kx(n),u=(l||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(a,'"]'));if(!u)u=Ux(a,e,i,n,l);else{var c=parseFloat(u.getAttribute("data-styled-count"))||0;u.setAttribute("data-styled-count","".concat(c+1))}return{destroy:function(){var f,v=parseFloat(u.getAttribute("data-styled-count"))||0;v<=1?(u.remove?u.remove():(f=u.parentNode)===null||f===void 0||f.removeChild(u),u=null):u.setAttribute("data-styled-count","".concat(v-1))}}}}}var bd=function(){return bd=Object.assign||function(a){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},bd.apply(this,arguments)};function Ix(e,a){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)a.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]]);return n}function Xm(e,a){var n=Xx(a),i=n.className;return ut.forwardRef(function(l,u){var c=l.className,f=c===void 0?"":c;l.cspNonce;var v=Ix(l,["className","cspNonce"]),p=ut.useRef();return ut.useImperativeHandle(u,function(){return p.current},[]),ut.useEffect(function(){var g=n.inject(p.current,{nonce:l.cspNonce});return function(){g.destroy()}},[]),ut.createElement(e,bd({ref:p,"data-styled-id":i,className:"".concat(f," ").concat(i)},v))})}var Sd=function(e,a){return Sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},Sd(e,a)};function ml(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Sd(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var Y=function(){return Y=Object.assign||function(a){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},Y.apply(this,arguments)};function qx(e,a){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)a.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]]);return n}function Yx(e,a,n,i){var l=arguments.length,u=l<3?a:i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,a,n,i);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(u=(l<3?c(u):l>3?c(a,n,u):c(a,n))||u);return l>3&&u&&Object.defineProperty(a,n,u),u}function Px(e){var a=typeof Symbol=="function"&&Symbol.iterator,n=a&&e[a],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(e,a){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),l,u=[],c;try{for(;(a===void 0||a-- >0)&&!(l=i.next()).done;)u.push(l.value)}catch(f){c={error:f}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return u}function Et(e,a,n){if(arguments.length===2)for(var i=0,l=a.length,u;i<l;i++)(u||!(i in a))&&(u||(u=Array.prototype.slice.call(a,0,i)),u[i]=a[i]);return e.concat(u||Array.prototype.slice.call(a))}function yl(e,a){return Y({events:[],props:[],name:e},a)}var Fx=["n","w","s","e"],ev=["n","w","s","e","nw","ne","sw","se"];function Wx(e,a){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*e,'px" height="').concat(32*e,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(a,'deg);transform-origin: 16px 16px"></path></svg>')}function Kx(e){var a=Wx(1,e),n=Math.round(e/45)*45%180,i="ns-resize";return n===135?i="nwse-resize":n===45?i="nesw-resize":n===90&&(i="ew-resize"),"cursor:".concat(i,";cursor: url('").concat(a,"') 16 16, ").concat(i,";")}var Pi=jS(),Im=Pi.browser.webkit,qm=Im&&function(){var e=typeof window>"u"?{userAgent:""}:window.navigator,a=/applewebkit\/([^\s]+)/g.exec(e.userAgent.toLowerCase());return a?parseFloat(a[1])<605:!1}(),Ym=Pi.browser.name,Pm=parseInt(Pi.browser.version,10),Zx=Ym==="chrome",Qx=Pi.browser.chromium,Jx=parseInt(Pi.browser.chromiumVersion,10)||0,$x=Zx&&Pm>=109||Qx&&Jx>=109,t2=Ym==="firefox",e2=parseInt(Pi.browser.webkitVersion,10)>=612||Pm>=15,rv="moveable-",r2=ev.map(function(e){var a="",n="",i="center",l="center",u="calc(var(--moveable-control-padding, 20) * -1px)";return e.indexOf("n")>-1&&(a="top: ".concat(u,";"),l="bottom"),e.indexOf("s")>-1&&(a="top: 0px;",l="top"),e.indexOf("w")>-1&&(n="left: ".concat(u,";"),i="right"),e.indexOf("e")>-1&&(n="left: 0px;",i="left"),'.around-control[data-direction*="'.concat(e,`"] {
        `).concat(n).concat(a,`
        transform-origin: `).concat(i," ").concat(l,`;
    }`)}).join(`
`),a2=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(r2,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(e){return`
.direction[data-rotation="`.concat(e,'"], :global .view-control-rotation').concat(e,` {
`).concat(Kx(e),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(qm?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),n2=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],xd=1e-4,hr=1e-7,Ls=1e-9,Cd=Math.pow(10,10),E0=-Cd,i2={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},av={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},Fm={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},o2=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function bl(e,a,n,i,l,u){var c,f;u===void 0&&(u="draggable");var v=(f=(c=a.gestos[u])===null||c===void 0?void 0:c.move(n,e.inputEvent))!==null&&f!==void 0?f:{},p=v.originalDatas||v.datas,g=p[u]||(p[u]={});return Y(Y({},v),{isPinch:!!i,parentEvent:!0,datas:g,originalDatas:e.originalDatas})}var Gi=function(){function e(a){var n;a===void 0&&(a="draggable"),this.ableName=a,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(n={},n[a]={},n)}return e.prototype.dragStart=function(a,n){this.isDrag=!1,this.isFlag=!1;var i=n.originalDatas;return this.datas=i,i[this.ableName]||(i[this.ableName]={}),Y(Y({},this.move(a,n.inputEvent)),{type:"dragstart"})},e.prototype.drag=function(a,n){return this.move([a[0]-this.prevX,a[1]-this.prevY],n)},e.prototype.move=function(a,n){var i,l,u=!1;if(!this.isFlag)this.prevX=a[0],this.prevY=a[1],this.startX=a[0],this.startY=a[1],i=a[0],l=a[1],this.isFlag=!0;else{var c=this.isDrag;i=this.prevX+a[0],l=this.prevY+a[1],(a[0]||a[1])&&(this.isDrag=!0),!c&&this.isDrag&&(u=!0)}return this.prevX=i,this.prevY=l,{type:"drag",clientX:i,clientY:l,inputEvent:n,isFirstDrag:u,isDrag:this.isDrag,distX:i-this.startX,distY:l-this.startY,deltaX:a[0],deltaY:a[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},e}();function Li(e,a,n,i){var l=e.length===16,u=l?4:3,c=qn(e,n,i,u),f=F(c,4),v=F(f[0],2),p=v[0],g=v[1],y=F(f[1],2),m=y[0],b=y[1],x=F(f[2],2),S=x[0],C=x[1],T=F(f[3],2),M=T[0],A=T[1],O=F(ze(e,a,u),2),R=O[0],_=O[1],N=Math.min(p,m,S,M),z=Math.min(g,b,C,A),j=Math.max(p,m,S,M),H=Math.max(g,b,C,A);p=p-N||0,m=m-N||0,S=S-N||0,M=M-N||0,g=g-z||0,b=b-z||0,C=C-z||0,A=A-z||0,R=R-N||0,_=_-z||0;var P=e[0],q=e[u+1],U=dr(P*q);return{left:N,top:z,right:j,bottom:H,origin:[R,_],pos1:[p,g],pos2:[m,b],pos3:[S,C],pos4:[M,A],direction:U}}function Wm(e,a){var n=a.clientX,i=a.clientY,l=a.datas,u=e.state,c=u.moveableClientRect,f=u.rootMatrix,v=u.is3d,p=u.pos1,g=c.left,y=c.top,m=v?4:3,b=F(Vt(Ui(f,[n-g,i-y],m),p),2),x=b[0],S=b[1],C=F(fa({datas:l,distX:x,distY:S}),2),T=C[0],M=C[1];return[T,M]}function In(e,a){var n=a.datas,i=e.state,l=i.allMatrix,u=i.beforeMatrix,c=i.is3d,f=i.left,v=i.top,p=i.origin,g=i.offsetMatrix,y=i.targetMatrix,m=i.transformOrigin,b=c?4:3;n.is3d=c,n.matrix=l,n.targetMatrix=y,n.beforeMatrix=u,n.offsetMatrix=g,n.transformOrigin=m,n.inverseMatrix=ca(l,b),n.inverseBeforeMatrix=ca(u,b),n.absoluteOrigin=kn(ae([f,v],p),b),n.startDragBeforeDist=ur(n.inverseBeforeMatrix,n.absoluteOrigin,b),n.startDragDist=ur(n.inverseMatrix,n.absoluteOrigin,b)}function l2(e){return Li(e.datas.beforeTransform,[50,50],100,100).direction}function vu(e,a,n){var i=a.datas,l=a.originalDatas.beforeRenderable,u=i.transformIndex,c=l.nextTransforms,f=c.length,v=l.nextTransformAppendedIndexes,p=-1;u===-1?(n==="translate"?p=0:n==="rotate"&&(p=Da(c,function(b){return b.match(/scale\(/g)})),p===-1&&(p=c.length),i.transformIndex=p):Dr(v,function(b){return b.index===u&&b.functionName===n})?p=u:p=u+v.filter(function(b){return b.index<u}).length;var g=NC(c,e.state,p),y=g.targetFunction,m=n==="rotate"?"rotateZ":n;i.beforeFunctionTexts=g.beforeFunctionTexts,i.afterFunctionTexts=g.afterFunctionTexts,i.beforeTransform=g.beforeFunctionMatrix,i.beforeTransform2=g.beforeFunctionMatrix2,i.targetTansform=g.targetFunctionMatrix,i.afterTransform=g.afterFunctionMatrix,i.afterTransform2=g.afterFunctionMatrix2,i.targetAllTransform=g.allFunctionMatrix,y.functionName===m?(i.afterFunctionTexts.splice(0,1),i.isAppendTransform=!1):f>p&&(i.isAppendTransform=!0,l.nextTransformAppendedIndexes=Et(Et([],F(v),!1),[{functionName:n,index:p,isAppend:!0}],!1))}function pu(e,a,n){return"".concat(e.beforeFunctionTexts.join(" ")," ").concat(e.isAppendTransform?n:a," ").concat(e.afterFunctionTexts.join(" "))}function s2(e){var a=e.datas,n=e.distX,i=e.distY,l=F(Zm({datas:a,distX:n,distY:i}),2),u=l[0],c=l[1],f=Km(a,nx([u,c],4));return ur(f,kn([0,0,0],4),4)}function Km(e,a,n){var i=e.beforeTransform,l=e.afterTransform,u=e.beforeTransform2,c=e.afterTransform2,f=e.targetAllTransform,v=n?me(f,a,4):me(a,f,4),p=me(ca(n?u:i,4),v,4),g=me(p,ca(n?c:l,4),4);return g}function Zm(e){var a=e.datas,n=e.distX,i=e.distY,l=a.inverseBeforeMatrix,u=a.is3d,c=a.startDragBeforeDist,f=a.absoluteOrigin,v=u?4:3;return Vt(ur(l,ae(f,[n,i]),v),c)}function fa(e,a){var n=e.datas,i=e.distX,l=e.distY,u=n.inverseBeforeMatrix,c=n.inverseMatrix,f=n.is3d,v=n.startDragBeforeDist,p=n.startDragDist,g=n.absoluteOrigin,y=f?4:3;return Vt(ur(a?u:c,ae(g,[i,l]),y),a?v:p)}function u2(e,a){var n=e.datas,i=e.distX,l=e.distY;n.beforeMatrix;var u=n.matrix,c=n.is3d;n.startDragBeforeDist;var f=n.startDragDist,v=n.absoluteOrigin,p=c?4:3;return Vt(ur(u,ae(f,[i,l]),p),v)}function c2(e,a,n,i,l,u){return i===void 0&&(i=a),l===void 0&&(l=n),u===void 0&&(u=[0,0]),e?e.map(function(c,f){var v=pl(c),p=v.value,g=v.unit,y=f?l:i,m=f?n:a;if(c==="%"||isNaN(p)){var b=y?u[f]/y:0;return m*b}else if(g!=="%")return p;return m*p/100}):u}function Qm(e){var a=[];return e[1]>=0&&(e[0]>=0&&a.push(3),e[0]<=0&&a.push(2)),e[1]<=0&&(e[0]>=0&&a.push(1),e[0]<=0&&a.push(0)),a}function f2(e,a){return Qm(a).map(function(n){return e[n]})}function qf(e,a){var n=(a+1)/2;return[tu(e[0][0],e[1][0],n,1-n),tu(e[0][1],e[1][1],n,1-n)]}function Pe(e,a){var n=qf([e[0],e[1]],a[0]),i=qf([e[2],e[3]],a[0]);return qf([n,i],a[1])}function d2(e,a,n,i,l,u){var c=qn(a,n,i,l),f=Pe(c,u),v=e[0]-f[0],p=e[1]-f[1];return[v,p]}function Sl(e,a,n,i){return me(e,nl(a,i,n),i)}function v2(e,a,n,i){var l=e.transformOrigin,u=e.offsetMatrix,c=e.is3d,f=c?4:3,v;if(_a(n)){var p=a.beforeTransform,g=a.afterTransform;i?v=ta(fl(n),4,f):v=ta(me(me(p,fl([n]),4),g,4),4,f)}else v=n;return Sl(u,v,l,f)}function p2(e,a){var n=e.transformOrigin,i=e.offsetMatrix,l=e.is3d,u=e.targetMatrix,c=e.targetAllTransform,f=l?4:3;return Sl(i,me(c||u,Zd(a,f),f),n,f)}function hu(e,a){var n=Fi(a);return{setTransform:function(i,l){l===void 0&&(l=-1),n.startTransforms=$e(i)?i:fn(i),Ed(e,a,l)},setTransformIndex:function(i){Ed(e,a,i)}}}function gu(e,a,n){var i=Fi(a),l=i.startTransforms;Ed(e,a,Da(l,function(u){return u.indexOf("".concat(n,"("))===0}))}function Ed(e,a,n){var i=Fi(a),l=a.datas;if(l.transformIndex=n,n!==-1){var u=i.startTransforms[n];if(u){var c=e.state,f=Vi([u],{"x%":function(v){return v/100*c.offsetWidth},"y%":function(v){return v/100*c.offsetHeight}});l.startValue=f[0].functionValue}}}function nv(e,a){var n=Fi(e);n.nextTransforms=fn(a)}function Fi(e){return e.originalDatas.beforeRenderable}function au(e){var a=e.originalDatas.beforeRenderable;return a.nextTransforms}function Vs(e){return(au(e)||[]).join(" ")}function Gs(e){return Fi(e).nextStyle}function Jm(e,a,n,i,l){nv(l,a);var u=fr.drag(e,bl(l,e.state,n,i)),c=u?u.transform:a;return Y(Y({transform:a,drag:u},vr({transform:c},l)),{afterTransform:c})}function iv(e,a,n,i,l,u){var c=v2(e.state,l,a,u),f=m2(e,n,i,c);return f}function $m(e,a,n,i,l,u,c){var f=iv(e,a,n,l,u,c),v=e.state,p=v.left,g=v.top,y=e.props.groupable,m=y?p:0,b=y?g:0,x=Vt(i,f);return Vt(x,[m,b])}function h2(e,a,n,i,l,u,c){var f=$m(e,a,n,i,l,u,c);return f}function g2(e,a,n){return[a?-1+e[0]/(a/2):0,n?-1+e[1]/(n/2):0]}function m2(e,a,n,i){i===void 0&&(i=e.state.allMatrix);var l=e.state,u=l.width,c=l.height,f=l.is3d,v=f?4:3,p=[u/2*(1+a[0])+n[0],c/2*(1+a[1])+n[1]];return ze(i,p,v)}function y2(e,a,n){var i=n.fixedDirection,l=n.fixedPosition,u=n.fixedOffset;return $m(e,"rotate(".concat(a,"deg)"),i,l,u,n)}function b2(e,a,n,i,l,u){var c=e.props.groupable,f=e.state,v=f.transformOrigin,p=f.offsetMatrix,g=f.is3d,y=f.width,m=f.height,b=f.left,x=f.top,S=u.fixedDirection,C=u.nextTargetMatrix||f.targetMatrix,T=g?4:3,M=c2(l,a,n,y,m,v),A=c?b:0,O=c?x:0,R=Sl(p,C,M,T),_=d2(i,R,a,n,T,S);return Vt(_,[A,O])}function S2(e,a){return Pe(Pr(e.state),a)}function x2(e,a){var n=e.targetGesto,i=e.controlGesto,l;return n!=null&&n.isFlag()&&(l=n.getEventData()[a]),!l&&(i!=null&&i.isFlag())&&(l=i.getEventData()[a]),l||{}}function C2(e){if(e&&e.getRootNode){var a=e.getRootNode();if(a.nodeType===11)return a}}function E2(e){var a=e("scale"),n=e("rotate"),i=e("translate"),l=[];return i&&i!=="0px"&&i!=="none"&&l.push("translate(".concat(i.split(/\s+/).join(","),")")),n&&n!=="1"&&n!=="none"&&l.push("rotate(".concat(n,")")),a&&a!=="1"&&a!=="none"&&l.push("scale(".concat(a.split(/\s+/).join(","),")")),l}function t1(e,a,n){for(var i=e,l=[],u=Wd(e)||pn(e),c=!n&&e===a||e===u,f=c,v=!1,p=3,g,y,m,b=!1,x=vl(a,a,!0).offsetParent,S=1;i&&!f;){f=c;var C=Cr(i),T=C("position"),M=T1(i),A=T==="fixed",O=E2(C),R=ix(SC(M)),_=void 0,N=!1,z=!1,j=0,H=0,P=0,q=0,U={hasTransform:!1,fixedContainer:null};A&&(b=!0,U=wC(i),x=U.fixedContainer);var $=R.length;!v&&($===16||O.length)&&(v=!0,p=4,Rd(l),m&&(m=ta(m,3,4))),v&&$===9&&(R=ta(R,3,4));var G=TC(i,e),V=G.tagName,W=G.hasOffset,Q=G.isSVG,ot=G.origin,B=G.targetOrigin,I=G.offset,lt=F(I,2),et=lt[0],dt=lt[1];V==="svg"&&!i.ownerSVGElement&&m&&(l.push({type:"target",target:i,matrix:AC(i,p)}),l.push({type:"offset",target:i,matrix:Ae(p)}));var bt=parseFloat(C("zoom"))||1;if(A)_=U.fixedContainer,N=!0;else{var L=vl(i,a,!1,!0,C),Z=L.offsetZoom;if(_=L.offsetParent,N=L.isEnd,z=L.isStatic,S*=Z,(L.isCustomElement||Z!==1)&&z)et-=_.offsetLeft,dt-=_.offsetTop;else if(t2||$x){var k=L.parentSlotElement;if(k){for(var rt=_,gt=0,ct=0;rt&&C2(rt);)gt+=rt.offsetLeft,ct+=rt.offsetTop,rt=rt.offsetParent;et-=gt,dt-=ct}}}if(Im&&!e2&&W&&!Q&&z&&(T==="relative"||T==="static")&&(et-=_.offsetLeft,dt-=_.offsetTop,c=c||N),A)W&&U.hasTransform&&(P=_.clientLeft,q=_.clientTop);else if(W&&x!==_&&(j=_.clientLeft,H=_.clientTop),W&&_===u){var Ct=w1(i,!1);et+=Ct[0],dt+=Ct[1]}if(l.push({type:"target",target:i,matrix:nl(R,p,ot)}),O.length&&(l.push({type:"offset",target:i,matrix:Ae(p)}),l.push({type:"target",target:i,matrix:nl(fl(O),p,ot)})),W){var Dt=i===e,zt=Dt?0:i.scrollLeft,Rt=Dt?0:i.scrollTop;l.push({type:"offset",target:i,matrix:Hn([et-zt+j-P,dt-Rt+H-q],p)})}else l.push({type:"offset",target:i,origin:ot});if(bt!==1&&l.push({type:"zoom",target:i,matrix:nl(Zd([bt,bt],p),p,[0,0])}),m||(m=R),g||(g=ot),y||(y=B),f||A)break;i=_,c=N,(!n||i===u)&&(f=c)}return m||(m=Ae(p)),g||(g=[0,0]),y||(y=[0,0]),{zoom:S,offsetContainer:x,matrixes:l,targetMatrix:m,transformOrigin:g,targetOrigin:y,is3d:v,hasFixed:b}}var Nn=null,Bn=null,zi=null;function ki(e){e?(window.Map&&(Nn=new Map,Bn=new Map),zi=[]):(Nn=null,zi=null,Bn=null)}function T2(e){var a=Bn==null?void 0:Bn.get(e);if(a)return a;var n=il(e,!0);return Bn&&Bn.set(e,n),n}function w2(e,a){if(zi){var n=Dr(zi,function(l){return l[0][0]==e&&l[0][1]==a});if(n)return n[1]}var i=t1(e,a,!0);return zi&&zi.push([[e,a],i]),i}function Cr(e){var a=Nn==null?void 0:Nn.get(e);if(!a){var n=un(e).getComputedStyle(e);if(!Nn)return function(u){return n[u]};a={style:n,cached:{}},Nn.set(e,a)}var i=a.cached,l=a.style;return function(u){return u in i||(i[u]=l[u]),i[u]}}function Jr(e,a,n){var i=n.originalDatas;i.groupable=i.groupable||{};var l=i.groupable;l.childDatas=l.childDatas||[];var u=l.childDatas;return e.moveables.map(function(c,f){return u[f]=u[f]||{},u[f][a]=u[f][a]||{},Y(Y({},n),{isRequestChild:!0,datas:u[f][a],originalDatas:u[f]})})}function Yf(e,a,n,i,l,u,c){var f=!!n.match(/Start$/g),v=!!n.match(/End$/g),p=l.isPinch,g=l.datas,y=Jr(e,a.name,l),m=e.moveables,b=[],x=y.map(function(S,C){var T=m[C],M=T.state,A=M.gestos,O=S;if(f)O=new Gi(c).dragStart(i,S),b.push(O);else{if(A[c]||(A[c]=g.childGestos[C]),!A[c])return;O=bl(S,M,i,p,u,c),b.push(O)}var R=a[n](T,Y(Y({},O),{parentFlag:!0}));return v&&(A[c]=null),R});return f&&(g.childGestos=m.map(function(S){return S.state.gestos[c]})),{eventParams:x,childEvents:b}}function Ra(e,a,n,i,l,u){l===void 0&&(l=function(g,y){return y});var c=!!n.match(/End$/g),f=Jr(e,a.name,i),v=e.moveables,p=f.map(function(g,y){var m=v[y],b=g;b=l(m,g);var x=a[n](m,Y(Y({},b),{parentFlag:!0}));return c&&(m.state.gestos={}),x});return p}function nu(e,a,n,i){var l=n.fixedDirection,u=n.fixedPosition,c=i.datas.startPositions||Pr(a.state),f=Pe(c,l),v=F(ur(gl(-e.rotation/180*Math.PI,3),[f[0]-u[0],f[1]-u[1],1],3),2),p=v[0],g=v[1];return i.datas.originalX=p,i.datas.originalY=g,i}function e1(e,a,n,i){var l=e.getState(),u=l.renderPoses,c=l.rotation,f=l.direction,v=Xn(e.props,a).zoom,p=al(c/Math.PI*180),g={},y=e.renderState;y.renderDirectionMap||(y.renderDirectionMap={});var m=y.renderDirectionMap;n.forEach(function(x){var S=x.dir;g[S]=!0});var b=dr(f);return n.map(function(x){var S=x.data,C=x.classNames,T=x.dir,M=av[T];if(!M||!g[T])return null;m[T]=!0;var A=(It(p,15)+b*Fm[T]+720)%180,O={};return Yi(S).forEach(function(R){O["data-".concat(R)]=S[R]}),i.createElement("div",Y({className:Lt.apply(void 0,Et(["control","direction",T,a],F(C),!1)),"data-rotation":A,"data-direction":T},O,{key:"direction-".concat(T),style:su.apply(void 0,Et([c,v],F(M.map(function(R){return u[R]})),!1))}))})}function r1(e,a,n,i){var l=Xn(e.props,n),u=l.renderDirections,c=u===void 0?a:u,f=l.displayAroundControls;if(!c)return[];var v=c===!0?ev:c;return Et(Et([],F(f?o1(e,i,n,v):[]),!1),F(e1(e,n,v.map(function(p){return{data:{},classNames:[],dir:p}}),i)),!1)}function dl(e,a,n,i,l,u){for(var c=[],f=6;f<arguments.length;f++)c[f-6]=arguments[f];var v=Ge(n,i),p=a?It(v/Math.PI*180,15)%180:-1;return e.createElement("div",{key:"line-".concat(u),className:Lt.apply(void 0,Et(["line","direction",a?"edge":"",a],F(c),!1)),"data-rotation":p,"data-line-key":u,"data-direction":a,style:tl(n,i,l,v)})}function a1(e,a,n,i,l){var u=n===!0?Fx:n;return u.map(function(c,f){var v=F(av[c],2),p=v[0],g=v[1];if(g!=null)return dl(e,c,i[p],i[g],l,"".concat(a,"Edge").concat(f),a)}).filter(Boolean)}function n1(e){return function(a,n){var i=Xn(a.props,e).edge;return i&&(i===!0||i.length)?Et(Et([],F(a1(n,e,i,a.getState().renderPoses,a.props.zoom)),!1),F(A2(a,e,n)),!1):i1(a,e,n)}}function i1(e,a,n){return r1(e,ev,a,n)}function A2(e,a,n){return r1(e,["nw","ne","sw","se"],a,n)}function o1(e,a,n,i){var l=e.renderState;l.renderDirectionMap||(l.renderDirectionMap={});var u=e.getState(),c=u.renderPoses,f=u.rotation,v=u.direction,p=l.renderDirectionMap,g=e.props.zoom,y=dr(v),m=f/Math.PI*180;return(i||Yi(p)).map(function(b){var x=av[b];if(!x)return null;var S=(It(m,15)+y*Fm[b]+720)%180,C=["around-control"];return n&&C.push("direction",n),a.createElement("div",{className:Lt.apply(void 0,Et([],F(C),!1)),"data-rotation":S,"data-direction":b,key:"direction-around-".concat(b),style:su.apply(void 0,Et([f,g],F(x.map(function(T){return c[T]})),!1))})})}function ov(e,a,n){var i=e||{},l=i.position,u=l===void 0?"client":l,c=i.left,f=c===void 0?-1/0:c,v=i.top,p=v===void 0?-1/0:v,g=i.right,y=g===void 0?1/0:g,m=i.bottom,b=m===void 0?1/0:m,x={position:u,left:f,top:p,right:y,bottom:b};return{vertical:T0(x,a,!0),horizontal:T0(x,n,!1)}}function mu(e,a){var n=e.state,i=n.containerClientRect,l=i.clientHeight,u=i.clientWidth,c=i.clientLeft,f=i.clientTop,v=n.snapOffset,p=v.left,g=v.top,y=v.right,m=v.bottom,b=a||e.props.bounds||{},x=b.position||"client",S=x==="css",C=b.left,T=C===void 0?-1/0:C,M=b.top,A=M===void 0?-1/0:M,O=b.right,R=O===void 0?S?-1/0:1/0:O,_=b.bottom,N=_===void 0?S?-1/0:1/0:_;return S&&(R=u+y-p-R,N=l+m-g-N),{left:T+p-c,right:R+p-c,top:A+g-f,bottom:N+g-f}}function M2(e,a,n){var i=mu(e),l=i.left,u=i.top,c=i.right,f=i.bottom,v=F(n,2),p=v[0],g=v[1],y=F(Vt(n,a),2),m=y[0],b=y[1];xt(m)<hr&&(m=0),xt(b)<hr&&(b=0);var x=b>0,S=m>0,C={isBound:!1,offset:0,pos:0},T={isBound:!1,offset:0,pos:0};if(m===0&&b===0)return{vertical:C,horizontal:T};if(m===0)x?f<g&&(T.pos=f,T.offset=g-f):u>g&&(T.pos=u,T.offset=g-u);else if(b===0)S?c<p&&(C.pos=c,C.offset=p-c):l>p&&(C.pos=l,C.offset=p-l);else{var M=b/m,A=n[1]-M*p,O=0,R=0,_=!1;S&&c<=p?(O=M*c+A,R=c,_=!0):!S&&p<=l&&(O=M*l+A,R=l,_=!0),_&&(O<u||O>f)&&(_=!1),_||(x&&f<=g?(O=f,R=(O-A)/M,_=!0):!x&&g<=u&&(O=u,R=(O-A)/M,_=!0)),_&&(C.isBound=!0,C.pos=R,C.offset=p-R,T.isBound=!0,T.pos=O,T.offset=g-O)}return{vertical:C,horizontal:T}}function T0(e,a,n){var i=e[n?"left":"top"],l=e[n?"right":"bottom"],u=Math.min.apply(Math,Et([],F(a),!1)),c=Math.max.apply(Math,Et([],F(a),!1)),f=[];return i+1>u&&f.push({direction:"start",isBound:!0,offset:u-i,pos:i}),l-1<c&&f.push({direction:"end",isBound:!0,offset:c-l,pos:l}),f.length||f.push({isBound:!1,offset:0,pos:0}),f.sort(function(v,p){return xt(p.offset)-xt(v.offset)})}function w0(e,a,n){var i=n?e.map(function(l){return hl(l,n)}):e;return i.some(function(l){return l[0]<a.left&&xt(l[0]-a.left)>.1||l[0]>a.right&&xt(l[0]-a.right)>.1||l[1]<a.top&&xt(l[1]-a.top)>.1||l[1]>a.bottom&&xt(l[1]-a.bottom)>.1})}function O2(e,a,n){var i=Yr(e),l=Math.sqrt(i*i-a*a)||0;return[l,-l].sort(function(u,c){return xt(u-e[n?0:1])-xt(c-e[n?0:1])}).map(function(u){return Ge([0,0],n?[u,a]:[a,u])})}function R2(e,a,n,i,l){if(!e.props.bounds)return[];var u=l*Math.PI/180,c=mu(e),f=c.left,v=c.top,p=c.right,g=c.bottom,y=f-i[0],m=p-i[0],b=v-i[1],x=g-i[1],S={left:y,top:b,right:m,bottom:x};if(!w0(n,S,0))return[];var C=[];return[[y,0],[m,0],[b,1],[x,1]].forEach(function(T){var M=F(T,2),A=M[0],O=M[1];n.forEach(function(R){var _=Ge([0,0],R);C.push.apply(C,Et([],F(O2(R,A,O).map(function(N){return u+N-_}).filter(function(N){return!w0(a,S,N)}).map(function(N){return It(N*180/Math.PI,hr)})),!1))})}),C}var D2=["left","right","center"],_2=["top","bottom","middle"],A0={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},dn={start:"left",end:"right",center:"center"},vn={start:"top",end:"bottom",center:"middle"};function Ni(){return{left:!1,top:!1,right:!1,bottom:!1}}function Wi(e,a){var n=e.props,i=n.snappable,l=n.bounds,u=n.innerBounds,c=n.verticalGuidelines,f=n.horizontalGuidelines,v=n.snapGridWidth,p=n.snapGridHeight,g=e.state,y=g.guidelines,m=g.enableSnap;return!i||!m||a&&i!==!0&&i.indexOf(a)<0?!1:!!(v||p||l||u||y&&y.length||c&&c.length||f&&f.length)}function lv(e){return e===!1?{}:e===!0||!e?{left:!0,right:!0,top:!0,bottom:!0}:e}function z2(e,a){var n=lv(e),i={};for(var l in n)l in a&&n[l]&&(i[l]=a[l]);return i}function sv(e,a){var n=z2(e,a),i=_2.filter(function(u){return u in n}),l=D2.filter(function(u){return u in n});return{horizontalNames:i,verticalNames:l,horizontal:i.map(function(u){return n[u]}),vertical:l.map(function(u){return n[u]})}}function N2(e,a,n){var i=ze(e,[a.clientLeft,a.clientTop],n);return[a.left+i[0],a.top+i[1]]}function B2(e){var a=F(e,2),n=a[0],i=a[1],l=i[0]-n[0],u=i[1]-n[1];Math.abs(l)<Xe&&(l=0),Math.abs(u)<Xe&&(u=0);var c=0,f=0,v=0;return l?u?(c=-u/l,f=1,v=c*n[0]-n[1]):(f=1,v=-n[1]):(c=-1,v=n[0]),[c,f,v].map(function(p){return It(p,Xe)})}var l1="snapRotationThreshold",s1="snapRotationDegrees",u1="snapHorizontalThreshold",c1="snapVerticalThreshold";function yu(e,a,n,i,l,u,c){var f;i===void 0&&(i=[]),l===void 0&&(l=[]);var v=e.props,p=((f=e.state.snapThresholdInfo)===null||f===void 0?void 0:f.multiples)||[1,1],g=U0(c,v[u1],5),y=U0(u,v[c1],5);return f1(e.state.guidelines,a,n,i,l,g,y,p)}function f1(e,a,n,i,l,u,c,f){return{vertical:O0(e,"vertical",a,c*f[0],i),horizontal:O0(e,"horizontal",n,u*f[1],l)}}function j2(e,a,n){var i=F(n,2),l=i[0],u=i[1],c=F(a,2),f=c[0],v=c[1],p=F(Vt(n,a),2),g=p[0],y=p[1],m=y>0,b=g>0;g=uu(g),y=uu(y);var x={isSnap:!1,offset:0,pos:0},S={isSnap:!1,offset:0,pos:0};if(g===0&&y===0)return{vertical:x,horizontal:S};var C=yu(e,g?[l]:[],y?[u]:[],[],[],void 0,void 0),T=C.vertical,M=C.horizontal;T.posInfos.filter(function(V){var W=V.pos;return b?W>=f:W<=f}),M.posInfos.filter(function(V){var W=V.pos;return m?W>=v:W<=v}),T.isSnap=T.posInfos.length>0,M.isSnap=M.posInfos.length>0;var A=Td(T),O=A.isSnap,R=A.guideline,_=Td(M),N=_.isSnap,z=_.guideline,j=N?z.pos[1]:0,H=O?R.pos[0]:0;if(g===0)N&&(S.isSnap=!0,S.pos=z.pos[1],S.offset=u-S.pos);else if(y===0)O&&(x.isSnap=!0,x.pos=H,x.offset=l-H);else{var P=y/g,q=n[1]-P*l,U=0,$=0,G=!1;O?($=H,U=P*$+q,G=!0):N&&(U=j,$=(U-q)/P,G=!0),G&&(x.isSnap=!0,x.pos=$,x.offset=l-$,S.isSnap=!0,S.pos=U,S.offset=u-U)}return{vertical:x,horizontal:S}}function ln(e){var a="";return e===-1||e==="top"||e==="left"?a="start":e===0||e==="center"||e==="middle"?a="center":(e===1||e==="right"||e==="bottom")&&(a="end"),a}function M0(e,a,n,i){var l=sv(e.props.snapDirections,a),u=yu(e,l.vertical,l.horizontal,l.verticalNames.map(function(v){return ln(v)}),l.horizontalNames.map(function(v){return ln(v)}),n,i),c=ln(l.horizontalNames[u.horizontal.index]),f=ln(l.verticalNames[u.vertical.index]);return{vertical:Y(Y({},u.vertical),{direction:f}),horizontal:Y(Y({},u.horizontal),{direction:c})}}function Td(e){var a=e.isSnap;if(!a)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=e.posInfos[0],i=n.guidelineInfos[0],l=i.offset,u=i.dist,c=i.guideline;return{isSnap:a,offset:l,dist:u,pos:n.pos,guideline:c}}function O0(e,a,n,i,l){var u,c;if(l===void 0&&(l=[]),!e||!e.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var f=a==="vertical",v=f?0:1,p=n.map(function(y,m){var b=l[m]||"",x=e.map(function(S){var C=S.pos,T=y-C[v];return{offset:T,dist:xt(T),guideline:S,direction:b}}).filter(function(S){var C=S.guideline,T=S.dist,M=C.type;return!(M!==a||T>i)}).sort(function(S,C){return S.dist-C.dist});return{pos:y,index:m,guidelineInfos:x,direction:b}}).filter(function(y){return y.guidelineInfos.length>0}).sort(function(y,m){return y.guidelineInfos[0].dist-m.guidelineInfos[0].dist}),g=p.length>0;return{isSnap:g,index:g?p[0].index:-1,direction:(c=(u=p[0])===null||u===void 0?void 0:u.direction)!==null&&c!==void 0?c:"",posInfos:p}}function L2(e,a,n,i,l){var u=[];n[0]&&n[1]?u=[n,[-n[0],n[1]],[n[0],-n[1]]]:!n[0]&&!n[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(m,b,x){var S=x[b+1]||x[0];u.push(m),u.push([(m[0]+S[0])/2,(m[1]+S[1])/2])}):e.props.keepRatio?u.push([-1,-1],[-1,1],[1,-1],[1,1],n):(u.push.apply(u,Et([],F(f2([[-1,-1],[1,-1],[-1,-1],[1,1]],n)),!1)),u.length>1&&u.push([(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2]));var c=u.map(function(m){return Pe(a,m)}),f=c.map(function(m){return m[0]}),v=c.map(function(m){return m[1]}),p=yu(e,f,v,u.map(function(m){return ln(m[0])}),u.map(function(m){return ln(m[1])}),i,l),g=ln(u.map(function(m){return m[0]})[p.vertical.index]),y=ln(u.map(function(m){return m[1]})[p.horizontal.index]);return{vertical:Y(Y({},p.vertical),{direction:g}),horizontal:Y(Y({},p.horizontal),{direction:y})}}function d1(e,a){var n=xt(e.offset),i=xt(a.offset);return e.isBound&&a.isBound?i-n:e.isBound?-1:a.isBound?1:e.isSnap&&a.isSnap?i-n:e.isSnap?-1:a.isSnap||n<hr?1:i<hr?-1:n-i}function iu(e,a){return e.slice().sort(function(n,i){var l=n.sign[a],u=i.sign[a],c=n.offset[a],f=i.offset[a];if(l){if(!u)return-1}else return 1;return d1({isBound:n.isBound,isSnap:n.isSnap,offset:c},{isBound:i.isBound,isSnap:i.isSnap,offset:f})})[0]}function V2(e,a,n){var i=[];if(n)xt(a[0])!==1||xt(a[1])!==1?i.push([a,[-1,-1]],[a,[-1,1]],[a,[1,-1]],[a,[1,1]]):i.push([a,[e[0],-e[1]]],[a,[-e[0],e[1]]]),i.push([a,e]);else if(e[0]&&e[1]||!e[0]&&!e[1]){var l=e[0]?e:[1,1];[1,-1].forEach(function(c){[1,-1].forEach(function(f){var v=[c*l[0],f*l[1]];a[0]===v[0]&&a[1]===v[1]||i.push([a,v])})})}else if(e[0]){var u=xt(a[0])===1?[1]:[1,-1];u.forEach(function(c){i.push([[a[0],-1],[c*e[0],-1]],[[a[0],0],[c*e[0],0]],[[a[0],1],[c*e[0],1]])})}else if(e[1]){var u=xt(a[1])===1?[1]:[1,-1];u.forEach(function(f){i.push([[-1,a[1]],[-1,f*e[1]]],[[0,a[1]],[0,f*e[1]]],[[1,a[1]],[1,f*e[1]]])})}return i}function v1(e,a){var n=dd([a[0][0],a[1][0]]),i=dd([a[0][1],a[1][1]]);return{vertical:n<=e[0],horizontal:i<=e[1]}}function uv(e,a){var n=F(a,2),i=n[0],l=n[1],u=l[0]-i[0],c=l[1]-i[1];xt(u)<hr&&(u=0),xt(c)<hr&&(c=0);var f,v;if(!u)f=i[0],v=e[0];else if(!c)f=i[1],v=e[1];else{var p=c/u;f=p*(e[0]-i[0])+i[1],v=e[1]}return f-v}function p1(e,a,n,i){return i===void 0&&(i=hr),e.every(function(l){var u=uv(l,a),c=u<=0;return c===n||xt(u)<=i})}function R0(e,a,n,i,l){return l===void 0&&(l=0),i&&a-l<=e||!i&&e<=n+l?{isBound:!0,offset:i?a-e:n-e}:{isBound:!1,offset:0}}function G2(e,a){var n=a.line,i=a.centerSign,l=a.verticalSign,u=a.horizontalSign,c=a.lineConstants,f=e.props.innerBounds;if(!f)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var v=f.left,p=f.top,g=f.width,y=f.height,m=[[v,p],[v,p+y]],b=[[v,p],[v+g,p]],x=[[v+g,p],[v+g,p+y]],S=[[v,p+y],[v+g,p+y]];if(p1([[v,p],[v+g,p],[v,p+y],[v+g,p+y]],n,i))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var C=sn(n,c,b,l),T=sn(n,c,S,l),M=sn(n,c,m,u),A=sn(n,c,x,u),O=C.isBound&&T.isBound,R=C.isBound||T.isBound,_=M.isBound&&A.isBound,N=M.isBound||A.isBound,z=Hi(C.offset,T.offset),j=Hi(M.offset,A.offset),H=[0,0],P=!1,q=!1;return xt(j)<xt(z)?(H=[z,0],P=R,q=O):(H=[0,j],P=N,q=_),{isAllBound:q,isVerticalBound:R,isHorizontalBound:N,isBound:P,offset:H}}function sn(e,a,n,i,l,u){var c=F(a,2),f=c[0],v=c[1],p=e[0],g=n[0],y=n[1],m=uu(y[1]-g[1]),b=uu(y[0]-g[0]),x=v,S=f,C=-f/v;if(b){if(!m){if(u&&!x)return{isBound:!1,offset:0};if(S){var O=(g[1]-p[1])/C+p[0];return R0(O,g[0],y[0],i,l)}else{var M=g[1]-p[1],A=xt(M)<=(l||0);return{isBound:A,offset:A?M:0}}}}else{if(u&&!S)return{isBound:!1,offset:0};if(x){var T=C*(g[0]-p[0])+p[1];return R0(T,g[1],y[1],i,l)}else{var M=g[0]-p[0],A=xt(M)<=(l||0);return{isBound:A,offset:A?M:0}}}return{isBound:!1,offset:0}}function h1(e,a,n){return a.map(function(i){var l=G2(e,i),u=l.isBound,c=l.offset,f=l.isVerticalBound,v=l.isHorizontalBound,p=i.multiple,g=fa({datas:n,distX:c[0],distY:c[1]}).map(function(y,m){return y*(p[m]?2/p[m]:0)});return{sign:p,isBound:u,isVerticalBound:f,isHorizontalBound:v,isSnap:!1,offset:g}})}function k2(e,a,n){var i,l=cv(e,a,[0,0],!1).map(function(m){return Y(Y({},m),{multiple:m.multiple.map(function(b){return xt(b)*2})})}),u=h1(e,l,n),c=iu(u,0),f=iu(u,1),v=0,p=0,g=c.isVerticalBound||f.isVerticalBound,y=c.isHorizontalBound||f.isHorizontalBound;return(g||y)&&(i=F(u2({datas:n,distX:-c.offset[0],distY:-f.offset[1]}),2),v=i[0],p=i[1]),{vertical:{isBound:g,offset:v},horizontal:{isBound:y,offset:p}}}function H2(e,a){var n=[],i=e[0],l=e[1];return i&&l?n.push([[0,l*2],e,[-i,l]],[[i*2,0],e,[i,-l]]):i?(n.push([[i*2,0],[i,1],[i,-1]]),a&&n.push([[0,-1],[i,-1],[-i,-1]],[[0,1],[i,1],[-i,1]])):l?(n.push([[0,l*2],[1,l],[-1,l]]),a&&n.push([[-1,0],[-1,l],[-1,-l]],[[1,0],[1,l],[1,-l]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}function cv(e,a,n,i){var l=e.state,u=l.allMatrix,c=l.is3d,f=qn(u,100,100,c?4:3),v=Pe(f,[0,0]);return H2(n,i).map(function(p){var g=F(p,3),y=g[0],m=g[1],b=g[2],x=[Pe(f,m),Pe(f,b)],S=B2(x),C=v1(v,x),T=C.vertical,M=C.horizontal,A=uv(v,x)<=0;return{multiple:y,centerSign:A,verticalSign:T,horizontalSign:M,lineConstants:S,line:[Pe(a,m),Pe(a,b)]}})}function D0(e,a,n,i){var l=i?e.map(function(u){return hl(u,i)}):e;return[[l[0],l[1]],[l[1],l[3]],[l[3],l[2]],[l[2],l[0]]].some(function(u){var c=uv(n,u)<=0;return!p1(a,u,c)})}function U2(e){var a=F(e,2),n=a[0],i=a[1],l=i[0]-n[0],u=i[1]-n[1];if(!l)return xt(n[0]);if(!u)return xt(n[1]);var c=u/l;return xt((-c*n[0]+n[1])/Math.sqrt(Math.pow(c,2)+1))}function X2(e){var a=F(e,2),n=a[0],i=a[1],l=i[0]-n[0],u=i[1]-n[1];if(!l)return[n[0],0];if(!u)return[0,n[1]];var c=u/l,f=-c*n[0]+n[1];return[-f/(c+1/c),f/(c*c+1)]}function I2(e,a,n,i,l){var u=e.props.innerBounds,c=l*Math.PI/180;if(!u)return[];var f=u.left,v=u.top,p=u.width,g=u.height,y=f-i[0],m=f+p-i[0],b=v-i[1],x=v+g-i[1],S=[[y,b],[m,b],[y,x],[m,x]],C=Pe(n,[0,0]);if(!D0(n,S,C,0))return[];var T=[],M=S.map(function(A){return[Yr(A),Ge([0,0],A)]});return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach(function(A){var O=Ge([0,0],X2(A)),R=U2(A);T.push.apply(T,Et([],F(M.filter(function(_){var N=F(_,1),z=N[0];return z&&R<=z}).map(function(_){var N=F(_,2),z=N[0],j=N[1],H=Math.acos(z?R/z:0),P=j+H,q=j-H;return[c+P-O,c+q-O]}).reduce(function(_,N){return _.push.apply(_,Et([],F(N),!1)),_},[]).filter(function(_){return!D0(a,S,C,_)}).map(function(_){return It(_*180/Math.PI,hr)})),!1))}),T}function q2(e){var a=e.props.innerBounds,n=Ni();if(!a)return{boundMap:n,vertical:[],horizontal:[]};var i=e.getRect(),l=i.pos1,u=i.pos2,c=i.pos3,f=i.pos4,v=[l,u,c,f],p=Pe(v,[0,0]),g=a.left,y=a.top,m=a.width,b=a.height,x=[[g,y],[g,y+b]],S=[[g,y],[g+m,y]],C=[[g+m,y],[g+m,y+b]],T=[[g,y+b],[g+m,y+b]],M=cv(e,v,[0,0],!1),A=[],O=[];return M.forEach(function(R){var _=R.line,N=R.lineConstants,z=v1(p,_),j=z.horizontal,H=z.vertical,P=sn(_,N,S,H,1,!0),q=sn(_,N,T,H,1,!0),U=sn(_,N,x,j,1,!0),$=sn(_,N,C,j,1,!0);P.isBound&&!n.top&&(A.push(y),n.top=!0),q.isBound&&!n.bottom&&(A.push(y+b),n.bottom=!0),U.isBound&&!n.left&&(O.push(g),n.left=!0),$.isBound&&!n.right&&(O.push(g+m),n.right=!0)}),{boundMap:n,horizontal:A,vertical:O}}function Y2(e,a,n,i){var l=a[0]-e[0],u=a[1]-e[1];if(xt(l)<Xe&&(l=0),xt(u)<Xe&&(u=0),!l)return i?[0,0]:[0,n];if(!u)return i?[n,0]:[0,0];var c=u/l,f=e[1]-c*e[0];if(i){var v=c*(a[0]+n)+f;return[n,v-a[1]]}else{var p=(a[1]+n-f)/c;return[p-a[0],n]}}function wd(e,a,n,i,l){var u=Y2(e,a,n,i);if(!u)return{isOutside:!1,offset:[0,0]};var c=Oa(e,a),f=Oa(u,e),v=Oa(u,a),p=f>c||v>c,g=F(fa({datas:l,distX:u[0],distY:u[1]}),2),y=g[0],m=g[1];return{offset:[y,m],isOutside:p}}function ou(e,a){return e.isBound?e.offset:a.isSnap?Td(a).offset:0}function P2(e,a,n,i,l){var u=F(a,2),c=u[0],f=u[1],v=F(n,2),p=v[0],g=v[1],y=F(i,2),m=y[0],b=y[1],x=F(l,2),S=x[0],C=x[1],T=-S,M=-C;if(e&&c&&f){T=0,M=0;var A=[];if(p&&g?A.push([0,C],[S,0]):p?A.push([S,0]):g?A.push([0,C]):m&&b?A.push([0,C],[S,0]):m?A.push([S,0]):b&&A.push([0,C]),A.length){A.sort(function(N,z){return Yr(Vt([c,f],N))-Yr(Vt([c,f],z))});var O=A[0];if(O[0]&&xt(c)>Xe)T=-O[0],M=f*xt(c+T)/xt(c)-f;else if(O[1]&&xt(f)>Xe){var R=f;M=-O[1],T=c*xt(f+M)/xt(R)-c}if(e&&g&&p)if(xt(T)>Xe&&xt(T)<xt(S)){var _=xt(S)/xt(T);T*=_,M*=_}else if(xt(M)>Xe&&xt(M)<xt(C)){var _=xt(C)/xt(M);T*=_,M*=_}else T=Hi(-S,T),M=Hi(-C,M)}}else T=c||p?-S:0,M=f||g?-C:0;return[T,M]}function F2(e,a,n,i,l,u){if(!Wi(e,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var c=vv(u.absolutePoses,[a,n]),f=qr(c),v=f.left,p=f.right,g=f.top,y=f.bottom,m={horizontal:c.map(function($){return $[1]}),vertical:c.map(function($){return $[0]})},b=lv(e.props.snapDirections),x=sv(b,{left:v,right:p,top:g,bottom:y,center:(v+p)/2,middle:(g+y)/2}),S=bu(e,l,x,m),C=S.vertical,T=S.horizontal,M=k2(e,c,u),A=M.vertical,O=M.horizontal,R=C.isSnap,_=T.isSnap,N=C.isBound||A.isBound,z=T.isBound||O.isBound,j=Hi(C.offset,A.offset),H=Hi(T.offset,O.offset),P=F(P2(i,[a,n],[N,z],[R,_],[j,H]),2),q=P[0],U=P[1];return[{isBound:N,isSnap:R,offset:q},{isBound:z,isSnap:_,offset:U}]}function bu(e,a,n,i){i===void 0&&(i=n);var l=ov(mu(e),i.vertical,i.horizontal),u=l.horizontal,c=l.vertical,f=a?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:yu(e,n.vertical,n.horizontal,void 0,void 0,void 0,void 0),v=f.horizontal,p=f.vertical,g=ou(u[0],v),y=ou(c[0],p),m=xt(g),b=xt(y);return{horizontal:{isBound:u[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:g,dist:m,bounds:u,snap:v},vertical:{isBound:c[0].isBound,isSnap:p.isSnap,snapIndex:p.index,offset:y,dist:b,bounds:c,snap:p}}}function _0(e,a,n,i,l,u,c){c===void 0&&(c=[1,1]);var f=ov(a,n,i),v=f.horizontal,p=f.vertical,g=f1(e,n,i,[],[],l,u,c),y=g.horizontal,m=g.vertical,b=ou(v[0],y),x=ou(p[0],m),S=xt(b),C=xt(x);return{horizontal:{isBound:v[0].isBound,isSnap:y.isSnap,snapIndex:y.index,offset:b,dist:S,bounds:v,snap:y},vertical:{isBound:p[0].isBound,isSnap:m.isSnap,snapIndex:m.index,offset:x,dist:C,bounds:p,snap:m}}}function W2(e,a,n,i){var l=Ge(e,a)/Math.PI*180,u=n.vertical,c=u.isBound,f=u.isSnap,v=u.dist,p=n.horizontal,g=p.isBound,y=p.isSnap,m=p.dist,b=l%180,x=b<3||b>177,S=b>87&&b<93;return m<v&&(c||f&&!S&&(!i||!x))?"vertical":g||y&&!x&&(!i||!S)?"horizontal":""}function K2(e,a,n,i,l,u){return n.map(function(c){var f=F(c,2),v=f[0],p=f[1],g=Pe(a,v),y=Pe(a,p),m=i?Z2(e,g,y,l):bu(e,l,{vertical:[y[0]],horizontal:[y[1]]}),b=m.horizontal,x=b.offset,S=b.isBound,C=b.isSnap,T=m.vertical,M=T.offset,A=T.isBound,O=T.isSnap,R=Vt(p,v);if(!M&&!x)return{isBound:A||S,isSnap:O||C,sign:R,offset:[0,0]};var _=W2(g,y,m,i);if(!_)return{sign:R,isBound:!1,isSnap:!1,offset:[0,0]};var N=_==="vertical",z=[0,0];return!i&&xt(p[0])===1&&xt(p[1])===1&&v[0]!==p[0]&&v[1]!==p[1]?z=fa({datas:u,distX:-M,distY:-x}):z=wd(g,y,-(N?M:x),N,u).offset,z=z.map(function(j,H){return j*(R[H]?2/R[H]:0)}),{sign:R,isBound:N?A:S,isSnap:N?O:C,offset:z}})}function z0(e,a){return e.isBound?e.offset:a.isSnap?a.offset:0}function Z2(e,a,n,i){var l=M2(e,a,n),u=l.horizontal,c=l.vertical,f=i?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:j2(e,a,n),v=f.horizontal,p=f.vertical,g=z0(u,v),y=z0(c,p),m=xt(g),b=xt(y);return{horizontal:{isBound:u.isBound,isSnap:v.isSnap,offset:g,dist:m},vertical:{isBound:c.isBound,isSnap:p.isSnap,offset:y,dist:b}}}function Q2(e,a,n,i,l){var u=[-n[0],-n[1]],c=e.state,f=c.width,v=c.height,p=e.props.bounds,g=1/0,y=1/0;if(p){var m=[[n[0],-n[1]],[-n[0],n[1]]],b=p.left,x=b===void 0?-1/0:b,S=p.top,C=S===void 0?-1/0:S,T=p.right,M=T===void 0?1/0:T,A=p.bottom,O=A===void 0?1/0:A;m.forEach(function(R){var _=R[0]!==u[0],N=R[1]!==u[1],z=Pe(a,R),j=Ge(i,z)*360/Math.PI;if(N){var H=z.slice();(xt(j-360)<2||xt(j-180)<2)&&(H[1]=i[1]);var P=wd(i,H,(i[1]<z[1]?O:C)-z[1],!1,l),q=F(P.offset,2),U=q[1],$=P.isOutside;isNaN(U)||(y=v+($?1:-1)*xt(U))}if(_){var H=z.slice();(xt(j-90)<2||xt(j-270)<2)&&(H[0]=i[0]);var G=wd(i,H,(i[0]<z[0]?M:x)-z[0],!0,l),V=F(G.offset,1),W=V[0],Q=G.isOutside;isNaN(W)||(g=f+(Q?1:-1)*xt(W))}})}return{maxWidth:g,maxHeight:y}}var fr={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(e,a){var n=e.props,i=n.hideThrottleDragRotateLine,l=n.throttleDragRotate,u=n.zoom,c=e.getState(),f=c.dragInfo,v=c.beforeOrigin;if(i||!l||!f)return[];var p=f.dist;if(!p[0]&&!p[1])return[];var g=Yr(p),y=Ge(p,[0,0]);return[a.createElement("div",{className:Lt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(g,"px"),transform:"translate(".concat(v[0],"px, ").concat(v[1],"px) rotate(").concat(y,"rad) scaleY(").concat(u,")")}})]},dragStart:function(e,a){var n=a.datas,i=a.parentEvent,l=a.parentGesto,u=e.state,c=u.gestos,f=u.style;if(c.draggable)return!1;c.draggable=l||e.targetGesto,n.datas={},n.left=parseFloat(f.left||"")||0,n.top=parseFloat(f.top||"")||0,n.bottom=parseFloat(f.bottom||"")||0,n.right=parseFloat(f.right||"")||0,n.startValue=[0,0],In(e,a),gu(e,a,"translate"),gC(e,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,n.deltaOffset=[0,0];var v=Pt(e,a,Y({set:function(g){n.startValue=g}},hu(e,a))),p=i||_t(e,"onDragStart",v);return p!==!1?(n.isDrag=!0,e.state.dragInfo={startRect:e.getRect(),dist:[0,0]}):(c.draggable=null,n.isPinch=!1),n.isDrag?v:!1},drag:function(e,a){if(a){vu(e,a,"translate");var n=a.datas,i=a.parentEvent,l=a.parentFlag,u=a.isPinch,c=a.deltaOffset,f=a.useSnap,v=a.isRequest,p=a.isGroup,g=a.parentThrottleDrag,y=a.distX,m=a.distY,b=n.isDrag,x=n.prevDist,S=n.prevBeforeDist,C=n.startValue;if(b){c&&(y+=c[0],m+=c[1]);var T=e.props,M=T.parentMoveable,A=p?0:T.throttleDrag||g||0,O=i?0:T.throttleDragRotate||0,R=0,_=!1,N=!1,z=!1,j=!1;if(!i&&O>0&&(y||m)){var H=T.startDragRotate||0,P=It(H+Ge([0,0],[y,m])*180/Math.PI,O)-H,q=m*Math.abs(Math.cos((P-90)/180*Math.PI)),U=y*Math.abs(Math.cos(P/180*Math.PI)),$=Yr([U,q]);R=P*Math.PI/180,y=$*Math.cos(R),m=$*Math.sin(R)}if(!u&&!i&&!l){var G=F(F2(e,y,m,O,!f&&v||c,n),2),V=G[0],W=G[1];_=V.isSnap,N=V.isBound,z=W.isSnap,j=W.isBound;var Q=V.offset,ot=W.offset;y+=Q,m+=ot}var B=ae(Zm({datas:n,distX:y,distY:m}),C),I=ae(s2({datas:n,distX:y,distY:m}),C);m0(I,hr),m0(B,hr),O||(!_&&!N&&(I[0]=It(I[0],A),B[0]=It(B[0],A)),!z&&!j&&(I[1]=It(I[1],A),B[1]=It(B[1],A)));var lt=Vt(B,C),et=Vt(I,C),dt=Vt(et,x),bt=Vt(lt,S);n.prevDist=et,n.prevBeforeDist=lt,n.passDelta=dt,n.passDist=et;var L=n.left+lt[0],Z=n.top+lt[1],k=n.right-lt[0],rt=n.bottom-lt[1],gt=pu(n,"translate(".concat(I[0],"px, ").concat(I[1],"px)"),"translate(".concat(et[0],"px, ").concat(et[1],"px)"));if(nv(a,gt),e.state.dragInfo.dist=i?[0,0]:et,!(!i&&!M&&dt.every(function(Rt){return!Rt})&&bt.some(function(Rt){return!Rt}))){var ct=e.state,Ct=ct.width,Dt=ct.height,zt=Pt(e,a,Y({transform:gt,dist:et,delta:dt,translate:I,beforeDist:lt,beforeDelta:bt,beforeTranslate:B,left:L,top:Z,right:k,bottom:rt,width:Ct,height:Dt,isPinch:u},vr({transform:gt},a)));return!i&&_t(e,"onDrag",zt),zt}}}},dragAfter:function(e,a){var n=a.datas,i=n.deltaOffset;return i[0]||i[1]?(n.deltaOffset=[0,0],this.drag(e,Y(Y({},a),{deltaOffset:i}))):!1},dragEnd:function(e,a){var n=a.parentEvent,i=a.datas;if(e.state.dragInfo=null,!!i.isDrag){i.isDrag=!1;var l=_r(e,a,{});return!n&&_t(e,"onDragEnd",l),l}},dragGroupStart:function(e,a){var n,i,l=a.datas,u=a.clientX,c=a.clientY,f=this.dragStart(e,a);if(!f)return!1;var v=Yf(e,this,"dragStart",[u||0,c||0],a,!1,"draggable"),p=v.childEvents,g=v.eventParams,y=Y(Y({},f),{targets:e.props.targets,events:g}),m=_t(e,"onDragGroupStart",y);l.isDrag=m!==!1;var b=(i=(n=p[0])===null||n===void 0?void 0:n.datas.startValue)!==null&&i!==void 0?i:[0,0];return l.throttleOffset=[b[0]%1,b[1]%1],l.isDrag?f:!1},dragGroup:function(e,a){var n=a.datas;if(n.isDrag){var i=this.drag(e,Y(Y({},a),{parentThrottleDrag:e.props.throttleDrag})),l=a.datas.passDelta,u=Yf(e,this,"drag",l,a,!1,"draggable").eventParams;if(i){var c=Y({targets:e.props.targets,events:u},i);return _t(e,"onDragGroup",c),c}}},dragGroupEnd:function(e,a){var n=a.isDrag,i=a.datas;if(i.isDrag){this.dragEnd(e,a);var l=Yf(e,this,"dragEnd",[0,0],a,!1,"draggable").eventParams;return _t(e,"onDragGroupEnd",_r(e,a,{targets:e.props.targets,events:l})),n}},request:function(e){var a={},n=e.getRect(),i=0,l=0,u=!1;return{isControl:!1,requestStart:function(c){return u=c.useSnap,{datas:a,useSnap:u}},request:function(c){return"x"in c?i=c.x-n.left:"deltaX"in c&&(i+=c.deltaX),"y"in c?l=c.y-n.top:"deltaY"in c&&(l+=c.deltaY),{datas:a,distX:i,distY:l,useSnap:u}},requestEnd:function(){return{datas:a,isDrag:!0,useSnap:u}}}},unset:function(e){e.state.gestos.draggable=null,e.state.dragInfo=null}};function g1(e,a){var n=Pe(e,a),i=[0,0];return{fixedPosition:n,fixedDirection:a,fixedOffset:i}}function J2(e,a){var n=e.allMatrix,i=e.is3d,l=e.width,u=e.height,c=i?4:3,f=[l/2*(1+a[0]),u/2*(1+a[1])],v=ze(n,f,c),p=[0,0];return{fixedPosition:v,fixedDirection:a,fixedOffset:p}}function m1(e,a){var n=e.allMatrix,i=e.is3d,l=e.width,u=e.height,c=i?4:3,f=g2(a,l,u),v=ze(n,a,c),p=[l?0:a[0],u?0:a[1]];return{fixedPosition:v,fixedDirection:f,fixedOffset:p}}var N0=gv("resizable"),Ad={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:n1("resizable"),dragControlCondition:N0,viewClassName:hv("resizable"),dragControlStart:function(e,a){var n,i=a.inputEvent,l=a.isPinch,u=a.isGroup,c=a.parentDirection,f=a.parentGesto,v=a.datas,p=a.parentFixedDirection,g=a.parentEvent,y=D1(c,l,i,v),m=e.state,b=m.target,x=m.width,S=m.height,C=m.gestos;if(!y||!b||C.resizable)return!1;C.resizable=f||e.controlGesto,!l&&In(e,a),v.datas={},v.direction=y,v.startOffsetWidth=x,v.startOffsetHeight=S,v.prevWidth=0,v.prevHeight=0,v.minSize=[0,0],v.startWidth=m.inlineCSSWidth||m.cssWidth,v.startHeight=m.inlineCSSHeight||m.cssHeight,v.maxSize=[1/0,1/0],u||(v.minSize=[m.minOffsetWidth,m.minOffsetHeight],v.maxSize=[m.maxOffsetWidth,m.maxOffsetHeight]);var T=e.props.transformOrigin||"% %";v.transformOrigin=_a(T)?T.split(" "):T,v.startOffsetMatrix=m.offsetMatrix,v.startTransformOrigin=m.transformOrigin,v.isWidth=(n=a==null?void 0:a.parentIsWidth)!==null&&n!==void 0?n:!y[0]&&!y[1]||y[0]||!y[1];function M(j){v.ratio=j&&isFinite(j)?j:0}v.startPositions=Pr(e.state);function A(j){var H=g1(v.startPositions,j);v.fixedDirection=H.fixedDirection,v.fixedPosition=H.fixedPosition,v.fixedOffset=H.fixedOffset}function O(j){var H=m1(e.state,j);v.fixedDirection=H.fixedDirection,v.fixedPosition=H.fixedPosition,v.fixedOffset=H.fixedOffset}function R(j){v.minSize=[ge("".concat(j[0]),0)||0,ge("".concat(j[1]),0)||0]}function _(j){var H=[j[0]||1/0,j[1]||1/0];(!ul(H[0])||isFinite(H[0]))&&(H[0]=ge("".concat(H[0]),0)||1/0),(!ul(H[1])||isFinite(H[1]))&&(H[1]=ge("".concat(H[1]),0)||1/0),v.maxSize=H}M(x/S),A(p||[-y[0],-y[1]]),v.setFixedDirection=A,v.setFixedPosition=O,v.setMin=R,v.setMax=_;var N=Pt(e,a,{direction:y,startRatio:v.ratio,set:function(j){var H=F(j,2),P=H[0],q=H[1];v.startWidth=P,v.startHeight=q},setMin:R,setMax:_,setRatio:M,setFixedDirection:A,setFixedPosition:O,setOrigin:function(j){v.transformOrigin=j},dragStart:fr.dragStart(e,new Gi().dragStart([0,0],a))}),z=g||_t(e,"onResizeStart",N);return v.startFixedDirection=v.fixedDirection,v.startFixedPosition=v.fixedPosition,z!==!1&&(v.isResize=!0,e.state.snapRenderInfo={request:a.isRequest,direction:y}),v.isResize?N:!1},dragControl:function(e,a){var n,i=a.datas,l=a.parentFlag,u=a.isPinch,c=a.parentKeepRatio,f=a.dragClient,v=a.parentDist,p=a.useSnap,g=a.isRequest,y=a.isGroup,m=a.parentEvent,b=a.resolveMatrix,x=i.isResize,S=i.transformOrigin,C=i.startWidth,T=i.startHeight,M=i.prevWidth,A=i.prevHeight,O=i.minSize,R=i.maxSize,_=i.ratio,N=i.startOffsetWidth,z=i.startOffsetHeight,j=i.isWidth;if(!x)return;if(b){var H=e.state.is3d,P=i.startOffsetMatrix,q=i.startTransformOrigin,U=H?4:3,$=fl(au(a)),G=Math.sqrt($.length);U!==G&&($=ta($,G,U));var V=Sl(P,$,q,U),W=qn(V,N,z,U);i.startPositions=W,i.nextTargetMatrix=$,i.nextAllMatrix=V}var Q=Xn(e.props,"resizable"),ot=Q.resizeFormat,B=Q.throttleResize,I=B===void 0?l?0:1:B,lt=Q.parentMoveable,et=Q.keepRatioFinally,dt=i.direction,bt=dt,L=0,Z=0;!dt[0]&&!dt[1]&&(bt=[1,1]);var k=_&&(c??Q.keepRatio)||!1;function rt(){var de=i.fixedDirection,be=L1(bt,k,i,a);L=be.distWidth,Z=be.distHeight;var pt=bt[0]-de[0]||k?Math.max(N+L,hr):N,vt=bt[1]-de[1]||k?Math.max(z+Z,hr):z;return k&&N&&z&&(j?vt=pt/_:pt=vt*_),[pt,vt]}var gt=F(rt(),2),ct=gt[0],Ct=gt[1];m||(i.setFixedDirection(i.fixedDirection),_t(e,"onBeforeResize",Pt(e,a,{startFixedDirection:i.startFixedDirection,startFixedPosition:i.startFixedPosition,setFixedDirection:function(de){var be;return i.setFixedDirection(de),be=F(rt(),2),ct=be[0],Ct=be[1],[ct,Ct]},setFixedPosition:function(de){var be;return i.setFixedPosition(de),be=F(rt(),2),ct=be[0],Ct=be[1],[ct,Ct]},boundingWidth:ct,boundingHeight:Ct,setSize:function(de){var be;be=F(de,2),ct=be[0],Ct=be[1]}},!0)));var Dt=f;f||(!l&&u?Dt=S2(e,[0,0]):Dt=i.fixedPosition);var zt=[0,0];u||(zt=pC(e,ct,Ct,dt,Dt,!p&&g,i)),v&&(!v[0]&&(zt[0]=0),!v[1]&&(zt[1]=0));function Rt(){var de;ot&&(de=F(ot([ct,Ct]),2),ct=de[0],Ct=de[1]),ct=It(ct,I),Ct=It(Ct,I)}if(k){bt[0]&&bt[1]&&zt[0]&&zt[1]&&(xt(zt[0])>xt(zt[1])?zt[1]=0:zt[0]=0);var Bt=!zt[0]&&!zt[1];Bt&&Rt(),bt[0]&&!bt[1]||zt[0]&&!zt[1]||Bt&&j?(ct+=zt[0],Ct=ct/_):(!bt[0]&&bt[1]||!zt[0]&&zt[1]||Bt&&!j)&&(Ct+=zt[1],ct=Ct*_)}else ct+=zt[0],Ct+=zt[1],ct=Math.max(0,ct),Ct=Math.max(0,Ct);n=F(Dm([ct,Ct],O,R,k?_:!1),2),ct=n[0],Ct=n[1],Rt(),k&&(y||et)&&(j?Ct=ct/_:ct=Ct*_),L=ct-N,Z=Ct-z;var Xt=[L-M,Z-A];i.prevWidth=L,i.prevHeight=Z;var Zt=b2(e,ct,Ct,Dt,S,i);if(!(!lt&&Xt.every(function(de){return!de})&&Zt.every(function(de){return!de}))){var Ot=fr.drag(e,bl(a,e.state,Zt,!!u,!1,"draggable")),Ft=Ot.transform,le=C+L,Re=T+Z,ye=Pt(e,a,Y({width:le,height:Re,offsetWidth:Math.round(ct),offsetHeight:Math.round(Ct),startRatio:_,boundingWidth:ct,boundingHeight:Ct,direction:dt,dist:[L,Z],delta:Xt,isPinch:!!u,drag:Ot},z1({style:{width:"".concat(le,"px"),height:"".concat(Re,"px")},transform:Ft},Ot,a)));return!m&&_t(e,"onResize",ye),ye}},dragControlAfter:function(e,a){var n=a.datas,i=n.isResize,l=n.startOffsetWidth,u=n.startOffsetHeight,c=n.prevWidth,f=n.prevHeight;if(!(!i||e.props.checkResizableError===!1)){var v=e.state,p=v.width,g=v.height,y=p-(l+c),m=g-(u+f),b=xt(y)>3,x=xt(m)>3;if(b&&(n.startWidth+=y,n.startOffsetWidth+=y,n.prevWidth+=y),x&&(n.startHeight+=m,n.startOffsetHeight+=m,n.prevHeight+=m),b||x)return this.dragControl(e,a)}},dragControlEnd:function(e,a){var n=a.datas,i=a.parentEvent;if(n.isResize){n.isResize=!1;var l=_r(e,a,{});return!i&&_t(e,"onResizeEnd",l),l}},dragGroupControlCondition:N0,dragGroupControlStart:function(e,a){var n=a.datas,i=this.dragControlStart(e,Y(Y({},a),{isGroup:!0}));if(!i)return!1;var l=Jr(e,"resizable",a),u=n.startOffsetWidth,c=n.startOffsetHeight;function f(){var b=n.minSize;l.forEach(function(x){var S=x.datas,C=S.minSize,T=S.startOffsetWidth,M=S.startOffsetHeight,A=u*(T?C[0]/T:0),O=c*(M?C[1]/M:0);b[0]=Math.max(b[0],A),b[1]=Math.max(b[1],O)})}function v(){var b=n.maxSize;l.forEach(function(x){var S=x.datas,C=S.maxSize,T=S.startOffsetWidth,M=S.startOffsetHeight,A=u*(T?C[0]/T:0),O=c*(M?C[1]/M:0);b[0]=Math.min(b[0],A),b[1]=Math.min(b[1],O)})}var p=Ra(e,this,"dragControlStart",a,function(b,x){return nu(e,b,n,x)});f(),v();var g=function(b){i.setFixedDirection(b),p.forEach(function(x,S){x.setFixedDirection(b),nu(e,x.moveable,n,l[S])})};n.setFixedDirection=g;var y=Y(Y({},i),{targets:e.props.targets,events:p.map(function(b){return Y(Y({},b),{setMin:function(x){b.setMin(x),f()},setMax:function(x){b.setMax(x),v()}})}),setFixedDirection:g,setMin:function(b){i.setMin(b),f()},setMax:function(b){i.setMax(b),v()}}),m=_t(e,"onResizeGroupStart",y);return n.isResize=m!==!1,n.isResize?i:!1},dragGroupControl:function(e,a){var n=a.datas;if(n.isResize){var i=Xn(e.props,"resizable");xu(e,"onBeforeResize",function(b){_t(e,"onBeforeResizeGroup",Pt(e,a,Y(Y({},b),{targets:i.targets}),!0))});var l=this.dragControl(e,Y(Y({},a),{isGroup:!0}));if(l){var u=l.boundingWidth,c=l.boundingHeight,f=l.dist,v=i.keepRatio,p=[u/(u-f[0]),c/(c-f[1])],g=n.fixedPosition,y=Ra(e,this,"dragControl",a,function(b,x){var S=F(ur(gl(e.rotation/180*Math.PI,3),[x.datas.originalX*p[0],x.datas.originalY*p[1],1],3),2),C=S[0],T=S[1];return Y(Y({},x),{parentDist:null,parentScale:p,dragClient:ae(g,[C,T]),parentKeepRatio:v})}),m=Y({targets:i.targets,events:y},l);return _t(e,"onResizeGroup",m),m}}},dragGroupControlEnd:function(e,a){var n=a.isDrag,i=a.datas;if(i.isResize){this.dragControlEnd(e,a);var l=Ra(e,this,"dragControlEnd",a),u=_r(e,a,{targets:e.props.targets,events:l});return _t(e,"onResizeGroupEnd",u),n}},request:function(e){var a={},n=0,i=0,l=!1,u=e.getRect();return{isControl:!0,requestStart:function(c){var f;return l=c.useSnap,{datas:a,parentDirection:c.direction||[1,1],parentIsWidth:(f=c==null?void 0:c.horizontal)!==null&&f!==void 0?f:!0,useSnap:l}},request:function(c){return"offsetWidth"in c?n=c.offsetWidth-u.offsetWidth:"deltaWidth"in c&&(n+=c.deltaWidth),"offsetHeight"in c?i=c.offsetHeight-u.offsetHeight:"deltaHeight"in c&&(i+=c.deltaHeight),{datas:a,parentDist:[n,i],parentKeepRatio:c.keepRatio,useSnap:l}},requestEnd:function(){return{datas:a,isDrag:!0,useSnap:l}}}},unset:function(e){e.state.gestos.resizable=null}};function Pf(e,a,n,i,l){var u=e.props.groupable,c=e.state,f=c.is3d?4:3,v=a.origin,p=ze(e.state.rootMatrix,Vt([v[0],v[1]],u?[0,0]:[c.left,c.top]),f),g=ae([l.left,l.top],p);a.startAbsoluteOrigin=g,a.prevDeg=Ge(g,[n,i])/Math.PI*180,a.defaultDeg=a.prevDeg,a.prevSnapDeg=0,a.loop=0,a.startDist=Oa(g,[n,i])}function Js(e,a,n){var i=n.defaultDeg,l=n.prevDeg,u=l%360,c=Math.floor(l/360);u<0&&(u+=360),u>e&&u>270&&e<90?++c:u<e&&u<90&&e>270&&--c;var f=a*(c*360+e-i);return n.prevDeg=i+f,f}function Ff(e,a,n,i){return Js(Ge(i.startAbsoluteOrigin,[e,a])/Math.PI*180,n,i)}function Wf(e,a,n,i,l,u){var c=e.props.throttleRotate,f=c===void 0?0:c,v=n.prevSnapDeg,p=0,g=!1;if(u){var y=vC(e,a,i,l+i);g=y.isSnap,p=l+y.dist}g||(p=It(l+i,f));var m=p-l;return n.prevSnapDeg=m,[m-v,m,p]}function y1(e,a,n){var i=F(a,4),l=i[0],u=i[1],c=i[2],f=i[3];if(e==="none")return[];if($e(e))return e.map(function(C){return y1(C,[l,u,c,f],n)[0]});var v=F((e||"top").split("-"),2),p=v[0],g=v[1],y=[l,u];p==="left"?y=[c,l]:p==="right"?y=[u,f]:p==="bottom"&&(y=[f,c]);var m=[(y[0][0]+y[1][0])/2,(y[0][1]+y[1][1])/2],b=O1(y,n);if(g){var x=g==="top"||g==="left",S=p==="bottom"||p==="left";m=y[x&&!S||!x&&S?0:1]}return[[m,b]]}function Md(e,a){if(a.isRequest)return a.requestAble==="rotatable";var n=a.inputEvent.target;if(Ye(n,Lt("rotation-control"))||e.props.rotateAroundControls&&Ye(n,Lt("around-control"))||Ye(n,Lt("control"))&&Ye(n,Lt("rotatable")))return!0;var i=e.props.rotationTarget;return i?mv(i,!0).some(function(l){return l?n===l||n.contains(l):!1}):!1}var $2=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,tC={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[$2],viewClassName:function(e){return e.isDragging("rotatable")?Lt("view-rotation-dragging"):""},render:function(e,a){var n=Xn(e.props,"rotatable"),i=n.rotatable,l=n.rotationPosition,u=n.zoom,c=n.renderDirections,f=n.rotateAroundControls,v=n.resolveAblesWithRotatable,p=e.getState(),g=p.renderPoses,y=p.direction;if(!i)return null;var m=y1(l,g,y),b=[];if(m.forEach(function(T,M){var A=F(T,2),O=A[0],R=A[1];b.push(a.createElement("div",{key:"rotation".concat(M),className:Lt("rotation"),style:{transform:"translate(-50%) translate(".concat(O[0],"px, ").concat(O[1],"px) rotate(").concat(R,"rad)")}},a.createElement("div",{className:Lt("line rotation-line"),style:{transform:"scaleX(".concat(u,")")}}),a.createElement("div",{className:Lt("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(u,")")}})))}),c){var x=Yi(v||{}),S={};x.forEach(function(T){v[T].forEach(function(M){S[M]=T})});var C=[];$e(c)&&(C=c.map(function(T){var M=S[T];return{data:M?{resolve:M}:{},classNames:M?["move"]:[],dir:T}})),b.push.apply(b,Et([],F(e1(e,"rotatable",C,a)),!1))}return f&&b.push.apply(b,Et([],F(o1(e,a)),!1)),b},dragControlCondition:Md,dragControlStart:function(e,a){var n,i,l=a.datas,u=a.clientX,c=a.clientY,f=a.parentRotate,v=a.parentFlag,p=a.isPinch,g=a.isRequest,y=e.state,m=y.target,b=y.left,x=y.top,S=y.direction,C=y.beforeDirection,T=y.targetTransform,M=y.moveableClientRect,A=y.offsetMatrix,O=y.targetMatrix,R=y.allMatrix,_=y.width,N=y.height;if(!g&&!m)return!1;var z=e.getRect();l.rect=z,l.transform=T,l.left=b,l.top=x;var j=function(bt){var L=m1(e.state,bt);l.fixedDirection=L.fixedDirection,l.fixedOffset=L.fixedOffset,l.fixedPosition=L.fixedPosition,I&&I.setFixedPosition(bt)},H=function(bt){var L=J2(e.state,bt);l.fixedDirection=L.fixedDirection,l.fixedOffset=L.fixedOffset,l.fixedPosition=L.fixedPosition,I&&I.setFixedDirection(bt)},P=u,q=c;if(g||p||v){var U=f||0;l.beforeInfo={origin:z.beforeOrigin,prevDeg:U,defaultDeg:U,prevSnapDeg:0,startDist:0},l.afterInfo=Y(Y({},l.beforeInfo),{origin:z.origin}),l.absoluteInfo=Y(Y({},l.beforeInfo),{origin:z.origin,startValue:U})}else{var $=(i=a.inputEvent)===null||i===void 0?void 0:i.target;if($){var G=$.getAttribute("data-direction")||"",V=i2[G];if(V){l.isControl=!0,l.isAroundControl=Ye($,Lt("around-control")),l.controlDirection=V;var W=$.getAttribute("data-resolve");W&&(l.resolveAble=W);var Q=RC(y.rootMatrix,y.renderPoses,M);n=F(Pe(Q,V),2),P=n[0],q=n[1]}}l.beforeInfo={origin:z.beforeOrigin},l.afterInfo={origin:z.origin},l.absoluteInfo={origin:z.origin,startValue:z.rotation};var ot=j;j=function(bt){var L=y.is3d?4:3,Z=F(ae(jm(O,L),bt),2),k=Z[0],rt=Z[1],gt=ur(A,kn([k,rt],L)),ct=ur(R,kn([bt[0],bt[1]],L));ot(bt);var Ct=y.posDelta;l.beforeInfo.origin=Vt(gt,Ct),l.afterInfo.origin=Vt(ct,Ct),l.absoluteInfo.origin=Vt(ct,Ct),Pf(e,l.beforeInfo,P,q,M),Pf(e,l.afterInfo,P,q,M),Pf(e,l.absoluteInfo,P,q,M)},H=function(bt){var L=Pe([[0,0],[_,0],[0,N],[_,N]],bt);j(L)}}l.startClientX=P,l.startClientY=q,l.direction=S,l.beforeDirection=C,l.startValue=0,l.datas={},gu(e,a,"rotate");var B=!1,I=!1;if(l.isControl&&l.resolveAble){var lt=l.resolveAble;lt==="resizable"&&(I=Ad.dragControlStart(e,Y(Y({},new Gi("resizable").dragStart([0,0],a)),{parentPosition:l.controlPosition,parentFixedPosition:l.fixedPosition})))}I||(B=fr.dragStart(e,new Gi().dragStart([0,0],a))),j(DC(e));var et=Pt(e,a,Y(Y({set:function(bt){l.startValue=bt*Math.PI/180},setFixedDirection:H,setFixedPosition:j},hu(e,a)),{dragStart:B,resizeStart:I})),dt=_t(e,"onRotateStart",et);return l.isRotate=dt!==!1,y.snapRenderInfo={request:a.isRequest},l.isRotate?et:!1},dragControl:function(e,a){var n,i,l,u=a.datas,c=a.clientDistX,f=a.clientDistY,v=a.parentRotate,p=a.parentFlag,g=a.isPinch,y=a.groupDelta,m=a.resolveMatrix,b=u.beforeDirection,x=u.beforeInfo,S=u.afterInfo,C=u.absoluteInfo,T=u.isRotate,M=u.startValue,A=u.rect,O=u.startClientX,R=u.startClientY;if(T){vu(e,a,"rotate");var _=l2(a),N=b*_,z=e.props.parentMoveable,j=0,H,P,q=0,U,$,G=0,V,W,Q=180/Math.PI*M,ot=C.startValue,B=!1,I=O+c,lt=R+f;if(!p&&"parentDist"in a){var et=a.parentDist;H=et,U=et,V=et}else g||p?(H=Js(v,b,x),U=Js(v,N,S),V=Js(v,N,C)):(H=Ff(I,lt,b,x),U=Ff(I,lt,N,S),V=Ff(I,lt,N,C),B=!0);if(P=Q+H,$=Q+U,W=ot+V,_t(e,"onBeforeRotate",Pt(e,a,{beforeRotation:P,rotation:$,absoluteRotation:W,setRotation:function(Dt){U=Dt-Q,H=U,V=U}},!0)),n=F(Wf(e,A,x,H,Q,B),3),j=n[0],H=n[1],P=n[2],i=F(Wf(e,A,S,U,Q,B),3),q=i[0],U=i[1],$=i[2],l=F(Wf(e,A,C,V,ot,B),3),G=l[0],V=l[1],W=l[2],!(!G&&!q&&!j&&!z&&!m)){var dt=pu(u,"rotate(".concat($,"deg)"),"rotate(".concat(U,"deg)"));m&&(u.fixedPosition=iv(e,u.targetAllTransform,u.fixedDirection,u.fixedOffset,u));var bt=y2(e,U,u),L=Vt(ae(y||[0,0],bt),u.prevInverseDist||[0,0]);u.prevInverseDist=bt,u.requestValue=null;var Z=Jm(e,dt,L,g,a),k=Z,rt=Oa([I,lt],C.startAbsoluteOrigin)-C.startDist,gt=void 0;if(u.resolveAble==="resizable"){var ct=Ad.dragControl(e,Y(Y({},bl(a,e.state,[a.deltaX,a.deltaY],!!g,!1,"resizable")),{resolveMatrix:!0,parentDistance:rt}));ct&&(gt=ct,k=z1(k,ct,a))}var Ct=Pt(e,a,Y(Y({delta:q,dist:U,rotate:$,rotation:$,beforeDist:H,beforeDelta:j,beforeRotate:P,beforeRotation:P,absoluteDist:V,absoluteDelta:G,absoluteRotate:W,absoluteRotation:W,isPinch:!!g,resize:gt},Z),k));return _t(e,"onRotate",Ct),Ct}}},dragControlEnd:function(e,a){var n=a.datas;if(n.isRotate){n.isRotate=!1;var i=_r(e,a,{});return _t(e,"onRotateEnd",i),i}},dragGroupControlCondition:Md,dragGroupControlStart:function(e,a){var n=a.datas,i=e.state,l=i.left,u=i.top,c=i.beforeOrigin,f=this.dragControlStart(e,a);if(!f)return!1;f.set(n.beforeDirection*e.rotation);var v=Ra(e,this,"dragControlStart",a,function(y,m){var b=y.state,x=b.left,S=b.top,C=b.beforeOrigin,T=ae(Vt([x,S],[l,u]),Vt(C,c));return m.datas.startGroupClient=T,m.datas.groupClient=T,Y(Y({},m),{parentRotate:0})}),p=Y(Y({},f),{targets:e.props.targets,events:v}),g=_t(e,"onRotateGroupStart",p);return n.isRotate=g!==!1,n.isRotate?f:!1},dragGroupControl:function(e,a){var n=a.datas;if(n.isRotate){xu(e,"onBeforeRotate",function(p){_t(e,"onBeforeRotateGroup",Pt(e,a,Y(Y({},p),{targets:e.props.targets}),!0))});var i=this.dragControl(e,a);if(i){var l=n.beforeDirection,u=i.beforeDist,c=u/180*Math.PI,f=Ra(e,this,"dragControl",a,function(p,g){var y=g.datas.startGroupClient,m=F(g.datas.groupClient,2),b=m[0],x=m[1],S=F(hl(y,c*l),2),C=S[0],T=S[1],M=[C-b,T-x];return g.datas.groupClient=[C,T],Y(Y({},g),{parentRotate:u,groupDelta:M})});e.rotation=l*i.beforeRotation;var v=Y({targets:e.props.targets,events:f,set:function(p){e.rotation=p},setGroupRotation:function(p){e.rotation=p}},i);return _t(e,"onRotateGroup",v),v}}},dragGroupControlEnd:function(e,a){var n=a.isDrag,i=a.datas;if(i.isRotate){this.dragControlEnd(e,a);var l=Ra(e,this,"dragControlEnd",a),u=_r(e,a,{targets:e.props.targets,events:l});return _t(e,"onRotateGroupEnd",u),n}},request:function(e){var a={},n=0,i=e.getRotation();return{isControl:!0,requestStart:function(){return{datas:a}},request:function(l){return"deltaRotate"in l?n+=l.deltaRotate:"rotate"in l&&(n=l.rotate-i),{datas:a,parentDist:n}},requestEnd:function(){return{datas:a,isDrag:!0}}}}};function eC(e,a){var n,i=e.direction,l=e.classNames,u=e.size,c=e.pos,f=e.zoom,v=e.key,p=i==="horizontal",g=p?"Y":"X";return a.createElement("div",{key:v,className:l.join(" "),style:(n={},n[p?"width":"height"]="".concat(u),n.transform="translate(".concat(c[0],", ").concat(c[1],") translate").concat(g,"(-50%) scale").concat(g,"(").concat(f,")"),n)})}function fv(e,a){return eC(Y(Y({},e),{classNames:Et([Lt("line","guideline",e.direction)],F(e.classNames),!1).filter(function(n){return n}),size:e.size||"".concat(e.sizeValue,"px"),pos:e.pos||e.posValue.map(function(n){return"".concat(It(n,.1),"px")})}),a)}function B0(e,a,n,i,l,u,c,f){var v=e.props.zoom;return n.map(function(p,g){var y=p.type,m=p.pos,b=[0,0];return b[c]=i,b[c?0:1]=-l+m,fv({key:"".concat(a,"TargetGuideline").concat(g),classNames:[Lt("target","bold",y)],posValue:b,sizeValue:u,zoom:v,direction:a},f)})}function j0(e,a,n,i,l,u){var c=e.props,f=c.zoom,v=c.isDisplayInnerSnapDigit,p=a==="horizontal"?dn:vn,g=l[p.start],y=l[p.end];return n.filter(function(m){var b=m.hide,x=m.elementRect;if(b)return!1;if(v&&x){var S=x.rect;if(S[p.start]<=g&&y<=S[p.end])return!1}return!0}).map(function(m,b){var x=m.pos,S=m.size,C=m.element,T=m.className,M=[-i[0]+x[0],-i[1]+x[1]];return fv({key:"".concat(a,"-default-guideline-").concat(b),classNames:C?[Lt("bold"),T]:[Lt("normal"),T],direction:a,posValue:M,sizeValue:S,zoom:f},u)})}function $o(e,a,n,i,l,u,c,f){var v,p=e.props,g=p.snapDigit,y=g===void 0?0:g,m=p.isDisplaySnapDigit,b=m===void 0?!0:m,x=p.snapDistFormat,S=x===void 0?function(R,_){return R}:x,C=p.zoom,T=a==="horizontal"?"X":"Y",M=a==="vertical"?"height":"width",A=Math.abs(l),O=b?parseFloat(A.toFixed(y)):0;return f.createElement("div",{key:"".concat(a,"-").concat(n,"-guideline-").concat(i),className:Lt("guideline-group",a),style:(v={left:"".concat(u[0],"px"),top:"".concat(u[1],"px")},v[M]="".concat(A,"px"),v)},fv({direction:a,classNames:[Lt(n),c],size:"100%",posValue:[0,0],sizeValue:A,zoom:C},f),f.createElement("div",{className:Lt("size-value","gap"),style:{transform:"translate".concat(T,"(-50%) scale(").concat(C,")")}},O>0?S(O,a):""))}function rC(e,a,n,i){var l=e==="vertical"?0:1,u=e==="vertical"?1:0,c=l?dn:vn,f=n[c.start],v=n[c.end];return N1(a,function(p){return p.pos[l]}).map(function(p){var g=[],y=[],m=[];return p.forEach(function(b){var x,S,C=b.element,T=b.elementRect.rect;if(T[c.end]<f)g.push(b);else if(v<T[c.start])y.push(b);else if(T[c.start]<=f&&v<=T[c.end]&&i){var M=b.pos,A={element:C,rect:Y(Y({},T),(x={},x[c.end]=T[c.start],x))},O={element:C,rect:Y(Y({},T),(S={},S[c.start]=T[c.end],S))},R=[0,0],_=[0,0];R[l]=M[l],R[u]=M[u],_[l]=M[l],_[u]=M[u]+b.size,g.push({type:e,pos:R,size:0,elementRect:A,direction:"",elementDirection:"end"}),y.push({type:e,pos:_,size:0,elementRect:O,direction:"",elementDirection:"start"})}}),g.sort(function(b,x){return x.pos[u]-b.pos[u]}),y.sort(function(b,x){return b.pos[u]-x.pos[u]}),{total:p,start:g,end:y,inner:m}})}function aC(e,a,n,i,l){var u=e.props.isDisplayInnerSnapDigit,c=[];return["vertical","horizontal"].forEach(function(f){var v=a.filter(function(C){return C.type===f}),p=f==="vertical"?1:0,g=p?0:1,y=rC(f,v,i,u),m=p?vn:dn,b=p?dn:vn,x=i[m.start],S=i[m.end];y.forEach(function(C){var T=C.total,M=C.start,A=C.end,O=C.inner,R=n[g]+T[0].pos[g]-i[b.start],_=i;M.forEach(function(N){var z=N.elementRect.rect,j=_[m.start]-z[m.end];if(j>0){var H=[0,0];H[p]=n[p]+_[m.start]-x-j,H[g]=R,c.push($o(e,f,"dashed",c.length,j,H,N.className,l))}_=z}),_=i,A.forEach(function(N){var z=N.elementRect.rect,j=z[m.start]-_[m.end];if(j>0){var H=[0,0];H[p]=n[p]+_[m.end]-x,H[g]=R,c.push($o(e,f,"dashed",c.length,j,H,N.className,l))}_=z}),O.forEach(function(N){var z=N.elementRect.rect,j=x-z[m.start],H=z[m.end]-S,P=[0,0],q=[0,0];P[p]=n[p]-j,P[g]=R,q[p]=n[p]+S-x,q[g]=R,c.push($o(e,f,"dashed",c.length,j,P,N.className,l)),c.push($o(e,f,"dashed",c.length,H,q,N.className,l))})})}),c}function nC(e,a,n,i,l){var u=[];return["horizontal","vertical"].forEach(function(c){var f=a.filter(function(C){return C.type===c}).slice(0,1),v=c==="vertical"?0:1,p=v?0:1,g=v?vn:dn,y=v?dn:vn,m=i[g.start],b=i[g.end],x=i[y.start],S=i[y.end];f.forEach(function(C){var T=C.gap,M=C.gapRects,A=Math.max.apply(Math,Et([x],F(M.map(function(_){var N=_.rect;return N[y.start]})),!1)),O=Math.min.apply(Math,Et([S],F(M.map(function(_){var N=_.rect;return N[y.end]})),!1)),R=(A+O)/2;A===O||R===(x+S)/2||M.forEach(function(_){var N=_.rect,z=_.className,j=[n[0],n[1]];if(N[g.end]<m)j[v]+=N[g.end]-m;else if(b<N[g.start])j[v]+=N[g.start]-m-T;else return;j[p]+=R-x,u.push($o(e,v?"vertical":"horizontal","gap",u.length,T,j,z,l))})})}),u}function Od(e){var a,n,i=e.state,l=i.containerClientRect,u=i.hasFixed,c=l.overflow,f=l.scrollHeight,v=l.scrollWidth,p=l.clientHeight,g=l.clientWidth,y=l.clientLeft,m=l.clientTop,b=e.props,x=b.snapGap,S=x===void 0?!0:x,C=b.verticalGuidelines,T=b.horizontalGuidelines,M=b.snapThreshold,A=M===void 0?5:M,O=b.maxSnapElementGuidelineDistance,R=O===void 0?1/0:O,_=b.isDisplayGridGuidelines,N=qr(Pr(e.state)),z=N.top,j=N.left,H=N.bottom,P=N.right,q={top:z,left:j,bottom:H,right:P,center:(j+P)/2,middle:(z+H)/2},U=sC(e),$=Et([],F(U),!1),G=((n=(a=i.snapThresholdInfo)===null||a===void 0?void 0:a.multiples)!==null&&n!==void 0?n:[1,1]).map(function(ot){return ot*A});S&&$.push.apply($,Et([],F(iC(e,q,G)),!1));var V=Y({},i.snapOffset||{left:0,top:0,bottom:0,right:0});if($.push.apply($,Et([],F(lC(e,c?v:g,c?f:p,y,m,V,_)),!1)),u){var W=l.left,Q=l.top;V.left+=W,V.top+=Q,V.right+=W,V.bottom+=Q}return $.push.apply($,Et([],F(S1(T||!1,C||!1,c?v:g,c?f:p,y,m,V)),!1)),$=$.filter(function(ot){var B=ot.element,I=ot.elementRect,lt=ot.type;if(!B||!I)return!0;var et=I.rect;return b1(q,et,lt,R)}),$}function iC(e,a,n){var i=e.props,l=i.maxSnapElementGuidelineDistance,u=l===void 0?1/0:l,c=i.maxSnapElementGapDistance,f=c===void 0?1/0:c,v=e.state.elementRects,p=[];return[["vertical",dn,vn],["horizontal",vn,dn]].forEach(function(g){var y=F(g,3),m=y[0],b=y[1],x=y[2],S=a[b.start],C=a[b.end],T=a[b.center],M=a[x.start],A=a[x.end],O={left:n[0],top:n[1]};function R(z){var j=z.rect,H=O[b.start];return j[b.end]<S+H?S-j[b.end]:C-H<j[b.start]?j[b.start]-C:-1}var _=v.filter(function(z){var j=z.rect;return j[x.start]>A||j[x.end]<M?!1:R(z)>0}).sort(function(z,j){return R(z)-R(j)}),N=[];_.forEach(function(z){_.forEach(function(j){if(z!==j){var H=z.rect,P=j.rect,q=H[x.start],U=H[x.end],$=P[x.start],G=P[x.end];q>G||$>U||N.push([z,j])}})}),N.forEach(function(z){var j=F(z,2),H=j[0],P=j[1],q=H.rect,U=P.rect,$=q[b.start],G=q[b.end],V=U[b.start],W=U[b.end],Q=O[b.start],ot=0,B=0,I=!1,lt=!1,et=!1;if(G<=S&&C<=V){if(lt=!0,ot=(V-G-(C-S))/2,B=G+ot+(C-S)/2,xt(B-T)>Q)return}else if(G<V&&W<S+Q){if(I=!0,ot=V-G,B=W+ot,xt(B-S)>Q)return}else if(G<V&&C-Q<$){if(et=!0,ot=V-G,B=$-ot,xt(B-C)>Q)return}else return;ot&&b1(a,U,m,u)&&(ot>f||p.push({type:m,pos:m==="vertical"?[B,0]:[0,B],element:P.element,size:0,className:P.className,isStart:I,isCenter:lt,isEnd:et,gap:ot,hide:!0,gapRects:[H,P],direction:"",elementDirection:""}))})}),p}function oC(e,a,n,i){var l,u,c=e.props,f=e.state,v=c.snapGridAll,p=c.snapGridWidth,g=p===void 0?0:p,y=c.snapGridHeight,m=y===void 0?0:y,b=f.snapRenderInfo,x=b&&(((l=b.direction)===null||l===void 0?void 0:l[0])||((u=b.direction)===null||u===void 0?void 0:u[1])),S=e.moveables;if(v&&S&&x&&(g||m)){if(f.snapThresholdInfo)return;f.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var C=e.getRect(),T=C.children,M=b.direction;if(T){var A=M.map(function(R,_){var N=_===0?{snapSize:g,posName:"left",sizeName:"width",clientOffset:i.left-a}:{snapSize:m,posName:"top",sizeName:"height",clientOffset:i.top-n},z=N.snapSize,j=N.posName,H=N.sizeName,P=N.clientOffset;if(!z)return{dir:R,multiple:1,snapSize:z,snapOffset:0};var q=C[H],U=C[j],$=$S(T.map(function(I){return[I[j]-U,I[H],q-I[H]-I[j]+U]})).filter(function(I){return I}).sort(function(I,lt){return I-lt}),G=$[0],V=$.map(function(I){return It(I/G,.1)*z}),W=1,Q=It(q/G,.1);for(W=1;W<=10&&!V.every(function(I){return I*W%1===0});++W);var ot=(-R+1)/2,B=tu(U-P,U-P+q,ot,1-ot);return{multiple:Q*W,dir:R,snapSize:z,snapOffset:Math.round(B/z)}}),O=A.map(function(R){return R.multiple||1});f.snapThresholdInfo.multiples=O,f.snapThresholdInfo.offset=A.map(function(R){return R.snapOffset}),A.forEach(function(R,_){R.snapSize})}}else f.snapThresholdInfo=null}function lC(e,a,n,i,l,u,c){i===void 0&&(i=0),l===void 0&&(l=0);var f=e.props,v=e.state,p=f.snapGridWidth,g=p===void 0?0:p,y=f.snapGridHeight,m=y===void 0?0:y,b=[],x=u.left,S=u.top,C=[0,0];oC(e,i,l,u);var T=v.snapThresholdInfo,M=g,A=m;if(T&&(g*=T.multiples[0]||1,m*=T.multiples[1]||1,C=T.offset),m){for(var O=function(_){b.push({type:"horizontal",pos:[x,It(C[1]*A+_-l+S,.1)],className:Lt("grid-guideline"),size:a,hide:!c,direction:"",grid:!0})},R=0;R<=n*2;R+=m)O(R);for(var R=-m;R>=-n;R-=m)O(R)}if(g){for(var O=function(N){b.push({type:"vertical",pos:[It(C[0]*M+N-i+x,.1),S],className:Lt("grid-guideline"),size:n,hide:!c,direction:"",grid:!0})},R=0;R<=a*2;R+=g)O(R);for(var R=-g;R>=-a;R-=g)O(R)}return b}function b1(e,a,n,i){return n==="horizontal"?xt(e.right-a.left)<=i||xt(e.left-a.right)<=i||e.left<=a.right&&a.left<=e.right:n==="vertical"?xt(e.bottom-a.top)<=i||xt(e.top-a.bottom)<=i||e.top<=a.bottom&&a.top<=e.bottom:!0}function sC(e){var a=e.state,n=e.props.elementGuidelines,i=n===void 0?[]:n;if(!i.length)return a.elementRects=[],[];var l=(a.elementRects||[]).filter(function(m){return!m.refresh}),u=i.map(function(m){return $r(m)&&"element"in m?Y(Y({},m),{element:ua(m.element,!0)}):{element:ua(m,!0)}}).filter(function(m){return m.element}),c=bx(l.map(function(m){return m.element}),u.map(function(m){return m.element})),f=c.maintained,v=c.added,p=[];f.forEach(function(m){var b=F(m,2),x=b[0],S=b[1];p[S]=l[x]}),uC(e,v.map(function(m){return u[m]})).map(function(m,b){p[v[b]]=m}),a.elementRects=p;var g=lv(e.props.elementSnapDirections),y=[];return p.forEach(function(m){var b=m.element,x=m.top,S=x===void 0?g.top:x,C=m.left,T=C===void 0?g.left:C,M=m.right,A=M===void 0?g.right:M,O=m.bottom,R=O===void 0?g.bottom:O,_=m.center,N=_===void 0?g.center:_,z=m.middle,j=z===void 0?g.middle:z,H=m.className,P=m.rect,q=sv({top:S,right:A,left:T,bottom:R,center:N,middle:j},P),U=q.horizontal,$=q.vertical,G=q.horizontalNames,V=q.verticalNames,W=P.top,Q=P.left,ot=P.right-Q,B=P.bottom-W,I=[ot,B];$.forEach(function(lt,et){y.push({type:"vertical",element:b,pos:[It(lt,.1),W],size:B,sizes:I,className:H,elementRect:m,elementDirection:A0[V[et]]||V[et],direction:""})}),U.forEach(function(lt,et){y.push({type:"horizontal",element:b,pos:[Q,It(lt,.1)],size:ot,sizes:I,className:H,elementRect:m,elementDirection:A0[G[et]]||G[et],direction:""})})}),y}function L0(e,a){return e?e.map(function(n){var i=$r(n)?n:{pos:n},l=i.pos;return ul(l)?i:Y(Y({},i),{pos:ge(l,a)})}):[]}function S1(e,a,n,i,l,u,c){l===void 0&&(l=0),u===void 0&&(u=0),c===void 0&&(c={left:0,top:0,right:0,bottom:0});var f=[],v=c.left,p=c.top,g=c.bottom,y=c.right,m=n+y-v,b=i+g-p;return L0(e,b).forEach(function(x){f.push({type:"horizontal",pos:[v,It(x.pos-u+p,.1)],size:m,className:x.className,direction:""})}),L0(a,m).forEach(function(x){f.push({type:"vertical",pos:[It(x.pos-l+v,.1),p],size:b,className:x.className,direction:""})}),f}function uC(e,a){if(!a.length)return[];var n=e.props.groupable,i=e.state,l=i.containerClientRect,u=i.rootMatrix,c=i.is3d,f=i.offsetDelta,v=c?4:3,p=F(N2(u,l,v),2),g=p[0],y=p[1],m=n?0:f[0],b=n?0:f[1];return a.map(function(x){var S=x.element.getBoundingClientRect(),C=S.left-g-m,T=S.top-y-b,M=T+S.height,A=C+S.width,O=F(Ui(u,[C,T],v),2),R=O[0],_=O[1],N=F(Ui(u,[A,M],v),2),z=N[0],j=N[1];return Y(Y({},x),{rect:{left:R,right:z,top:_,bottom:j,center:(R+z)/2,middle:(_+j)/2}})})}function ks(e){var a=e.state,n=a.container,i=e.props.snapContainer||n;if(a.snapContainer===i&&a.guidelines&&a.guidelines.length)return!1;var l=a.containerClientRect,u={left:0,top:0,bottom:0,right:0};if(n!==i){var c=ua(i,!0);if(c){var f=il(c),v=X0(a,[f.left-l.left,f.top-l.top]),p=X0(a,[f.right-l.right,f.bottom-l.bottom]);u.left=It(v[0],1e-5),u.top=It(v[1],1e-5),u.right=It(p[0],1e-5),u.bottom=It(p[1],1e-5)}}return a.snapContainer=i,a.snapOffset=u,a.guidelines=Od(e),a.enableSnap=!0,!0}function x1(e,a,n,i,l,u){var c=qn(e,a,n,u?4:3),f=Pe(c,i);return vv(c,Vt(l,f))}function V0(e){return e?e/xt(e):0}function cC(e,a,n,i,l,u){var c=u.fixedDirection,f=V2(n,c,i),v=cv(e,a,n,i),p=Et(Et([],F(K2(e,a,f,i,l,u)),!1),F(h1(e,v,u)),!1),g=iu(p,0),y=iu(p,1);return{width:{isBound:g.isBound,offset:g.offset[0]},height:{isBound:y.isBound,offset:y.offset[1]}}}function fC(e,a,n,i,l,u,c,f,v){var p=Pe(a,c),g=bu(e,f,{vertical:[p[0]],horizontal:[p[1]]}),y=g.horizontal.offset,m=g.vertical.offset;if(It(m,xd)||It(y,xd)){var b=F(fa({datas:v,distX:-m,distY:-y}),2),x=b[0],S=b[1],C=Math.min(l||1/0,n+c[0]*x),T=Math.min(u||1/0,i+c[1]*S);return[C-n,T-i]}return[0,0]}function C1(e,a,n,i,l,u,c,f){for(var v=Pr(e.state),p=e.props.keepRatio,g=0,y=0,m=0;m<2;++m){var b=a(g,y),x=cC(e,b,l,p,c,f),S=x.width,C=x.height,T=S.isBound,M=C.isBound,A=S.offset,O=C.offset;if(m===1&&(T||(A=0),M||(O=0)),m===0&&c&&!T&&!M)return[0,0];if(p){var R=xt(A)*(n?1/n:1),_=xt(O)*(i?1/i:1),N=T&&M?R<_:M||!T&&R<_;N?A=n*O/i:O=i*A/n}g+=A,y+=O}if(!p&&l[0]&&l[1]){var z=Q2(e,v,l,u,f),j=z.maxWidth,H=z.maxHeight,P=F(fC(e,a(g,y).map(function($){return $.map(function(G){return It(G,xd)})}),n+g,i+y,j,H,l,c,f),2),A=P[0],O=P[1];g+=A,y+=O}return[g,y]}function al(e){return e<0&&(e=e%360+360),e%=360,e}function dC(e,a){a=al(a);var n=Math.floor(e/360),i=n*360+360-a,l=n*360+a;return xt(e-i)<xt(e-l)?i:l}function Kf(e,a){e=al(e),a=al(a);var n=al(e-a);return Math.min(n,360-n)}function vC(e,a,n,i){var l,u=e.props,c=(l=u[l1])!==null&&l!==void 0?l:5,f=u[s1];if(Wi(e,"rotatable")){var v=a.pos1,p=a.pos2,g=a.pos3,y=a.pos4,m=a.origin,b=n*Math.PI/180,x=[v,p,g,y].map(function(O){return Vt(O,m)}),S=x.map(function(O){return hl(O,b)}),C=Et(Et([],F(R2(e,x,S,m,n)),!1),F(I2(e,x,S,m,n)),!1);C.sort(function(O,R){return xt(O-n)-xt(R-n)});var T=C.length>0;if(T)return{isSnap:T,dist:T?C[0]:n}}if(f!=null&&f.length&&c){var M=f.slice().sort(function(O,R){return Kf(O,i)-Kf(R,i)}),A=M[0];if(Kf(A,i)<=c)return{isSnap:!0,dist:n+dC(i,A)-i}}return{isSnap:!1,dist:n}}function pC(e,a,n,i,l,u,c){if(!Wi(e,"resizable"))return[0,0];var f=c.fixedDirection,v=c.nextAllMatrix,p=e.state,g=p.allMatrix,y=p.is3d;return C1(e,function(m,b){return x1(v||g,a+m,n+b,f,l,y)},a,n,i,l,u,c)}function hC(e,a,n,i,l){if(!Wi(e,"scalable"))return[0,0];var u=l.startOffsetWidth,c=l.startOffsetHeight,f=l.fixedPosition,v=l.fixedDirection,p=l.is3d,g=C1(e,function(y,m){return x1(p2(l,ae(a,[y/u,m/c])),u,c,v,f,p)},u,c,n,f,i,l);return[g[0]/u,g[1]/c]}function gC(e,a){a.absolutePoses=Pr(e.state)}function G0(e){var a=[];return e.forEach(function(n){n.guidelineInfos.forEach(function(i){var l=i.guideline;Dr(a,function(u){return u.guideline===l})||(l.direction="",a.push({guideline:l,posInfo:n}))})}),a.map(function(n){var i=n.guideline,l=n.posInfo;return Y(Y({},i),{direction:l.direction})})}function k0(e,a,n,i,l,u){var c=ov(mu(e,u),a,n),f=c.vertical,v=c.horizontal,p=Ni();f.forEach(function(x){x.isBound&&(x.direction==="start"&&(p.left=!0),x.direction==="end"&&(p.right=!0),i.push({type:"bounds",pos:x.pos}))}),v.forEach(function(x){x.isBound&&(x.direction==="start"&&(p.top=!0),x.direction==="end"&&(p.bottom=!0),l.push({type:"bounds",pos:x.pos}))});var g=q2(e),y=g.boundMap,m=g.vertical,b=g.horizontal;return m.forEach(function(x){Da(i,function(S){var C=S.type,T=S.pos;return C==="bounds"&&T===x})>=0||i.push({type:"bounds",pos:x})}),b.forEach(function(x){Da(l,function(S){var C=S.type,T=S.pos;return C==="bounds"&&T===x})>=0||l.push({type:"bounds",pos:x})}),{boundMap:p,innerBoundMap:y}}var mC=gv("",["resizable","scalable"]),yC={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",l1,s1,u1,c1,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(e,a){var n=e.state,i=n.top,l=n.left,u=n.pos1,c=n.pos2,f=n.pos3,v=n.pos4,p=n.snapRenderInfo,g=e.props.snapRenderThreshold,y=g===void 0?1:g;if(!p||!p.render||!Wi(e,""))return ji(e,"boundMap",Ni(),function(dt){return JSON.stringify(dt)}),ji(e,"innerBoundMap",Ni(),function(dt){return JSON.stringify(dt)}),[];n.guidelines=Od(e);var m=Math.min(u[0],c[0],f[0],v[0]),b=Math.min(u[1],c[1],f[1],v[1]),x=p.externalPoses||[],S=Pr(e.state),C=[],T=[],M=[],A=[],O=[],R=qr(S),_=R.width,N=R.height,z=R.top,j=R.left,H=R.bottom,P=R.right,q={left:j,right:P,top:z,bottom:H,center:(j+P)/2,middle:(z+H)/2},U=x.length>0,$=U?qr(x):{};if(!p.request){if(p.direction&&O.push(L2(e,S,p.direction,y,y)),p.snap){var G=qr(S);p.center&&(G.middle=(G.top+G.bottom)/2,G.center=(G.left+G.right)/2),O.push(M0(e,G,y,y))}U&&(p.center&&($.middle=($.top+$.bottom)/2,$.center=($.left+$.right)/2),O.push(M0(e,$,y,y))),O.forEach(function(dt){var bt=dt.vertical.posInfos,L=dt.horizontal.posInfos;C.push.apply(C,Et([],F(bt.filter(function(Z){var k=Z.guidelineInfos;return k.some(function(rt){var gt=rt.guideline;return!gt.hide})}).map(function(Z){return{type:"snap",pos:Z.pos}})),!1)),T.push.apply(T,Et([],F(L.filter(function(Z){var k=Z.guidelineInfos;return k.some(function(rt){var gt=rt.guideline;return!gt.hide})}).map(function(Z){return{type:"snap",pos:Z.pos}})),!1)),M.push.apply(M,Et([],F(G0(bt)),!1)),A.push.apply(A,Et([],F(G0(L)),!1))})}var V=k0(e,[j,P],[z,H],C,T),W=V.boundMap,Q=V.innerBoundMap;U&&k0(e,[$.left,$.right],[$.top,$.bottom],C,T,p.externalBounds);var ot=Et(Et([],F(M),!1),F(A),!1),B=ot.filter(function(dt){return dt.element&&!dt.gapRects}),I=ot.filter(function(dt){return dt.gapRects}).sort(function(dt,bt){return dt.gap-bt.gap});_t(e,"onSnap",{guidelines:ot.filter(function(dt){var bt=dt.element;return!bt}),elements:B,gaps:I},!0);var lt=ji(e,"boundMap",W,function(dt){return JSON.stringify(dt)},Ni()),et=ji(e,"innerBoundMap",Q,function(dt){return JSON.stringify(dt)},Ni());return(W===lt||Q===et)&&_t(e,"onBound",{bounds:W,innerBounds:Q},!0),Et(Et(Et(Et(Et(Et([],F(aC(e,B,[m,b],q,a)),!1),F(nC(e,I,[m,b],q,a)),!1),F(j0(e,"horizontal",A,[l,i],q,a)),!1),F(j0(e,"vertical",M,[l,i],q,a)),!1),F(B0(e,"horizontal",T,m,i,_,0,a)),!1),F(B0(e,"vertical",C,b,l,N,1,a)),!1)},dragStart:function(e,a){e.state.snapRenderInfo={request:a.isRequest,snap:!0,center:!0},ks(e)},drag:function(e){var a=e.state;ks(e)||(a.guidelines=Od(e)),a.snapRenderInfo&&(a.snapRenderInfo.render=!0)},pinchStart:function(e){this.unset(e)},dragEnd:function(e){this.unset(e)},dragControlCondition:function(e,a){if(mC(e,a)||Md(e,a))return!0;if(!a.isRequest&&a.inputEvent)return Ye(a.inputEvent.target,Lt("snap-control"))},dragControlStart:function(e){e.state.snapRenderInfo=null,ks(e)},dragControl:function(e){this.drag(e)},dragControlEnd:function(e){this.unset(e)},dragGroupStart:function(e,a){this.dragStart(e,a)},dragGroup:function(e){this.drag(e)},dragGroupEnd:function(e){this.unset(e)},dragGroupControlStart:function(e){e.state.snapRenderInfo=null,ks(e)},dragGroupControl:function(e){this.drag(e)},dragGroupControlEnd:function(e){this.unset(e)},unset:function(e){var a=e.state;a.enableSnap=!1,a.guidelines=[],a.snapRenderInfo=null,a.elementRects=[]}};function bC(e,a){return[e[0]*a[0],e[1]*a[1]]}function Lt(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return LS.apply(void 0,Et([rv],F(e),!1))}function E1(e){e()}function SC(e){return!e||e==="none"?[1,0,0,1,0,0]:$r(e)?e:fl(e)}function nl(e,a,n){return eu(a,Hn(n,a),e,Hn(n.map(function(i){return-i}),a))}function xC(e,a,n){if(a==="%"){var i=dv(e.ownerSVGElement);return i[n?"width":"height"]/100}return 1}function CC(e){var a=EC(pv(e,":before"));return a.map(function(n,i){var l=pl(n),u=l.value,c=l.unit;return u*xC(e,c,i===0)})}function lu(e){return e?e.split(" "):["0","0"]}function EC(e){return lu(e.transformOrigin)}function T1(e){var a=Cr(e),n=a("transform");if(n&&n!=="none")return n;if("transform"in e){var i=e.transform,l=i.baseVal;if(!l)return"";var u=l.length;if(!u)return"";for(var c=[],f=function(p){var g=l[p].matrix;c.push("matrix(".concat(["a","b","c","d","e","f"].map(function(y){return g[y]}).join(", "),")"))},v=0;v<u;++v)f(v);return c.join(" ")}return""}function vl(e,a,n,i,l){var u,c,f=Wd(e)||pn(e),v=!1,p,g;if(!e||n)p=e;else{var y=(u=e==null?void 0:e.assignedSlot)===null||u===void 0?void 0:u.parentElement,m=e.parentElement;y?(v=!0,g=m,p=y):p=m}for(var b=!1,x=e===a||p===a,S="relative",C=1,T=parseFloat(l==null?void 0:l("zoom"))||1,M=l==null?void 0:l("position");p&&p!==f;){a===p&&(x=!0);var A=Cr(p),O=p.tagName.toLowerCase(),R=T1(p),_=A("willChange"),N=parseFloat(A("zoom"))||1;if(S=A("position"),i&&N!==1){C=N;break}if(!n&&i&&T!==1&&M&&M!=="absolute"||O==="svg"||O==="foreignobject"||S!=="static"||R&&R!=="none"||_==="transform")break;var z=(c=e==null?void 0:e.assignedSlot)===null||c===void 0?void 0:c.parentNode,j=p.parentNode;z&&(v=!0,g=j);var H=j;if(H&&H.nodeType===11){p=H.host,b=!0,S=Cr(p)("position");break}p=H,S="relative"}return{offsetZoom:C,hasSlot:v,parentSlotElement:g,isCustomElement:b,isStatic:S==="static",isEnd:x||!p||p===f,offsetParent:p||f}}function TC(e,a){var n,i=e.tagName.toLowerCase(),l=e.offsetLeft,u=e.offsetTop,c=Cr(e),f=Id(l),v=!f,p,g;return!v&&(i!=="svg"||e.ownerSVGElement)?(p=qm?CC(e):lu(c("transformOrigin")).map(function(y){return parseFloat(y)}),g=p.slice(),v=!0,i==="svg"?(l=0,u=0):(n=F(MC(e,p,e===a&&a.tagName.toLowerCase()==="g"),4),l=n[0],u=n[1],p[0]=n[2],p[1]=n[3])):(p=lu(c("transformOrigin")).map(function(y){return parseFloat(y)}),g=p.slice()),{tagName:i,isSVG:f,hasOffset:v,offset:[l||0,u||0],origin:p,targetOrigin:g}}function w1(e,a){var n=Cr(e),i=Cr(pn(e)),l=i("position");if(!a&&(!l||l==="static"))return[0,0];var u=parseInt(i("marginLeft"),10),c=parseInt(i("marginTop"),10);return n("position")==="absolute"&&((n("top")!=="auto"||n("bottom")!=="auto")&&(c=0),(n("left")!=="auto"||n("right")!=="auto")&&(u=0)),[u,c]}function Rd(e){e.forEach(function(a){var n=a.matrix;n&&(a.matrix=ta(n,3,4))})}function wC(e){for(var a=e.parentElement,n=!1,i=pn(e);a;){var l=pv(a).transform;if(l&&l!=="none"){n=!0;break}if(a===i)break;a=a.parentElement}return{fixedContainer:a||i,hasTransform:n}}function Su(e,a){return a===void 0&&(a=e.length>9),"".concat(a?"matrix3d":"matrix","(").concat(Lm(e,!a).join(","),")")}function dv(e){var a=e.clientWidth,n=e.clientHeight;if(!e)return{x:0,y:0,width:0,height:0,clientWidth:a,clientHeight:n};var i=e.viewBox,l=i&&i.baseVal||{x:0,y:0,width:0,height:0};return{x:l.x,y:l.y,width:l.width||a,height:l.height||n,clientWidth:a,clientHeight:n}}function AC(e,a){var n,i=dv(e),l=i.width,u=i.height,c=i.clientWidth,f=i.clientHeight,v=c/l,p=f/u,g=e.preserveAspectRatio.baseVal,y=g.align,m=g.meetOrSlice,b=[0,0],x=[v,p],S=[0,0];if(y!==1){var C=(y-2)%3,T=Math.floor((y-2)/3);b[0]=l*C/2,b[1]=u*T/2;var M=m===2?Math.max(p,v):Math.min(v,p);x[0]=M,x[1]=M,S[0]=(c-l)/2*C,S[1]=(f-u)/2*T}var A=Zd(x,a);return n=F(S,2),A[a*(a-1)]=n[0],A[a*(a-1)+1]=n[1],nl(A,a,b)}function MC(e,a,n){var i=e.tagName.toLowerCase();if(!e.getBBox||!n&&i==="g")return[0,0,0,0];var l=Cr(e),u=l("transform-box")==="fill-box",c=e.getBBox(),f=dv(e.ownerSVGElement),v=c.x,p=c.y;i==="foreignobject"&&!v&&!p&&(v=parseFloat(e.getAttribute("x"))||0,p=parseFloat(e.getAttribute("y"))||0);var g=v-f.x,y=p-f.y,m=u?a[0]:a[0]-g,b=u?a[1]:a[1]-y;return[g,y,m,b]}function ze(e,a,n){return ur(e,kn(a,n),n)}function qn(e,a,n,i){return[[0,0],[a,0],[0,n],[a,n]].map(function(l){return ze(e,l,i)})}function qr(e){var a=e.map(function(p){return p[0]}),n=e.map(function(p){return p[1]}),i=Math.min.apply(Math,Et([],F(a),!1)),l=Math.min.apply(Math,Et([],F(n),!1)),u=Math.max.apply(Math,Et([],F(a),!1)),c=Math.max.apply(Math,Et([],F(n),!1)),f=u-i,v=c-l;return{left:i,top:l,right:u,bottom:c,width:f,height:v}}function H0(e,a,n,i){var l=qn(e,a,n,i);return qr(l)}function OC(e,a,n,i,l){var u,c=e.target,f=e.origin,v=a.matrix,p=M1(c),g=p.offsetWidth,y=p.offsetHeight,m=n.getBoundingClientRect(),b=[0,0];n===pn(n)&&(b=w1(c,!0));for(var x=c.getBoundingClientRect(),S=x.left-m.left+n.scrollLeft-(n.clientLeft||0)+b[0],C=x.top-m.top+n.scrollTop-(n.clientTop||0)+b[1],T=x.width,M=x.height,A=eu(i,l,v),O=H0(A,g,y,i),R=O.left,_=O.top,N=O.width,z=O.height,j=ze(A,f,i),H=Vt(j,[R,_]),P=[S+H[0]*T/N,C+H[1]*M/z],q=[0,0],U=0;++U<10;){var $=ca(l,i);u=F(Vt(ze($,P,i),ze($,j,i)),2),q[0]=u[0],q[1]=u[1];var G=eu(i,l,Hn(q,i),v),V=H0(G,g,y,i),W=V.left,Q=V.top,ot=W-S,B=Q-C;if(xt(ot)<2&&xt(B)<2)break;P[0]-=ot,P[1]-=B}return q.map(function(I){return Math.round(I)})}function RC(e,a,n){var i=e.length===16,l=i?4:3,u=a.map(function(v){return ze(e,v,l)}),c=n.left,f=n.top;return u.map(function(v){return[v[0]+c,v[1]+f]})}function Yr(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function A1(e,a){return Yr([a[0]-e[0],a[1]-e[1]])}function tl(e,a,n,i){n===void 0&&(n=1),i===void 0&&(i=Ge(e,a));var l=A1(e,a);return{transform:"translateY(-50%) translate(".concat(e[0],"px, ").concat(e[1],"px) rotate(").concat(i,"rad) scaleY(").concat(n,")"),width:"".concat(l,"px")}}function su(e,a){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var l=n.length,u=n.reduce(function(f,v){return f+v[0]},0)/l,c=n.reduce(function(f,v){return f+v[1]},0)/l;return{transform:"translateZ(0px) translate(".concat(u,"px, ").concat(c,"px) rotate(").concat(e,"rad) scale(").concat(a,")")}}function Xn(e,a){var n=e[a];return $r(n)?Y(Y({},e),n):e}function M1(e){var a=e&&!Id(e.offsetWidth),n=0,i=0,l=0,u=0,c=0,f=0,v=0,p=0,g=0,y=0,m=0,b=0,x=1/0,S=1/0,C=1/0,T=1/0,M=0,A=0,O=!1;if(e)if(!a&&e.ownerSVGElement){var R=e.getBBox();O=!0,n=R.width,i=R.height,c=n,f=i,v=n,p=i,l=n,u=i}else{var _=Cr(e),N=e.style,z=_("boxSizing")==="border-box",j=parseFloat(_("borderLeftWidth"))||0,H=parseFloat(_("borderRightWidth"))||0,P=parseFloat(_("borderTopWidth"))||0,q=parseFloat(_("borderBottomWidth"))||0,U=parseFloat(_("paddingLeft"))||0,$=parseFloat(_("paddingRight"))||0,G=parseFloat(_("paddingTop"))||0,V=parseFloat(_("paddingBottom"))||0,W=U+$,Q=G+V,ot=j+H,B=P+q,I=W+ot,lt=Q+B,et=_("position"),dt=0,bt=0;if("clientLeft"in e){var L=null;if(et==="absolute"){var Z=vl(e,pn(e));L=Z.offsetParent}else L=e.parentElement;if(L){var k=Cr(L);dt=parseFloat(k("width")),bt=parseFloat(k("height"))}}g=Math.max(W,ge(_("minWidth"),dt)||0),y=Math.max(Q,ge(_("minHeight"),bt)||0),x=ge(_("maxWidth"),dt),S=ge(_("maxHeight"),bt),isNaN(x)&&(x=1/0),isNaN(S)&&(S=1/0),M=ge(N.width,0)||0,A=ge(N.height,0)||0,c=parseFloat(_("width"))||0,f=parseFloat(_("height"))||0,v=xt(c-M)<1?fd(g,M||c,x):c,p=xt(f-A)<1?fd(y,A||f,S):f,n=v,i=p,l=v,u=p,z?(C=x,T=S,m=g,b=y,v=n-I,p=i-lt):(C=x+I,T=S+lt,m=g+I,b=y+lt,n=v+I,i=p+lt),l=v+W,u=p+Q}return{svg:O,offsetWidth:n,offsetHeight:i,clientWidth:l,clientHeight:u,contentWidth:v,contentHeight:p,inlineCSSWidth:M,inlineCSSHeight:A,cssWidth:c,cssHeight:f,minWidth:g,minHeight:y,maxWidth:x,maxHeight:S,minOffsetWidth:m,minOffsetHeight:b,maxOffsetWidth:C,maxOffsetHeight:T}}function O1(e,a){return Ge(a>0?e[0]:e[1],a>0?e[1]:e[0])}function Hs(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function R1(e,a){var n=e===pn(e)||e===Wd(e),i={clientLeft:e.clientLeft,clientTop:e.clientTop,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,overflow:!1};return n&&(i.clientHeight=Math.max(a.height,i.clientHeight),i.scrollHeight=Math.max(a.height,i.scrollHeight)),i.overflow=Cr(e)("overflow")!=="visible",Y(Y({},a),i)}function Zf(e,a,n,i){var l=e.left,u=e.right,c=e.top,f=e.bottom,v=a.top,p=a.left,g={left:p+l,top:v+c,right:p+u,bottom:v+f,width:u-l,height:f-c};return n&&i?R1(n,g):g}function il(e,a){var n=0,i=0,l=0,u=0;if(e){var c=e.getBoundingClientRect();n=c.left,i=c.top,l=c.width,u=c.height}var f={left:n,top:i,width:l,height:u,right:n+l,bottom:i+u};return e&&a?R1(e,f):f}function DC(e){var a=e.props,n=a.groupable,i=a.svgOrigin,l=e.getState(),u=l.offsetWidth,c=l.offsetHeight,f=l.svg,v=l.transformOrigin;return!n&&f&&i?yv(i,u,c):v}function D1(e,a,n,i){var l;if(e)l=e;else if(a)l=[0,0];else{var u=n.target;l=_1(u,i)}return l}function _1(e,a){if(e){var n=e.getAttribute("data-rotation")||"",i=e.getAttribute("data-direction");if(a.deg=n,!!i){var l=[0,0];return i.indexOf("w")>-1&&(l[0]=-1),i.indexOf("e")>-1&&(l[0]=1),i.indexOf("n")>-1&&(l[1]=-1),i.indexOf("s")>-1&&(l[1]=1),l}}}function vv(e,a){return[ae(a,e[0]),ae(a,e[1]),ae(a,e[2]),ae(a,e[3])]}function Pr(e){var a=e.left,n=e.top,i=e.pos1,l=e.pos2,u=e.pos3,c=e.pos4;return vv([i,l,u,c],[a,n])}function Dd(e,a){e[a?"controlAbles":"targetAbles"].forEach(function(n){n.unset&&n.unset(e)})}function Bi(e,a){var n=a?"controlGesto":"targetGesto",i=e[n];(i==null?void 0:i.isIdle())===!1&&Dd(e,a),i==null||i.unset(),e[n]=null}function vr(e,a){if(a){var n=Fi(a);n.nextStyle=Y(Y({},n.nextStyle),e)}return{style:e,cssText:Yi(e).map(function(i){return"".concat(WS(i,"-"),": ").concat(e[i],";")}).join("")}}function z1(e,a,n){var i=a.afterTransform||a.transform;return Y(Y({},vr(Y(Y(Y({},e.style),a.style),{transform:i}),n)),{afterTransform:i,transform:e.transform})}function Pt(e,a,n,i){var l=a.datas;l.datas||(l.datas={});var u=Y(Y({},n),{target:e.state.target,clientX:a.clientX,clientY:a.clientY,inputEvent:a.inputEvent,currentTarget:e,moveable:e,datas:l.datas,isRequest:a.isRequest,isRequestChild:a.isRequestChild,isFirstDrag:!!a.isFirstDrag,isTrusted:a.isTrusted!==!1,stopAble:function(){l.isEventStart=!1},stopDrag:function(){var c;(c=a.stop)===null||c===void 0||c.call(a)}});return l.isStartEvent?i||(l.lastEvent=u):l.isStartEvent=!0,u}function _r(e,a,n){var i=a.datas,l="isDrag"in n?n.isDrag:a.isDrag;return i.datas||(i.datas={}),Y(Y({isDrag:l},n),{moveable:e,target:e.state.target,clientX:a.clientX,clientY:a.clientY,inputEvent:a.inputEvent,currentTarget:e,lastEvent:i.lastEvent,isDouble:a.isDouble,datas:i.datas,isFirstDrag:!!a.isFirstDrag})}function xu(e,a,n){e._emitter.on(a,n)}function _t(e,a,n,i,l){return e.triggerEvent(a,n,i,l)}function pv(e,a){return un(e).getComputedStyle(e,a)}function Us(e,a,n){var i={},l={};return e.filter(function(u){var c=u.name;if(i[c]||!a.some(function(f){return u[f]}))return!1;if(!n&&u.ableGroup){if(l[u.ableGroup])return!1;l[u.ableGroup]=!0}return i[c]=!0,!0})}function _d(e,a){return e===a||e==null&&a==null}function U0(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var n=e.length-1,i=0;i<n;++i){var l=e[i];if(!Id(l))return l}return e[n]}function N1(e,a){var n=[],i=[];return e.forEach(function(l,u){var c=a(l,u,e),f=i.indexOf(c),v=n[f]||[];f===-1&&(i.push(c),n.push(v)),v.push(l)}),n}function _C(e,a){var n=[],i={};return e.forEach(function(l,u){var c=a(l,u,e),f=i[c];f||(f=[],i[c]=f,n.push(f)),f.push(l)}),n}function B1(e){return e.reduce(function(a,n){return a.concat(n)},[])}function Hi(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return e.sort(function(n,i){return xt(i)-xt(n)}),e[0]}function Ui(e,a,n){return ur(ca(e,n),kn(a,n),n)}function zC(e,a){var n,i=e.is3d,l=e.rootMatrix,u=i?4:3;return n=F(Ui(l,[a.distX,a.distY],u),2),a.distX=n[0],a.distY=n[1],a}function Ir(e,a,n,i){if(!n[0]&&!n[1])return a;var l=ze(e,[V0(n[0]||1),0],i),u=ze(e,[0,V0(n[1]||1)],i),c=ze(e,[n[0]/Yr(l),n[1]/Yr(u)],i);return ae(a,c)}function Qr(e,a,n){return n?"".concat(e/a*100,"%"):"".concat(e,"px")}function uu(e){return xt(e)<=hr?0:e}function hv(e){return function(a){if(!a.isDragging(e))return"";var n=x2(a,e),i=n.deg;return i?Lt("view-control-rotation".concat(i)):""}}function gv(e,a){return a===void 0&&(a=[e]),function(n,i){if(i.isRequest)return a.some(function(u){return i.requestAble===u})?i.parentDirection:!1;var l=i.inputEvent.target;return Ye(l,Lt("direction"))&&(!e||Ye(l,Lt(e)))}}function NC(e,a,n){var i,l=Vi(e,{"x%":function(R){return R/100*a.offsetWidth},"y%":function(R){return R/100*a.offsetHeight}}),u=e.slice(0,n<0?void 0:n),c=e.slice(0,n<0?void 0:n+1),f=e[n]||"",v=n<0?[]:e.slice(n),p=n<0?[]:e.slice(n+1),g=l.slice(0,n<0?void 0:n),y=l.slice(0,n<0?void 0:n+1),m=(i=l[n])!==null&&i!==void 0?i:Vi([""])[0],b=n<0?[]:l.slice(n),x=n<0?[]:l.slice(n+1),S=m?[m]:[],C=Di(g),T=Di(y),M=Di(b),A=Di(x),O=me(C,M,4);return{transforms:e,beforeFunctionMatrix:C,beforeFunctionMatrix2:T,targetFunctionMatrix:Di(S),afterFunctionMatrix:M,afterFunctionMatrix2:A,allFunctionMatrix:O,beforeFunctions:g,beforeFunctions2:y,targetFunction:S[0],afterFunctions:b,afterFunctions2:x,beforeFunctionTexts:u,beforeFunctionTexts2:c,targetFunctionText:f,afterFunctionTexts:v,afterFunctionTexts2:p}}function BC(e){return!e||!$r(e)||Kd(e)?!1:$e(e)||"length"in e}function ua(e,a){return e?Kd(e)?e:_a(e)?a?document.querySelector(e):e:qd(e)?e():Nm(e)?e:"current"in e?e.current:e:null}function mv(e,a){if(!e)return[];var n=BC(e)?[].slice.call(e):[e];return n.reduce(function(i,l){return _a(l)&&a?Et(Et([],F(i),!1),F([].slice.call(document.querySelectorAll(l))),!1):($e(l)?i.push(mv(l,a)):i.push(ua(l,a)),i)},[])}function jC(e,a,n){var i=Ge(e,a)/Math.PI*180;return i=n>=0?i:180-i,i=i>=0?i:360+i,i}function X0(e,a){var n=e.rootMatrix,i=e.is3d,l=i?4:3,u=ca(n,l);return i||(u=ta(u,3,4)),u[12]=0,u[13]=0,u[14]=0,cx(u,a)}function j1(e,a,n,i,l){var u=F(e,2),c=u[0],f=u[1],v=0,p=0;if(l&&c&&f){var g=Ge([0,0],a),y=Ge([0,0],i),m=Yr(a),b=Math.cos(g-y)*m;if(!i[0])p=b,v=p*n;else if(!i[1])v=b,p=v/n;else{var x=i[0]*c,S=i[1]*f,C=Math.atan2(x+a[0],S+a[1]),T=Math.atan2(x,S);C<0&&(C+=Math.PI*2),T<0&&(T+=Math.PI*2);var M=0;xt(C-T)<Math.PI/2||xt(C-T)>Math.PI/2*3||(T+=Math.PI),M=C-T,M>Math.PI*2?M-=Math.PI*2:M>Math.PI?M=2*Math.PI-M:M<-Math.PI&&(M=-2*Math.PI-M);var A=Yr([x+a[0],S+a[1]])*Math.cos(M);v=A*Math.sin(T)-x,p=A*Math.cos(T)-S,i[0]<0&&(v*=-1),i[1]<0&&(p*=-1)}}else v=i[0]*a[0],p=i[1]*a[1];return[v,p]}function L1(e,a,n,i){var l,u=n.ratio,c=n.startOffsetWidth,f=n.startOffsetHeight,v=0,p=0,g=i.distX,y=i.distY,m=i.pinchScale,b=i.parentDistance,x=i.parentDist,S=i.parentScale,C=n.fixedDirection,T=[0,1].map(function(N){return xt(e[N]-C[N])}),M=[0,1].map(function(N){var z=T[N];return z!==0&&(z=2/z),z});if(x)v=x[0],p=x[1],a&&(v?p||(p=v/u):v=p*u);else if(ul(m))v=(m-1)*c,p=(m-1)*f;else if(S)v=(S[0]-1)*c,p=(S[1]-1)*f;else if(b){var A=c*T[0],O=f*T[1],R=Yr([A,O]);v=b/R*A*M[0],p=b/R*O*M[1]}else{var _=fa({datas:n,distX:g,distY:y});_=M.map(function(N,z){return _[z]*N}),l=F(j1([c,f],_,u,e,a),2),v=l[0],p=l[1]}return{distWidth:v,distHeight:p}}function zd(e,a){if(a){if(e==="left")return{x:"0%",y:"50%"};if(e==="top")return{x:"50%",y:"50%"};if(e==="center")return{x:"50%",y:"50%"};if(e==="right")return{x:"100%",y:"50%"};if(e==="bottom")return{x:"50%",y:"100%"};var n=F(e.split(" "),2),i=n[0],l=n[1],u=zd(i||""),c=zd(l||""),f=Y(Y({},u),c),v={x:"50%",y:"50%"};return f.x&&(v.x=f.x),f.y&&(v.y=f.y),f.value&&(f.x&&!f.y&&(v.y=f.value),!f.x&&f.y&&(v.x=f.value)),v}return e==="left"?{x:"0%"}:e==="right"?{x:"100%"}:e==="top"?{y:"0%"}:e==="bottom"?{y:"100%"}:e?e==="center"?{value:"50%"}:{value:e}:{}}function yv(e,a,n){var i=zd(e,!0),l=i.x,u=i.y;return[ge(l,a)||0,ge(u,n)||0]}function LC(e,a,n){var i=e.map(function(u){return Vt(u,a)}),l=i.map(function(u){return hl(u,n)});return{prev:i,next:l,result:l.map(function(u){return ae(u,a)})}}function V1(e,a){return e.length===a.length&&e.every(function(n,i){var l=a[i],u=$e(n),c=$e(l);return u&&c?V1(n,l):!u&&!c?n===l:!1})}function ji(e,a,n,i,l){var u=e._store,c=u[a];if(!(a in u))if(l!=null)u[a]=l,c=l;else return u[a]=n,n;return c===n||i(c)===i(n)?c:(u[a]=n,n)}function dr(e){return e>=0?1:-1}function xt(e){return Math.abs(e)}function Qf(e,a){return JS(e).map(function(n){return a(n)})}function G1(e){return ul(e)?{top:e,left:e,right:e,bottom:e}:{left:e.left||0,top:e.top||0,right:e.right||0,bottom:e.bottom||0}}var VC=yl("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(e,a){var n=a.datas,i=a.targets,l=a.angle,u=a.originalDatas,c=e.props,f=c.pinchable,v=c.ables;if(!f)return!1;var p="onPinch".concat(i?"Group":"","Start"),g="drag".concat(i?"Group":"","ControlStart"),y=(f===!0?e.controlAbles:v.filter(function(S){return f.indexOf(S.name)>-1})).filter(function(S){return S.canPinch&&S[g]}),m=Pt(e,a,{});i&&(m.targets=i);var b=_t(e,p,m);n.isPinch=b!==!1,n.ables=y;var x=n.isPinch;return x?(y.forEach(function(S){if(u[S.name]=u[S.name]||{},!!S[g]){var C=Y(Y({},a),{datas:u[S.name],parentRotate:l,isPinch:!0});S[g](e,C)}}),e.state.snapRenderInfo={request:a.isRequest,direction:[0,0]},x):!1},pinch:function(e,a){var n=a.datas,i=a.scale,l=a.distance,u=a.originalDatas,c=a.inputEvent,f=a.targets,v=a.angle;if(n.isPinch){var p=l*(1-1/i),g=Pt(e,a,{});f&&(g.targets=f);var y="onPinch".concat(f?"Group":"");_t(e,y,g);var m=n.ables,b="drag".concat(f?"Group":"","Control");return m.forEach(function(x){x[b]&&x[b](e,Y(Y({},a),{datas:u[x.name],inputEvent:c,resolveMatrix:!0,pinchScale:i,parentDistance:p,parentRotate:v,isPinch:!0}))}),g}},pinchEnd:function(e,a){var n=a.datas,i=a.isPinch,l=a.inputEvent,u=a.targets,c=a.originalDatas;if(n.isPinch){var f="onPinch".concat(u?"Group":"","End"),v=_r(e,a,{isDrag:i});u&&(v.targets=u),_t(e,f,v);var p=n.ables,g="drag".concat(u?"Group":"","ControlEnd");return p.forEach(function(y){y[g]&&y[g](e,Y(Y({},a),{isDrag:i,datas:c[y.name],inputEvent:l,isPinch:!0}))}),i}},pinchGroupStart:function(e,a){return this.pinchStart(e,Y(Y({},a),{targets:e.props.targets}))},pinchGroup:function(e,a){return this.pinch(e,Y(Y({},a),{targets:e.props.targets}))},pinchGroupEnd:function(e,a){return this.pinchEnd(e,Y(Y({},a),{targets:e.props.targets}))}}),I0=gv("scalable"),GC={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:n1("scalable"),dragControlCondition:I0,viewClassName:hv("scalable"),dragControlStart:function(e,a){var n=a.datas,i=a.isPinch,l=a.inputEvent,u=a.parentDirection,c=D1(u,i,l,n),f=e.state,v=f.width,p=f.height,g=f.targetTransform,y=f.target,m=f.pos1,b=f.pos2,x=f.pos4;if(!c||!y)return!1;i||In(e,a),n.datas={},n.transform=g,n.prevDist=[1,1],n.direction=c,n.startOffsetWidth=v,n.startOffsetHeight=p,n.startValue=[1,1];var S=!c[0]&&!c[1]||c[0]||!c[1];gu(e,a,"scale"),n.isWidth=S;function C(_){n.ratio=_&&isFinite(_)?_:0}n.startPositions=Pr(e.state);function T(_){var N=g1(n.startPositions,_);n.fixedDirection=N.fixedDirection,n.fixedPosition=N.fixedPosition,n.fixedOffset=N.fixedOffset}n.setFixedDirection=T,C(Oa(m,b)/Oa(b,x)),T([-c[0],-c[1]]);var M=function(_){n.minScaleSize=_},A=function(_){n.maxScaleSize=_};M([-1/0,-1/0]),A([1/0,1/0]);var O=Pt(e,a,Y(Y({direction:c,set:function(_){n.startValue=_},setRatio:C,setFixedDirection:T,setMinScaleSize:M,setMaxScaleSize:A},hu(e,a)),{dragStart:fr.dragStart(e,new Gi().dragStart([0,0],a))})),R=_t(e,"onScaleStart",O);return n.startFixedDirection=n.fixedDirection,R!==!1&&(n.isScale=!0,e.state.snapRenderInfo={request:a.isRequest,direction:c}),n.isScale?O:!1},dragControl:function(e,a){vu(e,a,"scale");var n=a.datas,i=a.parentKeepRatio,l=a.parentFlag,u=a.isPinch,c=a.dragClient,f=a.isRequest,v=a.useSnap,p=a.resolveMatrix,g=n.prevDist,y=n.direction,m=n.startOffsetWidth,b=n.startOffsetHeight,x=n.isScale,S=n.startValue,C=n.isWidth,T=n.ratio;if(!x)return!1;var M=e.props,A=M.throttleScale,O=M.parentMoveable,R=y;!y[0]&&!y[1]&&(R=[1,1]);var _=T&&(i??M.keepRatio)||!1,N=e.state,z=[S[0],S[1]];function j(){var ct=L1(R,_,n,a),Ct=ct.distWidth,Dt=ct.distHeight,zt=m?(m+Ct)/m:1,Rt=b?(b+Dt)/b:1;S[0]||(z[0]=Ct/m),S[1]||(z[1]=Dt/b);var Bt=(R[0]||_?zt:1)*z[0],Xt=(R[1]||_?Rt:1)*z[1];return Bt===0&&(Bt=dr(g[0])*Ls),Xt===0&&(Xt=dr(g[1])*Ls),[Bt,Xt]}var H=j();if(!u&&e.props.groupable){var P=N.snapRenderInfo||{},q=P.direction;$e(q)&&(q[0]||q[1])&&(N.snapRenderInfo={direction:y,request:a.isRequest})}_t(e,"onBeforeScale",Pt(e,a,{scale:H,setFixedDirection:function(ct){return n.setFixedDirection(ct),H=j(),H},startFixedDirection:n.startFixedDirection,setScale:function(ct){H=ct}},!0));var U=[H[0]/z[0],H[1]/z[1]],$=c,G=[0,0],V=dr(U[0]*U[1]),W=!c&&!l&&u;if(W||p?$=iv(e,n.targetAllTransform,[0,0],[0,0],n):c||($=n.fixedPosition),u||(G=hC(e,U,y,!v&&f,n)),_){R[0]&&R[1]&&G[0]&&G[1]&&(Math.abs(G[0]*m)>Math.abs(G[1]*b)?G[1]=0:G[0]=0);var Q=!G[0]&&!G[1];if(Q&&(C?U[0]=It(U[0]*z[0],A)/z[0]:U[1]=It(U[1]*z[1],A)/z[1]),R[0]&&!R[1]||G[0]&&!G[1]||Q&&C){U[0]+=G[0];var ot=m*U[0]*z[0]/T;U[1]=dr(V*U[0])*xt(ot/b/z[1])}else if(!R[0]&&R[1]||!G[0]&&G[1]||Q&&!C){U[1]+=G[1];var B=b*U[1]*z[1]*T;U[0]=dr(V*U[1])*xt(B/m/z[0])}}else U[0]+=G[0],U[1]+=G[1],G[0]||(U[0]=It(U[0]*z[0],A)/z[0]),G[1]||(U[1]=It(U[1]*z[1],A)/z[1]);U[0]===0&&(U[0]=dr(g[0])*Ls),U[1]===0&&(U[1]=dr(g[1])*Ls),H=bC(U,[z[0],z[1]]);var I=[m,b],lt=[m*H[0],b*H[1]];lt=Dm(lt,n.minScaleSize,n.maxScaleSize,_?T:!1),H=Qf(2,function(ct){return I[ct]?lt[ct]/I[ct]:lt[ct]}),U=Qf(2,function(ct){return H[ct]/z[ct]});var et=Qf(2,function(ct){return g[ct]?U[ct]/g[ct]:U[ct]}),dt="scale(".concat(U.join(", "),")"),bt="scale(".concat(H.join(", "),")"),L=pu(n,bt,dt),Z=!S[0]||!S[1],k=h2(e,Z?bt:dt,n.fixedDirection,$,n.fixedOffset,n,Z),rt=W?k:Vt(k,n.prevInverseDist||[0,0]);if(n.prevDist=U,n.prevInverseDist=k,H[0]===g[0]&&H[1]===g[1]&&rt.every(function(ct){return!ct})&&!O&&!W)return!1;var gt=Pt(e,a,Y({offsetWidth:m,offsetHeight:b,direction:y,scale:H,dist:U,delta:et,isPinch:!!u},Jm(e,L,rt,u,a)));return _t(e,"onScale",gt),gt},dragControlEnd:function(e,a){var n=a.datas;if(!n.isScale)return!1;n.isScale=!1;var i=_r(e,a,{});return _t(e,"onScaleEnd",i),i},dragGroupControlCondition:I0,dragGroupControlStart:function(e,a){var n=a.datas,i=this.dragControlStart(e,a);if(!i)return!1;var l=Jr(e,"resizable",a);n.moveableScale=e.scale;var u=Ra(e,this,"dragControlStart",a,function(p,g){return nu(e,p,n,g)}),c=function(p){i.setFixedDirection(p),u.forEach(function(g,y){g.setFixedDirection(p),nu(e,g.moveable,n,l[y])})};n.setFixedDirection=c;var f=Y(Y({},i),{targets:e.props.targets,events:u,setFixedDirection:c}),v=_t(e,"onScaleGroupStart",f);return n.isScale=v!==!1,n.isScale?f:!1},dragGroupControl:function(e,a){var n=a.datas;if(n.isScale){xu(e,"onBeforeScale",function(g){_t(e,"onBeforeScaleGroup",Pt(e,a,Y(Y({},g),{targets:e.props.targets}),!0))});var i=this.dragControl(e,a);if(i){var l=i.dist,u=n.moveableScale;e.scale=[l[0]*u[0],l[1]*u[1]];var c=e.props.keepRatio,f=n.fixedPosition,v=Ra(e,this,"dragControl",a,function(g,y){var m=F(ur(gl(e.rotation/180*Math.PI,3),[y.datas.originalX*l[0],y.datas.originalY*l[1],1],3),2),b=m[0],x=m[1];return Y(Y({},y),{parentDist:null,parentScale:l,parentKeepRatio:c,dragClient:ae(f,[b,x])})}),p=Y({targets:e.props.targets,events:v},i);return _t(e,"onScaleGroup",p),p}}},dragGroupControlEnd:function(e,a){var n=a.isDrag,i=a.datas;if(i.isScale){this.dragControlEnd(e,a);var l=Ra(e,this,"dragControlEnd",a),u=_r(e,a,{targets:e.props.targets,events:l});return _t(e,"onScaleGroupEnd",u),n}},request:function(){var e={},a=0,n=0,i=!1;return{isControl:!0,requestStart:function(l){return i=l.useSnap,{datas:e,parentDirection:l.direction||[1,1],useSnap:i}},request:function(l){return a+=l.deltaWidth,n+=l.deltaHeight,{datas:e,parentDist:[a,n],parentKeepRatio:l.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}}};function on(e,a){return e.map(function(n,i){return tu(n,a[i],1,2)})}function q0(e,a,n){var i=Ge(e,a),l=Ge(e,n),u=l-i;return u>=0?u:u+2*Math.PI}function kC(e,a){var n=q0(e[0],e[1],e[2]),i=q0(a[0],a[1],a[2]),l=Math.PI;return!(n>=l&&i<=l||n<=l&&i>=l)}var HC={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:hv("warpable"),render:function(e,a){var n=e.props,i=n.resizable,l=n.scalable,u=n.warpable,c=n.zoom;if(i||l||!u)return[];var f=e.state,v=f.pos1,p=f.pos2,g=f.pos3,y=f.pos4,m=on(v,p),b=on(p,v),x=on(v,g),S=on(g,v),C=on(g,y),T=on(y,g),M=on(p,y),A=on(y,p);return Et([a.createElement("div",{className:Lt("line"),key:"middeLine1",style:tl(m,C,c)}),a.createElement("div",{className:Lt("line"),key:"middeLine2",style:tl(b,T,c)}),a.createElement("div",{className:Lt("line"),key:"middeLine3",style:tl(x,M,c)}),a.createElement("div",{className:Lt("line"),key:"middeLine4",style:tl(S,A,c)})],F(i1(e,"warpable",a)),!1)},dragControlCondition:function(e,a){if(a.isRequest)return!1;var n=a.inputEvent.target;return Ye(n,Lt("direction"))&&Ye(n,Lt("warpable"))},dragControlStart:function(e,a){var n=a.datas,i=a.inputEvent,l=e.props.target,u=i.target,c=_1(u,n);if(!c||!l)return!1;var f=e.state,v=f.transformOrigin,p=f.is3d,g=f.targetTransform,y=f.targetMatrix,m=f.width,b=f.height,x=f.left,S=f.top;n.datas={},n.targetTransform=g,n.warpTargetMatrix=p?y:ta(y,3,4),n.targetInverseMatrix=Bm(ca(n.warpTargetMatrix,4),3,4),n.direction=c,n.left=x,n.top=S,n.poses=[[0,0],[m,0],[0,b],[m,b]].map(function(M){return Vt(M,v)}),n.nextPoses=n.poses.map(function(M){var A=F(M,2),O=A[0],R=A[1];return ur(n.warpTargetMatrix,[O,R,0,1],4)}),n.startValue=Ae(4),n.prevMatrix=Ae(4),n.absolutePoses=Pr(f),n.posIndexes=Qm(c),In(e,a),gu(e,a,"matrix3d"),f.snapRenderInfo={request:a.isRequest,direction:c};var C=Pt(e,a,Y({set:function(M){n.startValue=M}},hu(e,a))),T=_t(e,"onWarpStart",C);return T!==!1&&(n.isWarp=!0),n.isWarp},dragControl:function(e,a){var n=a.datas,i=a.isRequest,l=a.distX,u=a.distY,c=n.targetInverseMatrix,f=n.prevMatrix,v=n.isWarp,p=n.startValue,g=n.poses,y=n.posIndexes,m=n.absolutePoses;if(!v)return!1;if(vu(e,a,"matrix3d"),Wi(e,"warpable")){var b=y.map(function(j){return m[j]});b.length>1&&b.push([(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]);var x=bu(e,i,{horizontal:b.map(function(j){return j[1]+u}),vertical:b.map(function(j){return j[0]+l})}),S=x.horizontal,C=x.vertical;u-=S.offset,l-=C.offset}var T=fa({datas:n,distX:l,distY:u},!0),M=n.nextPoses.slice();if(y.forEach(function(j){M[j]=ae(M[j],T)}),!n2.every(function(j){return kC(j.map(function(H){return g[H]}),j.map(function(H){return M[H]}))}))return!1;var A=Qd(g[0],g[2],g[1],g[3],M[0],M[2],M[1],M[3]);if(!A.length)return!1;var O=me(c,A,4),R=Km(n,O,!0),_=me(ca(f,4),R,4);n.prevMatrix=R;var N=me(p,R,4),z=pu(n,"matrix3d(".concat(N.join(", "),")"),"matrix3d(".concat(R.join(", "),")"));return nv(a,z),_t(e,"onWarp",Pt(e,a,Y({delta:_,matrix:N,dist:R,multiply:me,transform:z},vr({transform:z},a)))),!0},dragControlEnd:function(e,a){var n=a.datas,i=a.isDrag;return n.isWarp?(n.isWarp=!1,_t(e,"onWarpEnd",_r(e,a,{})),i):!1}},UC=Lt("area-pieces"),Xs=Lt("area-piece"),k1=Lt("avoid"),XC=Lt("view-dragging");function Jf(e){var a=e.areaElement;if(a){var n=e.state,i=n.width,l=n.height;zm(a,k1),a.style.cssText+="left: 0px; top: 0px; width: ".concat(i,"px; height: ").concat(l,"px")}}function Y0(e){return e.createElement("div",{key:"area_pieces",className:UC},e.createElement("div",{className:Xs}),e.createElement("div",{className:Xs}),e.createElement("div",{className:Xs}),e.createElement("div",{className:Xs}))}var H1={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(e,a){var n=e.props,i=n.target,l=n.dragArea,u=n.groupable,c=n.passDragArea,f=e.getState(),v=f.width,p=f.height,g=f.renderPoses,y=c?Lt("area","pass"):Lt("area");if(u)return[a.createElement("div",{key:"area",ref:Gn(e,"areaElement"),className:y}),Y0(a)];if(!i||!l)return[];var m=Qd([0,0],[v,0],[0,p],[v,p],g[0],g[1],g[2],g[3]),b=m.length?Su(m,!0):"none";return[a.createElement("div",{key:"area",ref:Gn(e,"areaElement"),className:y,style:{top:"0px",left:"0px",width:"".concat(v,"px"),height:"".concat(p,"px"),transformOrigin:"0 0",transform:b}}),Y0(a)]},dragStart:function(e,a){var n=a.datas,i=a.clientX,l=a.clientY,u=a.inputEvent;if(!u)return!1;n.isDragArea=!1;var c=e.areaElement,f=e.state,v=f.moveableClientRect,p=f.renderPoses,g=f.rootMatrix,y=f.is3d,m=v.left,b=v.top,x=qr(p),S=x.left,C=x.top,T=x.width,M=x.height,A=y?4:3,O=F(Ui(g,[i-m,l-b],A),2),R=O[0],_=O[1];R-=S,_-=C;var N=[{left:S,top:C,width:T,height:_-10},{left:S,top:C,width:R-10,height:M},{left:S,top:C+_+10,width:T,height:M-_-10},{left:S+R+10,top:C,width:T-R-10,height:M}],z=[].slice.call(c.nextElementSibling.children);N.forEach(function(j,H){z[H].style.cssText="left: ".concat(j.left,"px;top: ").concat(j.top,"px; width: ").concat(j.width,"px; height: ").concat(j.height,"px;")}),_m(c,k1),f.disableNativeEvent=!0},drag:function(e,a){var n=a.datas,i=a.inputEvent;if(this.enableNativeEvent(e),!i)return!1;n.isDragArea||(n.isDragArea=!0,Jf(e))},dragEnd:function(e,a){this.enableNativeEvent(e);var n=a.inputEvent,i=a.datas;if(!n)return!1;i.isDragArea||Jf(e)},dragGroupStart:function(e,a){return this.dragStart(e,a)},dragGroup:function(e,a){return this.drag(e,a)},dragGroupEnd:function(e,a){return this.dragEnd(e,a)},unset:function(e){Jf(e),e.state.disableNativeEvent=!1},enableNativeEvent:function(e){var a=e.state;a.disableNativeEvent&&Rm(function(){a.disableNativeEvent=!1})}},IC=yl("origin",{props:["origin","svgOrigin"],render:function(e,a){var n=e.props,i=n.zoom,l=n.svgOrigin,u=n.groupable,c=e.getState(),f=c.beforeOrigin,v=c.rotation,p=c.svg,g=c.allMatrix,y=c.is3d,m=c.left,b=c.top,x=c.offsetWidth,S=c.offsetHeight,C;if(!u&&p&&l){var T=F(yv(l,x,S),2),M=T[0],A=T[1],O=y?4:3,R=ze(g,[M,A],O);C=su(v,i,Vt(R,[m,b]))}else C=su(v,i,f);return[a.createElement("div",{className:Lt("control","origin"),style:C,key:"beforeOrigin"})]}});function qC(e){var a=e.scrollContainer;return[a.scrollLeft,a.scrollTop]}var YC={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(e,a){var n=e.props,i=n.scrollContainer,l=i===void 0?e.getContainer():i,u=n.scrollOptions,c=new Ex,f=ua(l,!0);a.datas.dragScroll=c,e.state.dragScroll=c;var v=a.isControl?"controlGesto":"targetGesto",p=a.targets;c.on("scroll",function(g){var y=g.container,m=g.direction,b=Pt(e,a,{scrollContainer:y,direction:m}),x=p?"onScrollGroup":"onScroll";p&&(b.targets=p),_t(e,x,b)}).on("move",function(g){var y=g.offsetX,m=g.offsetY,b=g.inputEvent;e[v].scrollBy(y,m,b.inputEvent,!1)}).on("scrollDrag",function(g){var y=g.next;y(e[v].getCurrentEvent())}),c.dragStart(a,Y({container:f},u))},checkScroll:function(e,a){var n=a.datas.dragScroll;if(n){var i=e.props,l=i.scrollContainer,u=l===void 0?e.getContainer():l,c=i.scrollThreshold,f=c===void 0?0:c,v=i.scrollThrottleTime,p=v===void 0?0:v,g=i.getScrollPosition,y=g===void 0?qC:g,m=i.scrollOptions;return n.drag(a,Y({container:u,threshold:f,throttleTime:p,getScrollPosition:function(b){return y({scrollContainer:b.container,direction:b.direction})}},m)),!0}},drag:function(e,a){return this.checkScroll(e,a)},dragEnd:function(e,a){a.datas.dragScroll.dragEnd(),a.datas.dragScroll=null},dragControlStart:function(e,a){return this.dragStart(e,Y(Y({},a),{isControl:!0}))},dragControl:function(e,a){return this.drag(e,a)},dragControlEnd:function(e,a){return this.dragEnd(e,a)},dragGroupStart:function(e,a){return this.dragStart(e,Y(Y({},a),{targets:e.props.targets}))},dragGroup:function(e,a){return this.drag(e,Y(Y({},a),{targets:e.props.targets}))},dragGroupEnd:function(e,a){return this.dragEnd(e,Y(Y({},a),{targets:e.props.targets}))},dragGroupControlStart:function(e,a){return this.dragStart(e,Y(Y({},a),{targets:e.props.targets,isControl:!0}))},dragGroupControl:function(e,a){return this.drag(e,Y(Y({},a),{targets:e.props.targets}))},dragGroupControEnd:function(e,a){return this.dragEnd(e,Y(Y({},a),{targets:e.props.targets}))},unset:function(e){var a,n=e.state;(a=n.dragScroll)===null||a===void 0||a.dragEnd(),n.dragScroll=null}},U1={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},PC=yl("padding",{props:["padding"],render:function(e,a){var n=e.props;if(n.dragArea)return[];var i=G1(n.padding||{}),l=i.left,u=i.top,c=i.right,f=i.bottom,v=e.getState(),p=v.renderPoses,g=v.pos1,y=v.pos2,m=v.pos3,b=v.pos4,x=[g,y,m,b],S=[];return l>0&&S.push([0,2]),u>0&&S.push([0,1]),c>0&&S.push([1,3]),f>0&&S.push([2,3]),S.map(function(C,T){var M=F(C,2),A=M[0],O=M[1],R=x[A],_=x[O],N=p[A],z=p[O],j=Qd([0,0],[100,0],[0,100],[100,100],R,_,N,z);if(j.length)return a.createElement("div",{key:"padding".concat(T),className:Lt("padding"),style:{transform:Su(j,!0)}})})}}),P0=["nw","ne","se","sw"];function Is(e,a){var n=e[0]+e[1],i=n>a?a/n:1;return e[0]*=i,e[1]=a-e[1]*i,e}var FC=[1,2,5,6],WC=[0,3,4,7],jn=[1,-1,-1,1],Ln=[1,1,-1,-1];function bv(e,a,n,i,l,u,c,f){l===void 0&&(l=0),u===void 0&&(u=0),c===void 0&&(c=n),f===void 0&&(f=i);var v=[],p=!1,g=e.filter(function(m){return!m.virtual}),y=g.map(function(m){var b=m.horizontal,x=m.vertical,S=m.pos;if(x&&!p&&(p=!0,v.push("/")),p){var C=Math.max(0,x===1?S[1]-u:f-S[1]);return v.push(Qr(C,i,a)),C}else{var C=Math.max(0,b===1?S[0]-l:c-S[0]);return v.push(Qr(C,n,a)),C}});return{radiusPoses:g,styles:v,raws:y}}function X1(e){for(var a=[0,0],n=[0,0],i=e.length,l=0;l<i;++l){var u=e[l];u.sub&&(u.horizontal&&(a[1]===0&&(a[0]=l),a[1]=l-a[0]+1,n[0]=l+1),u.vertical&&(n[1]===0&&(n[0]=l),n[1]=l-n[0]+1))}return{horizontalRange:a,verticalRange:n}}function I1(e,a,n,i,l,u,c){var f,v,p,g;u===void 0&&(u=[0,0]),c===void 0&&(c=!1);var y=e.indexOf("/"),m=(y>-1?e.slice(0,y):e).length,b=e.slice(0,m),x=e.slice(m+1),S=b.length,C=x.length,T=C>0,M=F(b,4),A=M[0],O=A===void 0?"0px":A,R=M[1],_=R===void 0?O:R,N=M[2],z=N===void 0?O:N,j=M[3],H=j===void 0?_:j,P=F(x,4),q=P[0],U=q===void 0?O:q,$=P[1],G=$===void 0?T?U:_:$,V=P[2],W=V===void 0?T?U:z:V,Q=P[3],ot=Q===void 0?T?G:H:Q,B=[O,_,z,H].map(function(L){return ge(L,a)}),I=[U,G,W,ot].map(function(L){return ge(L,n)}),lt=B.slice(),et=I.slice();f=F(Is([lt[0],lt[1]],a),2),lt[0]=f[0],lt[1]=f[1],v=F(Is([lt[3],lt[2]],a),2),lt[3]=v[0],lt[2]=v[1],p=F(Is([et[0],et[3]],n),2),et[0]=p[0],et[3]=p[1],g=F(Is([et[1],et[2]],n),2),et[1]=g[0],et[2]=g[1];var dt=c?lt:lt.slice(0,Math.max(u[0],S)),bt=c?et:et.slice(0,Math.max(u[1],C));return Et(Et([],F(dt.map(function(L,Z){var k=P0[Z];return{virtual:Z>=S,horizontal:jn[Z],vertical:0,pos:[i+L,l+(Ln[Z]===-1?n:0)],sub:!0,raw:B[Z],direction:k}})),!1),F(bt.map(function(L,Z){var k=P0[Z];return{virtual:Z>=C,horizontal:0,vertical:Ln[Z],pos:[i+(jn[Z]===-1?a:0),l+L],sub:!0,raw:I[Z],direction:k}})),!1)}function KC(e,a,n,i,l){l===void 0&&(l=a.length);var u=X1(e.slice(i)),c=u.horizontalRange,f=u.verticalRange,v=n-i,p=0;if(v===0)p=l;else if(v>0&&v<c[1])p=c[1]-v;else if(v>=f[0])p=f[0]+f[1]-v;else return;e.splice(n,p),a.splice(n,p)}function ZC(e,a,n,i,l,u,c,f,v,p,g){p===void 0&&(p=0),g===void 0&&(g=0);var y=X1(e.slice(n)),m=y.horizontalRange,b=y.verticalRange;if(i>-1)for(var x=jn[i]===1?u-p:f-u,S=m[1];S<=i;++S){var C=Ln[S]===1?g:v,T=0;if(i===S?T=u:S===0?T=p+x:jn[S]===-1&&(T=f-(a[n][0]-p)),e.splice(n+S,0,{horizontal:jn[S],vertical:0,pos:[T,C]}),a.splice(n+S,0,[T,C]),S===0)break}else if(l>-1){var M=Ln[l]===1?c-g:v-c;if(m[1]===0&&b[1]===0){var A=[p+M,g];e.push({horizontal:jn[0],vertical:0,pos:A}),a.push(A)}for(var O=b[0],S=b[1];S<=l;++S){var T=jn[S]===1?p:f,C=0;if(l===S?C=c:S===0?C=g+M:Ln[S]===1?C=a[n+O][1]:Ln[S]===-1&&(C=v-(a[n+O][1]-g)),e.push({horizontal:0,vertical:Ln[S],pos:[T,C]}),a.push([T,C]),S===0)break}}}function QC(e,a){a===void 0&&(a=e.map(function(l){return l.raw}));var n=e.map(function(l,u){return l.horizontal?a[u]:null}).filter(function(l){return l!=null}),i=e.map(function(l,u){return l.vertical?a[u]:null}).filter(function(l){return l!=null});return{horizontals:n,verticals:i}}var JC=[[0,-1,"n"],[1,0,"e"]],$C=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Sv(e,a,n){var i=e.props.clipRelative,l=e.state,u=l.width,c=l.height,f=a,v=f.type,p=f.poses,g=v==="rect",y=v==="circle";if(v==="polygon")return n.map(function(_){return"".concat(Qr(_[0],u,i)," ").concat(Qr(_[1],c,i))});if(g||v==="inset"){var m=n[1][1],b=n[3][0],x=n[7][0],S=n[5][1];if(g)return[m,b,S,x].map(function(_){return"".concat(_,"px")});var C=[m,u-b,c-S,x].map(function(_,N){return Qr(_,N%2?u:c,i)});if(n.length>8){var T=F(Vt(n[4],n[0]),2),M=T[0],A=T[1];C.push.apply(C,Et(["round"],F(bv(p.slice(8).map(function(_,N){return Y(Y({},_),{pos:n[N]})}),i,M,A,x,m,b,S).styles),!1))}return C}else if(y||v==="ellipse"){var O=n[0],R=Qr(xt(n[1][1]-O[1]),y?Math.sqrt((u*u+c*c)/2):c,i),C=y?[R]:[Qr(xt(n[2][0]-O[0]),u,i),R];return C.push("at",Qr(O[0],u,i),Qr(O[1],c,i)),C}}function cu(e,a,n,i){var l=[i,(i+a)/2,a],u=[e,(e+n)/2,n];return $C.map(function(c){var f=F(c,3),v=f[0],p=f[1],g=f[2],y=l[v+1],m=u[p+1];return{vertical:xt(p),horizontal:xt(v),direction:g,pos:[y,m]}})}function q1(e){var a=[1/0,-1/0],n=[1/0,-1/0];return e.forEach(function(i){var l=i.pos;a[0]=Math.min(a[0],l[0]),a[1]=Math.max(a[1],l[0]),n[0]=Math.min(n[0],l[1]),n[1]=Math.max(n[1],l[1])}),[xt(a[1]-a[0]),xt(n[1]-n[0])]}function F0(e,a,n,i,l){var u,c,f,v,p,g,y,m,b;if(e){var x=l;if(!x){var S=Cr(e),C=S("clipPath");x=C!=="none"?C:S("clip")}if(!((!x||x==="none"||x==="auto")&&(x=i,!x))){var T=Om(x),M=T.prefix,A=M===void 0?x:M,O=T.value,R=O===void 0?"":O,_=A==="circle",N=" ";if(A==="polygon"){var z=Vn(R||"0% 0%, 100% 0%, 100% 100%, 0% 100%");N=",";var j=z.map(function(le){var Re=F(le.split(" "),2),ye=Re[0],de=Re[1];return{vertical:1,horizontal:1,pos:[ge(ye,a),ge(de,n)]}}),H=Un(j.map(function(le){return le.pos}));return{type:A,clipText:x,poses:j,splitter:N,left:H.minX,right:H.maxX,top:H.minY,bottom:H.maxY}}else if(_||A==="ellipse"){var P="",q="",U=0,$=0,z=fn(R);if(_){var G="";u=F(z,4),c=u[0],G=c===void 0?"50%":c,f=u[2],P=f===void 0?"50%":f,v=u[3],q=v===void 0?"50%":v,U=ge(G,Math.sqrt((a*a+n*n)/2)),$=U}else{var V="",W="";p=F(z,5),g=p[0],V=g===void 0?"50%":g,y=p[1],W=y===void 0?"50%":y,m=p[3],P=m===void 0?"50%":m,b=p[4],q=b===void 0?"50%":b,U=ge(V,a),$=ge(W,n)}var Q=[ge(P,a),ge(q,n)],j=Et([{vertical:1,horizontal:1,pos:Q,direction:"nesw"}],F(JC.slice(0,_?1:2).map(function(ye){return{vertical:xt(ye[1]),horizontal:ye[0],direction:ye[2],sub:!0,pos:[Q[0]+ye[0]*U,Q[1]+ye[1]*$]}})),!1);return{type:A,clipText:x,radiusX:U,radiusY:$,left:Q[0]-U,top:Q[1]-$,right:Q[0]+U,bottom:Q[1]+$,poses:j,splitter:N}}else if(A==="inset"){var z=fn(R||"0 0 0 0"),ot=z.indexOf("round"),B=(ot>-1?z.slice(0,ot):z).length,I=z.slice(B+1),lt=F(z.slice(0,B),4),et=lt[0],dt=lt[1],bt=dt===void 0?et:dt,L=lt[2],Z=L===void 0?et:L,k=lt[3],rt=k===void 0?bt:k,gt=F([et,Z].map(function(ye){return ge(ye,n)}),2),ct=gt[0],Ct=gt[1],Dt=F([rt,bt].map(function(ye){return ge(ye,a)}),2),zt=Dt[0],Rt=Dt[1],Bt=a-Rt,Xt=n-Ct,Zt=I1(I,Bt-zt,Xt-ct,zt,ct),j=Et(Et([],F(cu(ct,Bt,Xt,zt)),!1),F(Zt),!1);return{type:"inset",clipText:x,poses:j,top:ct,left:zt,right:Bt,bottom:Xt,radius:I,splitter:N}}else if(A==="rect"){var z=Vn(R||"0px, ".concat(a,"px, ").concat(n,"px, 0px"));N=",";var Ot=F(z.map(function(pt){var vt=pl(pt).value;return vt}),4),Ft=Ot[0],Rt=Ot[1],Ct=Ot[2],zt=Ot[3],j=cu(Ft,Rt,Ct,zt);return{type:"rect",clipText:x,poses:j,top:Ft,right:Rt,bottom:Ct,left:zt,values:z,splitter:N}}}}}function tE(e,a,n,i,l){var u=e[a],c=u.direction,f=u.sub,v=e.map(function(){return[0,0]}),p=c?c.split(""):[];if(i&&a<8){var g=p.filter(function(U){return U==="w"||U==="e"}),y=p.filter(function(U){return U==="n"||U==="s"}),m=g[0],b=y[0];v[a]=n;var x=F(q1(e),2),S=x[0],C=x[1],T=S&&C?S/C:0;if(T&&l){var M=(a+4)%8,A=e[M].pos,O=[0,0];c.indexOf("w")>-1?O[0]=-1:c.indexOf("e")>-1&&(O[0]=1),c.indexOf("n")>-1?O[1]=-1:c.indexOf("s")>-1&&(O[1]=1);var R=j1([S,C],n,T,O,!0),_=S+R[0],N=C+R[1],z=A[1],j=A[1],H=A[0],P=A[0];O[0]===-1?H=P-_:O[0]===1?P=H+_:(H=H-_/2,P=P+_/2),O[1]===-1?z=j-N:(O[1]===1||(z=j-N/2),j=z+N);var q=cu(z,P,j,H);e.forEach(function(U,$){v[$][0]=q[$].pos[0]-U.pos[0],v[$][1]=q[$].pos[1]-U.pos[1]})}else e.forEach(function(U,$){var G=U.direction;G&&(G.indexOf(m)>-1&&(v[$][0]=n[0]),G.indexOf(b)>-1&&(v[$][1]=n[1]))}),m&&(v[1][0]=n[0]/2,v[5][0]=n[0]/2),b&&(v[3][1]=n[1]/2,v[7][1]=n[1]/2)}else c&&!f?p.forEach(function(U){var $=U==="n"||U==="s";e.forEach(function(G,V){var W=G.direction,Q=G.horizontal,ot=G.vertical;!W||W.indexOf(U)===-1||(v[V]=[$||!Q?0:n[0],!$||!ot?0:n[1]])})}):v[a]=n;return v}function eE(e,a){var n=F(Wm(e,a),2),i=n[0],l=n[1],u=a.datas,c=u.clipPath,f=u.clipIndex,v=c,p=v.type,g=v.poses,y=v.splitter,m=g.map(function(M){return M.pos});if(p==="polygon")m.splice(f,0,[i,l]);else if(p==="inset"){var b=FC.indexOf(f),x=WC.indexOf(f),S=g.length;if(ZC(g,m,8,b,x,i,l,m[4][0],m[4][1],m[0][0],m[0][1]),S===g.length)return}else return;var C=Sv(e,c,m),T="".concat(p,"(").concat(C.join(y),")");_t(e,"onClip",Pt(e,a,Y({clipEventType:"added",clipType:p,poses:m,clipStyles:C,clipStyle:T,distX:0,distY:0},vr({clipPath:T},a))))}function rE(e,a){var n=a.datas,i=n.clipPath,l=n.clipIndex,u=i,c=u.type,f=u.poses,v=u.splitter,p=f.map(function(b){return b.pos}),g=p.length;if(c==="polygon")f.splice(l,1),p.splice(l,1);else if(c==="inset"){if(l<8||(KC(f,p,l,8,g),g===f.length))return}else return;var y=Sv(e,i,p),m="".concat(c,"(").concat(y.join(v),")");_t(e,"onClip",Pt(e,a,Y({clipEventType:"removed",clipType:c,poses:p,clipStyles:y,clipStyle:m,distX:0,distY:0},vr({clipPath:m},a))))}var aE={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(e,a){var n=e.props,i=n.customClipPath,l=n.defaultClipPath,u=n.clipArea,c=n.zoom,f=n.groupable,v=e.getState(),p=v.target,g=v.width,y=v.height,m=v.allMatrix,b=v.is3d,x=v.left,S=v.top,C=v.pos1,T=v.pos2,M=v.pos3,A=v.pos4,O=v.clipPathState,R=v.snapBoundInfos,_=v.rotation;if(!p||f)return[];var N=F0(p,g,y,l||"inset",O||i);if(!N)return[];var z=b?4:3,j=N.type,H=N.poses,P=H.map(function(Rt){var Bt=ze(m,Rt.pos,z);return[Bt[0]-x,Bt[1]-S]}),q=[],U=[],$=j==="rect",G=j==="inset",V=j==="polygon";if($||G||V){var W=G?P.slice(0,8):P;U=W.map(function(Rt,Bt){var Xt=Bt===0?W[W.length-1]:W[Bt-1],Zt=Ge(Xt,Rt),Ot=A1(Xt,Rt);return a.createElement("div",{key:"clipLine".concat(Bt),className:Lt("line","clip-line","snap-control"),"data-clip-index":Bt,style:{width:"".concat(Ot,"px"),transform:"translate(".concat(Xt[0],"px, ").concat(Xt[1],"px) rotate(").concat(Zt,"rad) scaleY(").concat(c,")")}})})}if(q=P.map(function(Rt,Bt){return a.createElement("div",{key:"clipControl".concat(Bt),className:Lt("control","clip-control","snap-control"),"data-clip-index":Bt,style:{transform:"translate(".concat(Rt[0],"px, ").concat(Rt[1],"px) rotate(").concat(_,"rad) scale(").concat(c,")")}})}),G&&q.push.apply(q,Et([],F(P.slice(8).map(function(Rt,Bt){return a.createElement("div",{key:"clipRadiusControl".concat(Bt),className:Lt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+Bt,style:{transform:"translate(".concat(Rt[0],"px, ").concat(Rt[1],"px) rotate(").concat(_,"rad) scale(").concat(c,")")}})})),!1)),j==="circle"||j==="ellipse"){var Q=N.left,ot=N.top,B=N.radiusX,I=N.radiusY,lt=F(Vt(ze(m,[Q,ot],z),ze(m,[0,0],z)),2),et=lt[0],dt=lt[1],bt="none";if(!u){for(var L=Math.max(10,B/5,I/5),Z=[],k=0;k<=L;++k){var rt=Math.PI*2/L*k;Z.push([B+(B-c)*Math.cos(rt),I+(I-c)*Math.sin(rt)])}Z.push([B,-2]),Z.push([-2,-2]),Z.push([-2,I*2+2]),Z.push([B*2+2,I*2+2]),Z.push([B*2+2,-2]),Z.push([B,-2]),bt="polygon(".concat(Z.map(function(Rt){return"".concat(Rt[0],"px ").concat(Rt[1],"px")}).join(", "),")")}q.push(a.createElement("div",{key:"clipEllipse",className:Lt("clip-ellipse","snap-control"),style:{width:"".concat(B*2,"px"),height:"".concat(I*2,"px"),clipPath:bt,transform:"translate(".concat(-x+et,"px, ").concat(-S+dt,"px) ").concat(Su(m))}}))}if(u){var gt=qr(Et([C,T,M,A],F(P),!1)),ct=gt.width,Ct=gt.height,Dt=gt.left,zt=gt.top;if(V||$||G){var Z=G?P.slice(0,8):P;q.push(a.createElement("div",{key:"clipArea",className:Lt("clip-area","snap-control"),style:{width:"".concat(ct,"px"),height:"".concat(Ct,"px"),transform:"translate(".concat(Dt,"px, ").concat(zt,"px)"),clipPath:"polygon(".concat(Z.map(function(Bt){return"".concat(Bt[0]-Dt,"px ").concat(Bt[1]-zt,"px")}).join(", "),")")}}))}}return R&&["vertical","horizontal"].forEach(function(Rt){var Bt=R[Rt],Xt=Rt==="horizontal";Bt.isSnap&&U.push.apply(U,Et([],F(Bt.snap.posInfos.map(function(Zt,Ot){var Ft=Zt.pos,le=Vt(ze(m,Xt?[0,Ft]:[Ft,0],z),[x,S]),Re=Vt(ze(m,Xt?[g,Ft]:[Ft,y],z),[x,S]);return dl(a,"",le,Re,c,"clip".concat(Rt,"snap").concat(Ot),"guideline")})),!1)),Bt.isBound&&U.push.apply(U,Et([],F(Bt.bounds.map(function(Zt,Ot){var Ft=Zt.pos,le=Vt(ze(m,Xt?[0,Ft]:[Ft,0],z),[x,S]),Re=Vt(ze(m,Xt?[g,Ft]:[Ft,y],z),[x,S]);return dl(a,"",le,Re,c,"clip".concat(Rt,"bounds").concat(Ot),"guideline","bounds","bold")})),!1))}),Et(Et([],F(q),!1),F(U),!1)},dragControlCondition:function(e,a){return a.inputEvent&&(a.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(e,a){var n=e.props,i=n.dragWithClip,l=i===void 0?!0:i;return l?!1:this.dragControlStart(e,a)},drag:function(e,a){return this.dragControl(e,Y(Y({},a),{isDragTarget:!0}))},dragEnd:function(e,a){return this.dragControlEnd(e,a)},dragControlStart:function(e,a){var n=e.state,i=e.props,l=i.defaultClipPath,u=i.customClipPath,c=n.target,f=n.width,v=n.height,p=a.inputEvent?a.inputEvent.target:null,g=p&&p.getAttribute("class")||"",y=a.datas,m=F0(c,f,v,l||"inset",u);if(!m)return!1;var b=m.clipText,x=m.type,S=m.poses,C=_t(e,"onClipStart",Pt(e,a,{clipType:x,clipStyle:b,poses:S.map(function(T){return T.pos})}));return C===!1?(y.isClipStart=!1,!1):(y.isControl=g&&g.indexOf("clip-control")>-1,y.isLine=g.indexOf("clip-line")>-1,y.isArea=g.indexOf("clip-area")>-1||g.indexOf("clip-ellipse")>-1,y.clipIndex=p?parseInt(p.getAttribute("data-clip-index"),10):-1,y.clipPath=m,y.isClipStart=!0,n.clipPathState=b,In(e,a),!0)},dragControl:function(e,a){var n,i,l,u=a.datas,c=a.originalDatas,f=a.isDragTarget;if(!u.isClipStart)return!1;var v=u,p=v.isControl,g=v.isLine,y=v.isArea,m=v.clipIndex,b=v.clipPath;if(!b)return!1;var x=Xn(e.props,"clippable"),S=x.keepRatio,C=0,T=0,M=c.draggable,A=fa(a);f&&M?(n=F(M.prevBeforeDist,2),C=n[0],T=n[1]):(i=F(A,2),C=i[0],T=i[1]);var O=[C,T],R=e.state,_=R.width,N=R.height,z=!y&&!p&&!g,j=b.type,H=b.poses,P=b.splitter,q=H.map(function(ne){return ne.pos});z&&(C=-C,T=-T);var U=!p||H[m].direction==="nesw",$=j==="inset"||j==="rect",G=H.map(function(){return[0,0]});if(p&&!U){var V=H[m],W=V.horizontal,Q=V.vertical,ot=[C*xt(W),T*xt(Q)];G=tE(H,m,ot,$,S)}else U&&(G=q.map(function(){return[C,T]}));var B=q.map(function(ne,Ne){return ae(ne,G[Ne])}),I=Et([],F(B),!1);R.snapBoundInfos=null;var lt=b.type==="circle",et=b.type==="ellipse";if(lt||et){var dt=qr(B),bt=xt(dt.bottom-dt.top),L=xt(et?dt.right-dt.left:bt),Z=B[0][1]+bt,k=B[0][0]-L,rt=B[0][0]+L;lt&&(I.push([rt,dt.bottom]),G.push([1,0])),I.push([dt.left,Z]),G.push([0,1]),I.push([k,dt.bottom]),G.push([1,0])}var gt=S1((x.clipHorizontalGuidelines||[]).map(function(ne){return ge("".concat(ne),N)}),(x.clipVerticalGuidelines||[]).map(function(ne){return ge("".concat(ne),_)}),_,N),ct=[],Ct=[];if(lt||et)ct=[I[4][0],I[2][0]],Ct=[I[1][1],I[3][1]];else if($){var Dt=[I[0],I[2],I[4],I[6]],zt=[G[0],G[2],G[4],G[6]];ct=Dt.filter(function(ne,Ne){return zt[Ne][0]}).map(function(ne){return ne[0]}),Ct=Dt.filter(function(ne,Ne){return zt[Ne][1]}).map(function(ne){return ne[1]})}else ct=I.filter(function(ne,Ne){return G[Ne][0]}).map(function(ne){return ne[0]}),Ct=I.filter(function(ne,Ne){return G[Ne][1]}).map(function(ne){return ne[1]});var Rt=[0,0],Bt=_0(gt,x.clipTargetBounds&&{left:0,top:0,right:_,bottom:N},ct,Ct,5,5),Xt=Bt.horizontal,Zt=Bt.vertical,Ot=Xt.offset,Ft=Zt.offset;if(Xt.isBound&&(Rt[1]+=Ot),Zt.isBound&&(Rt[0]+=Ft),(et||lt)&&G[0][0]===0&&G[0][1]===0){var dt=qr(B),le=dt.bottom-dt.top,Re=et?dt.right-dt.left:le,ye=Zt.isBound?xt(Ft):Zt.snapIndex===0?-Ft:Ft,de=Xt.isBound?xt(Ot):Xt.snapIndex===0?-Ot:Ot;Re-=ye,le-=de,lt&&(le=d1(Zt,Xt)>0?le:Re,Re=le);var be=I[0];I[1][1]=be[1]-le,I[2][0]=be[0]+Re,I[3][1]=be[1]+le,I[4][0]=be[0]-Re}else if($&&S&&p){var pt=F(q1(H),2),vt=pt[0],mt=pt[1],At=vt&&mt?vt/mt:0,se=H[m],De=se.direction||"",Yt=I[1][1],Z=I[5][1],k=I[7][0],rt=I[3][0];xt(Ot)<=xt(Ft)?Ot=dr(Ot)*xt(Ft)/At:Ft=dr(Ft)*xt(Ot)*At,De.indexOf("w")>-1?k-=Ft:De.indexOf("e")>-1?rt-=Ft:(k+=Ft/2,rt-=Ft/2),De.indexOf("n")>-1?Yt-=Ot:De.indexOf("s")>-1?Z-=Ot:(Yt+=Ot/2,Z-=Ot/2);var Me=cu(Yt,rt,Z,k);I.forEach(function(Pn,Fn){var Na;Na=F(Me[Fn].pos,2),Pn[0]=Na[0],Pn[1]=Na[1]})}else I.forEach(function(ne,Ne){var gr=G[Ne];gr[0]&&(ne[0]-=Ft),gr[1]&&(ne[1]-=Ot)});var Fe=Sv(e,b,B),qt="".concat(j,"(").concat(Fe.join(P),")");if(R.clipPathState=qt,lt||et)ct=[I[4][0],I[2][0]],Ct=[I[1][1],I[3][1]];else if($){var Dt=[I[0],I[2],I[4],I[6]];ct=Dt.map(function(Ne){return Ne[0]}),Ct=Dt.map(function(Ne){return Ne[1]})}else ct=I.map(function(ne){return ne[0]}),Ct=I.map(function(ne){return ne[1]});if(R.snapBoundInfos=_0(gt,x.clipTargetBounds&&{left:0,top:0,right:_,bottom:N},ct,Ct,1,1),M){var Se=R.is3d,zr=R.allMatrix,Ki=Se?4:3,za=Rt;f&&(za=[O[0]+Rt[0]-A[0],O[1]+Rt[1]-A[1]]),M.deltaOffset=me(zr,[za[0],za[1],0,0],Ki)}return _t(e,"onClip",Pt(e,a,Y({clipEventType:"changed",clipType:j,poses:B,clipStyle:qt,clipStyles:Fe,distX:C,distY:T},vr((l={},l[j==="rect"?"clip":"clipPath"]=qt,l),a)))),!0},dragControlEnd:function(e,a){this.unset(e);var n=a.isDrag,i=a.datas,l=a.isDouble,u=i.isLine,c=i.isClipStart,f=i.isControl;return c?(_t(e,"onClipEnd",_r(e,a,{})),l&&(f?rE(e,a):u&&eE(e,a)),l||n):!1},unset:function(e){e.state.clipPathState="",e.state.snapBoundInfos=null}},nE={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(e,a){return a.isRequest?a.requestAble==="originDraggable":Ye(a.inputEvent.target,Lt("origin"))},dragControlStart:function(e,a){var n=a.datas;In(e,a);var i=Pt(e,a,{dragStart:fr.dragStart(e,new Gi().dragStart([0,0],a))}),l=_t(e,"onDragOriginStart",i);return n.startOrigin=e.state.transformOrigin,n.startTargetOrigin=e.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,l===!1?(n.isDragOrigin=!1,!1):i},dragControl:function(e,a){var n=a.datas,i=a.isPinch,l=a.isRequest;if(!n.isDragOrigin)return!1;var u=F(fa(a),2),c=u[0],f=u[1],v=e.state,p=v.width,g=v.height,y=v.offsetMatrix,m=v.targetMatrix,b=v.is3d,x=e.props.originRelative,S=x===void 0?!0:x,C=b?4:3,T=[c,f];if(l){var M=a.distOrigin;(M[0]||M[1])&&(T=M)}var A=ae(n.startOrigin,T),O=ae(n.startTargetOrigin,T),R=Vt(T,n.prevOrigin),_=Sl(y,m,A,C),N=e.getRect(),z=qr(qn(_,p,g,C)),j=[N.left-z.left,N.top-z.top];n.prevOrigin=T;var H=[Qr(O[0],p,S),Qr(O[1],g,S)].join(" "),P=fr.drag(e,bl(a,e.state,j,!!i)),q=Pt(e,a,Y(Y({width:p,height:g,origin:A,dist:T,delta:R,transformOrigin:H,drag:P},vr({transformOrigin:H,transform:P.transform},a)),{afterTransform:P.transform}));return _t(e,"onDragOrigin",q),q},dragControlEnd:function(e,a){var n=a.datas;return n.isDragOrigin?(_t(e,"onDragOriginEnd",_r(e,a,{})),!0):!1},dragGroupControlCondition:function(e,a){return this.dragControlCondition(e,a)},dragGroupControlStart:function(e,a){var n=this.dragControlStart(e,a);return!!n},dragGroupControl:function(e,a){var n=this.dragControl(e,a);return n?(e.transformOrigin=n.transformOrigin,!0):!1},request:function(e){var a={},n=e.getRect(),i=0,l=0,u=n.transformOrigin,c=[0,0];return{isControl:!0,requestStart:function(){return{datas:a}},request:function(f){return"deltaOrigin"in f?(c[0]+=f.deltaOrigin[0],c[1]+=f.deltaOrigin[1]):"origin"in f?(c[0]=f.origin[0]-u[0],c[1]=f.origin[1]-u[1]):("x"in f?i=f.x-n.left:"deltaX"in f&&(i+=f.deltaX),"y"in f?l=f.y-n.top:"deltaY"in f&&(l+=f.deltaY)),{datas:a,distX:i,distY:l,distOrigin:c}},requestEnd:function(){return{datas:a,isDrag:!0}}}}};function iE(e,a,n,i){var l=e.filter(function(v){var p=v.virtual,g=v.horizontal;return g&&!p}).length,u=e.filter(function(v){var p=v.virtual,g=v.vertical;return g&&!p}).length,c=-1;if(a===0&&(l===0?c=0:l===1&&(c=1)),a===2&&(l<=2?c=2:l<=3&&(c=3)),a===3&&(u===0?c=4:u<4&&(c=7)),a===1&&(u<=1?c=5:u<=2&&(c=6)),!(c===-1||!e[c].virtual)){var f=e[c];oE(e,c),c<4?f.pos[0]=n:f.pos[1]=i}}function oE(e,a){a<4?e.slice(0,a+1).forEach(function(n){n.virtual=!1}):(e[0].virtual&&(e[0].virtual=!1),e.slice(4,a+1).forEach(function(n){n.virtual=!1}))}function lE(e,a){a<4?e.slice(a,4).forEach(function(n){n.virtual=!0}):e.slice(a).forEach(function(n){n.virtual=!0})}function W0(e,a,n,i,l){i===void 0&&(i=[0,0]);var u=[];return!e||e==="0px"?u=[]:u=fn(e),I1(u,a,n,0,0,i,l)}function K0(e,a,n,i,l){var u=e.state,c=u.width,f=u.height,v=bv(l,e.props.roundRelative,c,f),p=v.raws,g=v.styles,y=v.radiusPoses,m=QC(y,p),b=m.horizontals,x=m.verticals,S=g.join(" ");u.borderRadiusState=S;var C=Pt(e,a,Y({horizontals:b,verticals:x,borderRadius:S,width:c,height:f,delta:i,dist:n},vr({borderRadius:S},a)));return _t(e,"onRound",C),C}function Z0(e){var a,n,i=e.getState().style,l=i.borderRadius||"";if(!l&&e.props.groupable){var u=e.moveables[0],c=e.getTargets()[0];c&&((u==null?void 0:u.props.target)===c?(l=(n=(a=e.moveables[0])===null||a===void 0?void 0:a.state.style.borderRadius)!==null&&n!==void 0?n:"",i.borderRadius=l):(l=pv(c).borderRadius,i.borderRadius=l))}return l}var sE={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(e){var a=e.props.roundClickable;return a===!0||a==="line"?Lt("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(e,a){var n=e.getState(),i=n.target,l=n.width,u=n.height,c=n.allMatrix,f=n.is3d,v=n.left,p=n.top,g=n.borderRadiusState,y=e.props,m=y.minRoundControls,b=m===void 0?[0,0]:m,x=y.maxRoundControls,S=x===void 0?[4,4]:x,C=y.zoom,T=y.roundPadding,M=T===void 0?0:T,A=y.isDisplayShadowRoundControls,O=y.groupable;if(!i)return null;var R=g||Z0(e),_=f?4:3,N=W0(R,l,u,b,!0);if(!N)return null;var z=0,j=0,H=O?[0,0]:[v,p];return N.map(function(P,q){var U=P.horizontal,$=P.vertical,G=P.direction||"",V=Et([],F(P.pos),!1);j+=Math.abs(U),z+=Math.abs($),U&&G.indexOf("n")>-1&&(V[1]-=M),$&&G.indexOf("w")>-1&&(V[0]-=M),U&&G.indexOf("s")>-1&&(V[1]+=M),$&&G.indexOf("e")>-1&&(V[0]+=M);var W=Vt(ze(c,V,_),H),Q=A&&A!=="horizontal",ot=P.vertical?z<=S[1]&&(Q||!P.virtual):j<=S[0]&&(A||!P.virtual);return a.createElement("div",{key:"borderRadiusControl".concat(q),className:Lt("control","border-radius",P.vertical?"vertical":"",P.virtual?"virtual":""),"data-radius-index":q,style:{display:ot?"block":"none",transform:"translate(".concat(W[0],"px, ").concat(W[1],"px) scale(").concat(C,")")}})})},dragControlCondition:function(e,a){if(!a.inputEvent||a.isRequest)return!1;var n=a.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(e,a){return this.dragControlCondition(e,a)},dragControlStart:function(e,a){var n=a.inputEvent,i=a.datas,l=n.target,u=l.getAttribute("class")||"",c=u.indexOf("border-radius")>-1,f=u.indexOf("moveable-line")>-1&&u.indexOf("moveable-direction")>-1,v=c?parseInt(l.getAttribute("data-radius-index"),10):-1,p=-1;if(f){var g=l.getAttribute("data-line-key")||"";g&&(p=parseInt(g.replace(/render-line-/g,""),10),isNaN(p)&&(p=-1))}if(!c&&!f)return!1;var y=Pt(e,a,{}),m=_t(e,"onRoundStart",y);if(m===!1)return!1;i.lineIndex=p,i.controlIndex=v,i.isControl=c,i.isLine=f,In(e,a);var b=e.props,x=b.roundRelative,S=b.minRoundControls,C=S===void 0?[0,0]:S,T=e.state,M=T.width,A=T.height;i.isRound=!0,i.prevDist=[0,0];var O=Z0(e),R=W0(O||"",M,A,C,!0)||[];return i.controlPoses=R,T.borderRadiusState=bv(R,x,M,A).styles.join(" "),y},dragControl:function(e,a){var n=a.datas,i=n.controlPoses;if(!n.isRound||!n.isControl||!i.length)return!1;var l=n.controlIndex,u=F(fa(a),2),c=u[0],f=u[1],v=[c,f],p=Vt(v,n.prevDist),g=e.props.maxRoundControls,y=g===void 0?[4,4]:g,m=e.state,b=m.width,x=m.height,S=i[l],C=S.vertical,T=S.horizontal,M=i.map(function(O){var R=O.horizontal,_=O.vertical,N=[R*T*v[0],_*C*v[1]];if(R){if(y[0]===1)return N;if(y[0]<4&&R!==T)return N}else{if(y[1]===0)return N[1]=_*T*v[0]/b*x,N;if(C){if(y[1]===1)return N;if(y[1]<4&&_!==C)return N}}return[0,0]});M[l]=v;var A=i.map(function(O,R){return Y(Y({},O),{pos:ae(O.pos,M[R])})});return l<4?A.slice(0,l+1).forEach(function(O){O.virtual=!1}):A.slice(4,l+1).forEach(function(O){O.virtual=!1}),n.prevDist=[c,f],K0(e,a,v,p,A)},dragControlEnd:function(e,a){var n=e.state;n.borderRadiusState="";var i=a.datas,l=a.isDouble;if(!i.isRound)return!1;var u=i.isControl,c=i.controlIndex,f=i.isLine,v=i.lineIndex,p=i.controlPoses,g=p.filter(function(T){var M=T.virtual;return M}).length,y=e.props.roundClickable,m=y===void 0?!0:y;if(l&&m){if(u&&(m===!0||m==="control"))lE(p,c);else if(f&&(m===!0||m==="line")){var b=F(Wm(e,a),2),x=b[0],S=b[1];iE(p,v,x,S)}g!==p.filter(function(T){var M=T.virtual;return M}).length&&K0(e,a,[0,0],[0,0],p)}var C=_r(e,a,{});return _t(e,"onRoundEnd",C),n.borderRadiusState="",C},dragGroupControlStart:function(e,a){var n=this.dragControlStart(e,a);if(!n)return!1;var i=e.moveables,l=e.props.targets,u=Jr(e,"roundable",a),c=Y({targets:e.props.targets,events:u.map(function(f,v){return Y(Y({},f),{target:l[v],moveable:i[v],currentTarget:i[v]})})},n);return _t(e,"onRoundGroupStart",c),n},dragGroupControl:function(e,a){var n=this.dragControl(e,a);if(!n)return!1;var i=e.moveables,l=e.props.targets,u=Jr(e,"roundable",a),c=Y({targets:e.props.targets,events:u.map(function(f,v){return Y(Y(Y({},f),{target:l[v],moveable:i[v],currentTarget:i[v]}),vr({borderRadius:n.borderRadius},f))})},n);return _t(e,"onRoundGroup",c),c},dragGroupControlEnd:function(e,a){var n=e.moveables,i=e.props.targets,l=Jr(e,"roundable",a);xu(e,"onRound",function(f){var v=Y({targets:e.props.targets,events:l.map(function(p,g){return Y(Y(Y({},p),{target:i[g],moveable:n[g],currentTarget:n[g]}),vr({borderRadius:f.borderRadius},p))})},f);_t(e,"onRoundGroup",v)});var u=this.dragControlEnd(e,a);if(!u)return!1;var c=Y({targets:e.props.targets,events:l.map(function(f,v){var p;return Y(Y({},f),{target:i[v],moveable:n[v],currentTarget:n[v],lastEvent:(p=f.datas)===null||p===void 0?void 0:p.lastEvent})})},u);return _t(e,"onRoundGroupEnd",c),c},unset:function(e){e.state.borderRadiusState=""}};function uE(e,a){var n=a?4:3,i=Ae(n),l="matrix".concat(a?"3d":"","(").concat(i.join(","),")");return e===l||e==="matrix(1,0,0,1,0,0)"}var Y1={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(e,a){var n=e.state,i=n.is3d,l=n.targetMatrix,u=n.inlineTransform,c=i?"matrix3d(".concat(l.join(","),")"):"matrix(".concat(Lm(l,!0),")"),f=!u||u==="none"?c:u;a.datas.startTransforms=uE(f,i)?[]:fn(f)},resetStyle:function(e){var a=e.datas;a.nextStyle={},a.nextTransforms=e.datas.startTransforms,a.nextTransformAppendedIndexes=[]},fillDragStartParams:function(e,a){return Pt(e,a,{setTransform:function(n){a.datas.startTransforms=$e(n)?n:fn(n)},isPinch:!!a.isPinch})},fillDragParams:function(e,a){return Pt(e,a,{isPinch:!!a.isPinch})},dragStart:function(e,a){this.setTransform(e,a),this.resetStyle(a),_t(e,"onBeforeRenderStart",this.fillDragStartParams(e,a))},drag:function(e,a){a.datas.startTransforms||this.setTransform(e,a),this.resetStyle(a),_t(e,"onBeforeRender",Pt(e,a,{isPinch:!!a.isPinch}))},dragEnd:function(e,a){a.datas.startTransforms||(this.setTransform(e,a),this.resetStyle(a)),_t(e,"onBeforeRenderEnd",Pt(e,a,{isPinch:!!a.isPinch,isDrag:a.isDrag}))},dragGroupStart:function(e,a){var n=this;this.dragStart(e,a);var i=Jr(e,"beforeRenderable",a),l=e.moveables,u=i.map(function(c,f){var v=l[f];return n.setTransform(v,c),n.resetStyle(c),n.fillDragStartParams(v,c)});_t(e,"onBeforeRenderGroupStart",Pt(e,a,{isPinch:!!a.isPinch,targets:e.props.targets,setTransform:function(){},events:u}))},dragGroup:function(e,a){var n=this;this.drag(e,a);var i=Jr(e,"beforeRenderable",a),l=e.moveables,u=i.map(function(c,f){var v=l[f];return n.resetStyle(c),n.fillDragParams(v,c)});_t(e,"onBeforeRenderGroup",Pt(e,a,{isPinch:!!a.isPinch,targets:e.props.targets,events:u}))},dragGroupEnd:function(e,a){this.dragEnd(e,a),_t(e,"onBeforeRenderGroupEnd",Pt(e,a,{isPinch:!!a.isPinch,isDrag:a.isDrag,targets:e.props.targets}))},dragControlStart:function(e,a){return this.dragStart(e,a)},dragControl:function(e,a){return this.drag(e,a)},dragControlEnd:function(e,a){return this.dragEnd(e,a)},dragGroupControlStart:function(e,a){return this.dragGroupStart(e,a)},dragGroupControl:function(e,a){return this.dragGroup(e,a)},dragGroupControlEnd:function(e,a){return this.dragGroupEnd(e,a)}},P1={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(e,a){_t(e,"onRenderStart",Pt(e,a,{isPinch:!!a.isPinch}))},drag:function(e,a){_t(e,"onRender",this.fillDragParams(e,a))},dragAfter:function(e,a){return this.drag(e,a)},dragEnd:function(e,a){_t(e,"onRenderEnd",this.fillDragEndParams(e,a))},dragGroupStart:function(e,a){_t(e,"onRenderGroupStart",Pt(e,a,{isPinch:!!a.isPinch,targets:e.props.targets}))},dragGroup:function(e,a){var n=this,i=Jr(e,"beforeRenderable",a),l=e.moveables,u=i.map(function(c,f){var v=l[f];return n.fillDragParams(v,c)});_t(e,"onRenderGroup",Pt(e,a,Y(Y({isPinch:!!a.isPinch,targets:e.props.targets,transform:Vs(a),transformObject:{}},vr(Gs(a))),{events:u})))},dragGroupEnd:function(e,a){var n=this,i=Jr(e,"beforeRenderable",a),l=e.moveables,u=i.map(function(c,f){var v=l[f];return n.fillDragEndParams(v,c)});_t(e,"onRenderGroupEnd",Pt(e,a,Y({isPinch:!!a.isPinch,isDrag:a.isDrag,targets:e.props.targets,events:u,transformObject:{},transform:Vs(a)},vr(Gs(a)))))},dragControlStart:function(e,a){return this.dragStart(e,a)},dragControl:function(e,a){return this.drag(e,a)},dragControlAfter:function(e,a){return this.dragAfter(e,a)},dragControlEnd:function(e,a){return this.dragEnd(e,a)},dragGroupControlStart:function(e,a){return this.dragGroupStart(e,a)},dragGroupControl:function(e,a){return this.dragGroup(e,a)},dragGroupControlEnd:function(e,a){return this.dragGroupEnd(e,a)},fillDragParams:function(e,a){var n={};return Vi(au(a)||[]).forEach(function(i){n[i.name]=i.functionValue}),Pt(e,a,Y({isPinch:!!a.isPinch,transformObject:n,transform:Vs(a)},vr(Gs(a))))},fillDragEndParams:function(e,a){var n={};return Vi(au(a)||[]).forEach(function(i){n[i.name]=i.functionValue}),Pt(e,a,Y({isPinch:!!a.isPinch,isDrag:a.isDrag,transformObject:n,transform:Vs(a)},vr(Gs(a))))}};function ol(e,a,n,i,l,u,c){u.clientDistX=u.distX,u.clientDistY=u.distY;var f=l==="Start",v=l==="End",p=l==="After",g=e.state.target,y=u.isRequest,m=i.indexOf("Control")>-1;if(!g||f&&m&&!y&&e.areaElement===u.inputEvent.target)return!1;var b=Et([],F(a),!1);if(y){var x=u.requestAble;b.some(function(q){return q.name===x})||b.push.apply(b,Et([],F(e.props.ables.filter(function(q){return q.name===x})),!1))}if(!b.length||b.every(function(q){return q.dragRelation}))return!1;var S=u.inputEvent,C;v&&S&&(C=document.elementFromPoint(u.clientX,u.clientY)||S.target);var T=!1,M=function(){var q;T=!0,(q=u.stop)===null||q===void 0||q.call(u)},A=f&&(!e.targetGesto||!e.controlGesto||!e.targetGesto.isFlag()||!e.controlGesto.isFlag());A&&e.updateRect(l,!0,!1);var O=u.datas,R=m?"controlGesto":"targetGesto",_=e[R],N=function(q,U,$){if(!(U in q)||_!==e[R])return!1;var G=q.name,V=O[G]||(O[G]={});if(f&&(V.isEventStart=!$||!q[$]||q[$](e,u)),!V.isEventStart)return!1;var W=q[U](e,Y(Y({},u),{stop:M,datas:V,originalDatas:O,inputTarget:C}));return e._emitter.off(),f&&W===!1&&(V.isEventStart=!1),W};A&&b.forEach(function(q){q.unset&&q.unset(e)}),N(Y1,"drag".concat(i).concat(l));var z=0,j=0;n.forEach(function(q){if(T)return!1;var U="".concat(q).concat(i).concat(l),$="".concat(q).concat(i,"Condition");l===""&&!y&&zC(e.state,u);var G=b.filter(function(Q){return Q[U]});G=G.filter(function(Q,ot){return Q.name&&G.indexOf(Q)===ot});var V=G.filter(function(Q){return N(Q,U,$)}),W=V.length;T&&++z,W&&++j,!T&&f&&G.length&&!W&&(z+=G.filter(function(Q){var ot=Q.name,B=O[ot];return B.isEventStart?Q.dragRelation!=="strong":!1}).length?1:0)}),(!p||j)&&N(P1,"drag".concat(i).concat(l));var H=_!==e[R]||z===n.length;if((v||T||H)&&(e.state.gestos={},e.moveables&&e.moveables.forEach(function(q){q.state.gestos={}}),b.forEach(function(q){q.unset&&q.unset(e)})),f&&!H&&!y&&j&&e.props.preventDefault&&(u==null||u.preventDefault()),e.isUnmounted||H)return!1;if(!f&&j&&!c||v){var P=e.props.flushSync||E1;P(function(){e.updateRect(v?l:"",!0,!1),e.forceUpdate()})}return!f&&!v&&!p&&j&&!c&&ol(e,a,n,i,l+"After",u),!0}function xv(e,a){return function(n,i){var l;i===void 0&&(i=n.inputEvent.target);var u=i,c=e.areaElement,f=e._dragTarget;return!f||!a&&(!((l=e.controlGesto)===null||l===void 0)&&l.isFlag())?!1:u===f||f.contains(u)||u===c||!e.isMoveableElement(u)&&!e.controlBox.contains(u)||Ye(u,"moveable-area")||Ye(u,"moveable-padding")||Ye(u,"moveable-edgeDraggable")}}function F1(e,a,n){var i=e.controlBox,l=[],u=e.props,c=u.dragArea,f=e.state.target,v=u.dragTarget;l.push(i),(!c||v)&&l.push(a),!c&&v&&f&&a!==f&&u.dragTargetSelf&&l.push(f);var p=xv(e);return K1(e,l,"targetAbles",n,{dragStart:p,pinchStart:p})}function W1(e,a){var n=e.controlBox,i=[];i.push(n);var l=xv(e,!0),u=function(c,f){if(f===void 0&&(f=c.inputEvent.target),f===n)return!0;var v=l(c,f);return!v};return K1(e,i,"controlAbles",a,{dragStart:u,pinchStart:u})}function K1(e,a,n,i,l){l===void 0&&(l={});var u=n==="targetAbles",c=e.props,f=c.pinchOutside,v=c.pinchThreshold,p=c.preventClickEventOnDrag,g=c.preventClickDefault,y=c.checkInput,m=c.dragFocusedInput,b=c.preventDefault,x=b===void 0?!0:b,S=c.preventRightClick,C=S===void 0?!0:S,T=c.preventWheelClick,M=T===void 0?!0:T,A=c.dragContainer,O=ua(A,!0),R={preventDefault:x,preventRightClick:C,preventWheelClick:M,container:O||un(e.getControlBoxElement()),pinchThreshold:v,pinchOutside:f,preventClickEventOnDrag:u?p:!1,preventClickEventOnDragStart:u?g:!1,preventClickEventByCondition:u?null:function(z){return e.controlBox.contains(z.target)},checkInput:u?y:!1,dragFocusedInput:m},_=new jx(a,R),N=i==="Control";return["drag","pinch"].forEach(function(z){["Start","","End"].forEach(function(j){_.on("".concat(z).concat(j),function(H){var P,q=H.eventType,U=z==="drag"&&H.isPinch;if(l[q]&&!l[q](H)){H.stop();return}if(!U){var $=z==="drag"?[z]:["drag",z],G=Et([],F(e[n]),!1),V=ol(e,G,$,i,j,H);V?(e.props.stopPropagation||j==="Start"&&N)&&((P=H==null?void 0:H.inputEvent)===null||P===void 0||P.stopPropagation()):H.stop()}})})}),_}var cE=function(){function e(a,n,i){var l=this;this.target=a,this.moveable=n,this.eventName=i,this.ables=[],this._onEvent=function(u){var c=l.eventName,f=l.moveable;f.state.disableNativeEvent||l.ables.forEach(function(v){v[c](f,{inputEvent:u})})},a.addEventListener(i.toLowerCase(),this._onEvent)}return e.prototype.setAbles=function(a){this.ables=a},e.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},e}();function fE(e,a,n,i){var l;n===void 0&&(n=a);var u=t1(e,a),c=u.matrixes,f=u.is3d,v=u.targetMatrix,p=u.transformOrigin,g=u.targetOrigin,y=u.offsetContainer,m=u.hasFixed,b=u.zoom,x=w2(y,n),S=x.matrixes,C=x.is3d,T=x.offsetContainer,M=x.zoom,A=i,O=4,R=e.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in e,_=v,N=Ae(O),z=Ae(O),j=Ae(O),H=Ae(O),P=c.length,q=S.map(function(ot){return Y(Y({},ot),{matrix:ot.matrix?Et([],F(ot.matrix),!1):void 0})}).reverse();c.reverse(),!f&&A&&(_=ta(_,3,4),Rd(c)),!C&&A&&Rd(q),q.forEach(function(ot){z=me(z,ot.matrix,O)});var U=n||pn(e),$=((l=q[0])===null||l===void 0?void 0:l.target)||vl(U,U,!0).offsetParent,G=q.slice(1).reduce(function(ot,B){return me(ot,B.matrix,O)},Ae(O));c.forEach(function(ot,B){if(P-2===B&&(j=N.slice()),P-1===B&&(H=N.slice()),!ot.matrix){var I=c[B+1],lt=OC(ot,I,$,O,me(G,N,O));ot.matrix=Hn(lt,O)}N=me(N,ot.matrix,O)});var V=!R&&f;_||(_=Ae(V?4:3));var W=Su(R&&_.length===16?ta(_,4,3):_,V),Q=z;return z=Bm(z,O,O),{hasZoom:b!==1||M!==1,hasFixed:m,matrixes:c,rootMatrix:z,originalRootMatrix:Q,beforeMatrix:j,offsetMatrix:H,allMatrix:N,targetMatrix:_,targetTransform:W,inlineTransform:e.style.transform,transformOrigin:p,targetOrigin:g,is3d:A,offsetContainer:y,offsetRootContainer:T}}function dE(e,a,n,i){n===void 0&&(n=a);var l=0,u=0,c=0,f={},v=M1(e);if(e&&(l=v.offsetWidth,u=v.offsetHeight),e){var p=fE(e,a,n,i),g=Li(p.allMatrix,p.transformOrigin,l,u);f=Y(Y({},p),g);var y=Li(p.allMatrix,[50,50],100,100);c=O1([y.pos1,y.pos2],y.direction)}var m=4;return Y(Y(Y({hasZoom:!1,width:l,height:u,rotation:c},v),{originalRootMatrix:Ae(m),rootMatrix:Ae(m),beforeMatrix:Ae(m),offsetMatrix:Ae(m),allMatrix:Ae(m),targetMatrix:Ae(m),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!0,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),f)}function Nd(e,a,n,i,l,u){u===void 0&&(u=[]);var c=1,f=[0,0],v=Hs(),p=Hs(),g=Hs(),y=Hs(),m=[0,0],b={},x=dE(a,n,l,!0);if(a){var S=Cr(a);u.forEach(function(q){b[q]=S(q)});var C=x.is3d?4:3,T=Li(x.offsetMatrix,ae(x.transformOrigin,jm(x.targetMatrix,C)),x.width,x.height);c=T.direction,f=ae(T.origin,[T.left-x.left,T.top-x.top]),y=il(x.offsetRootContainer);var M=vl(i,i,!0).offsetParent||x.offsetRootContainer;if(x.hasZoom){var A=Li(me(x.originalRootMatrix,x.allMatrix),x.transformOrigin,x.width,x.height),O=Li(x.originalRootMatrix,lu(Cr(M)("transformOrigin")).map(function(q){return parseFloat(q)}),M.offsetWidth,M.offsetHeight);if(v=Zf(A,y),g=Zf(O,y,M,!0),e){var R=A.left,_=A.top;p=Zf({left:R,top:_,bottom:_,right:_},y)}}else{v=il(a),g=T2(M),e&&(p=il(e));var N=g.left,z=g.top,j=g.clientLeft,H=g.clientTop,P=[v.left-N,v.top-z];m=Vt(Ui(x.rootMatrix,P,4),[j+x.left,H+x.top])}}return Y({targetClientRect:v,containerClientRect:g,moveableClientRect:p,rootContainerClientRect:y,beforeDirection:c,beforeOrigin:f,originalBeforeOrigin:f,target:a,style:b,offsetDelta:m},x)}function Q0(e){var a=e.pos1,n=e.pos2,i=e.pos3,l=e.pos4;if(!a||!n||!i||!l)return null;var u=Un([a,n,i,l]),c=[u.minX,u.minY],f=Vt(e.origin,c);return a=Vt(a,c),n=Vt(n,c),i=Vt(i,c),l=Vt(l,c),Y(Y({},e),{left:e.left,top:e.top,posDelta:c,pos1:a,pos2:n,pos3:i,pos4:l,origin:f,beforeOrigin:f,isPersisted:!0})}var Xi=function(e){ml(a,e);function a(){var n=e!==null&&e.apply(this,arguments)||this;return n.state=Y({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},Nd(null)),n.renderState={},n.enabledAbles=[],n.targetAbles=[],n.controlAbles=[],n.rotation=0,n.scale=[1,1],n.isMoveableMounted=!1,n.isUnmounted=!1,n.events={mouseEnter:null,mouseLeave:null},n._emitter=new $d,n._prevOriginalDragTarget=null,n._originalDragTarget=null,n._prevDragTarget=null,n._dragTarget=null,n._prevPropTarget=null,n._propTarget=null,n._prevDragArea=!1,n._isPropTargetChanged=!1,n._hasFirstTarget=!1,n._reiszeObserver=null,n._observerId=0,n._mutationObserver=null,n._rootContainer=null,n._viewContainer=null,n._viewClassNames=[],n._store={},n.checkUpdateRect=function(){if(!n.isDragging()){var i=n.props.parentMoveable;if(i){i.checkUpdateRect();return}KS(n._observerId),n._observerId=Rm(function(){n.isDragging()||n.updateRect()})}},n._onPreventClick=function(i){i.stopPropagation(),i.preventDefault()},n}return a.prototype.render=function(){var n=this.props,i=this.getState(),l=n.parentPosition,u=n.className,c=n.target,f=n.zoom,v=n.cspNonce,p=n.translateZ,g=n.cssStyled,y=n.groupable,m=n.linePadding,b=n.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var x=F(l||[0,0],2),S=x[0],C=x[1],T=i.left,M=i.top,A=i.target,O=i.direction,R=i.hasFixed,_=i.offsetDelta,N=n.targets,z=this.isDragging(),j={};this.getEnabledAbles().forEach(function(G){j["data-able-".concat(G.name.toLowerCase())]=!0});var H=this._getAbleClassName(),P=N&&N.length&&(A||y)||c||!this._hasFirstTarget&&this.state.isPersisted,q=this.controlBox||this.props.firstRenderState||this.props.persistData,U=[T-S,M-C];!y&&n.useAccuratePosition&&(U[0]+=_[0],U[1]+=_[1]);var $={position:R?"fixed":"absolute",display:P?"block":"none",visibility:q?"visible":"hidden",transform:"translate3d(".concat(U[0],"px, ").concat(U[1],"px, ").concat(p,")"),"--zoom":f,"--zoompx":"".concat(f,"px")};return m&&($["--moveable-line-padding"]=m),b&&($["--moveable-control-padding"]=b),ut.createElement(g,Y({cspNonce:v,ref:Gn(this,"controlBox"),className:"".concat(Lt("control-box",O===-1?"reverse":"",z?"dragging":"")," ").concat(H," ").concat(u)},j,{onClick:this._onPreventClick,style:$}),this.renderAbles(),this._renderLines())},a.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var n=this.props,i=n.parentMoveable,l=n.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!l&&!i&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},a.prototype.componentDidUpdate=function(n){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(n)},a.prototype.componentWillUnmount=function(){var n,i;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(n=this._reiszeObserver)===null||n===void 0||n.disconnect(),(i=this._mutationObserver)===null||i===void 0||i.disconnect();var l=this._viewContainer;l&&this._changeAbleViewClassNames([]),Bi(this,!1),Bi(this,!0);var u=this.events;for(var c in u){var f=u[c];f&&f.destroy()}},a.prototype.getTargets=function(){var n=this.props.target;return n?[n]:[]},a.prototype.getAble=function(n){var i=this.props.ables||[];return Dr(i,function(l){return l.name===n})},a.prototype.getContainer=function(){var n=this.props,i=n.parentMoveable,l=n.wrapperMoveable,u=n.container;return u||l&&l.getContainer()||i&&i.getContainer()||this.controlBox.parentElement},a.prototype.getControlBoxElement=function(){return this.controlBox},a.prototype.getDragElement=function(){return this._dragTarget},a.prototype.isMoveableElement=function(n){var i;return n&&(((i=n.getAttribute)===null||i===void 0?void 0:i.call(n,"class"))||"").indexOf(rv)>-1},a.prototype.dragStart=function(n,i){i===void 0&&(i=n.target);var l=this.targetGesto,u=this.controlGesto;return l&&xv(this)({inputEvent:n},i)?l.isFlag()||l.triggerDragStart(n):u&&this.isMoveableElement(i)&&(u.isFlag()||u.triggerDragStart(n)),this},a.prototype.hitTest=function(n){var i=this.state,l=i.target,u=i.pos1,c=i.pos2,f=i.pos3,v=i.pos4,p=i.targetClientRect;if(!l)return 0;var g;if(Kd(n)){var y=n.getBoundingClientRect();g={left:y.left,top:y.top,width:y.width,height:y.height}}else g=Y({width:0,height:0},n);var m=g.left,b=g.top,x=g.width,S=g.height,C=S0([u,c,v,f],p),T=Rx(C,[[m,b],[m+x,b],[m+x,b+S],[m,b+S]]),M=km(C);return!T||!M?0:Math.min(100,T/M*100)},a.prototype.isInside=function(n,i){var l=this.state,u=l.target,c=l.pos1,f=l.pos2,v=l.pos3,p=l.pos4,g=l.targetClientRect;return u?gd([n,i],S0([c,f,p,v],g)):!1},a.prototype.updateRect=function(n,i,l){l===void 0&&(l=!0);var u=this.props,c=!u.parentPosition&&!u.wrapperMoveable;c&&ki(!0);var f=u.parentMoveable,v=this.state,p=v.target||u.target,g=this.getContainer(),y=f?f._rootContainer:this._rootContainer,m=Nd(this.controlBox,p,g,g,y||g,this._getRequestStyles());if(!p&&this._hasFirstTarget&&u.persistData){var b=Q0(u.persistData);for(var x in b)m[x]=b[x]}c&&ki(),this.updateState(m,f?!1:l)},a.prototype.isDragging=function(n){var i,l,u=this.targetGesto,c=this.controlGesto;if(u!=null&&u.isFlag()){if(!n)return!0;var f=u.getEventData();return!!(!((i=f[n])===null||i===void 0)&&i.isEventStart)}if(c!=null&&c.isFlag()){if(!n)return!0;var f=c.getEventData();return!!(!((l=f[n])===null||l===void 0)&&l.isEventStart)}return!1},a.prototype.updateTarget=function(n){this.updateRect(n,!0)},a.prototype.getRect=function(){var n=this.state,i=Pr(this.state),l=F(i,4),u=l[0],c=l[1],f=l[2],v=l[3],p=qr(i),g=n.width,y=n.height,m=p.width,b=p.height,x=p.left,S=p.top,C=[n.left,n.top],T=ae(C,n.origin),M=ae(C,n.beforeOrigin),A=n.transformOrigin;return{width:m,height:b,left:x,top:S,pos1:u,pos2:c,pos3:f,pos4:v,offsetWidth:g,offsetHeight:y,beforeOrigin:M,origin:T,transformOrigin:A,rotation:this.getRotation()}},a.prototype.getManager=function(){return this},a.prototype.stopDrag=function(n){if(!n||n==="target"){var i=this.targetGesto;(i==null?void 0:i.isIdle())===!1&&Dd(this,!1),i==null||i.stop()}if(!n||n==="control"){var i=this.controlGesto;(i==null?void 0:i.isIdle())===!1&&Dd(this,!0),i==null||i.stop()}},a.prototype.getRotation=function(){var n=this.state,i=n.pos1,l=n.pos2,u=n.direction;return jC(i,l,u)},a.prototype.request=function(n,i,l){i===void 0&&(i={});var u=this,c=u.props,f=c.parentMoveable||c.wrapperMoveable||u,v=f.props.ables,p=c.groupable,g=Dr(v,function(T){return T.name===n});if(this.isDragging()||!g||!g.request)return{request:function(){return this},requestEnd:function(){return this}};var y=g.request(u),m=l||i.isInstant,b=y.isControl?"controlAbles":"targetAbles",x="".concat(p?"Group":"").concat(y.isControl?"Control":""),S=Et([],F(f[b]),!1),C={request:function(T){return ol(u,S,["drag"],x,"",Y(Y({},y.request(T)),{requestAble:n,isRequest:!0}),m),C},requestEnd:function(){return ol(u,S,["drag"],x,"End",Y(Y({},y.requestEnd()),{requestAble:n,isRequest:!0}),m),C}};return ol(u,S,["drag"],x,"Start",Y(Y({},y.requestStart(i)),{requestAble:n,isRequest:!0}),m),m?C.request(i).requestEnd():C},a.prototype.getMoveables=function(){return[this]},a.prototype.destroy=function(){this.componentWillUnmount()},a.prototype.updateRenderPoses=function(){var n=this.getState(),i=this.props,l=i.padding,u=n.originalBeforeOrigin,c=n.transformOrigin,f=n.allMatrix,v=n.is3d,p=n.pos1,g=n.pos2,y=n.pos3,m=n.pos4,b=n.left,x=n.top,S=n.isPersisted,C=i.zoom||1;if(!l&&C<=1){n.renderPoses=[p,g,y,m],n.renderLines=[[p,g],[g,m],[m,y],[y,p]];return}var T=G1(l||{}),M=T.left,A=T.top,O=T.bottom,R=T.right,_=v?4:3,N=[];S?N=c:this.controlBox&&i.groupable?N=u:N=ae(u,[b,x]);var z=eu(_,Hn(N.map(function($){return-$}),_),f,Hn(c,_)),j=Ir(z,p,[-M,-A],_),H=Ir(z,g,[R,-A],_),P=Ir(z,y,[-M,O],_),q=Ir(z,m,[R,O],_);n.renderPoses=[j,H,P,q],n.renderLines=[[j,H],[H,q],[q,P],[P,j]];{var U=C/2;n.renderLines=[[Ir(z,p,[-M-U,-A],_),Ir(z,g,[R+U,-A],_)],[Ir(z,g,[R,-A-U],_),Ir(z,m,[R,O+U],_)],[Ir(z,m,[R+U,O],_),Ir(z,y,[-M-U,O],_)],[Ir(z,y,[-M,O+U],_),Ir(z,p,[-M,-A-U],_)]]}},a.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var n=this.props,i=n.target,l=n.container,u=n.parentMoveable,c=this.state,f=c.target,v=c.container;if(!(!f&&!i)){this.updateAbles();var p=!_d(f,i),g=p||!_d(v,l);if(g){var y=l||this.controlBox;y&&this.unsetAbles(),this.updateState({target:i,container:l}),!u&&y&&this.updateRect("End",!1,!1),this._isPropTargetChanged=p}}},a.prototype.waitToChangeTarget=function(){return new Promise(function(){})},a.prototype.triggerEvent=function(n,i){var l=this.props;if(this._emitter.trigger(n,i),l.parentMoveable&&i.isRequest&&!i.isRequestChild)return l.parentMoveable.triggerEvent(n,i,!0);var u=l[n];return u&&u(i)},a.prototype.useCSS=function(n,i){var l=this.props.customStyledMap,u=n+i;return l[u]||(l[u]=Xm(n,i)),l[u]},a.prototype.getState=function(){var n,i=this.props;(i.target||!((n=i.targets)===null||n===void 0)&&n.length)&&(this._hasFirstTarget=!0);var l=this.controlBox,u=i.persistData,c=i.firstRenderState;if(c&&!l)return c;if(!this._hasFirstTarget&&u){var f=Q0(u);if(f)return this.updateState(f,!1),this.state}return this.state.isPersisted=!1,this.state},a.prototype.updateSelectors=function(){},a.prototype.unsetAbles=function(){var n=this;this.targetAbles.forEach(function(i){i.unset&&i.unset(n)})},a.prototype.updateAbles=function(n,i){n===void 0&&(n=this.props.ables),i===void 0&&(i="");var l=this.props,u=l.triggerAblesSimultaneously,c=this.getEnabledAbles(n),f="drag".concat(i,"Start"),v="pinch".concat(i,"Start"),p="drag".concat(i,"ControlStart"),g=Us(c,[f,v],u),y=Us(c,[p],u);this.enabledAbles=c,this.targetAbles=g,this.controlAbles=y},a.prototype.updateState=function(n,i){if(i){if(this.isUnmounted)return;this.setState(n)}else{var l=this.state;for(var u in n)l[u]=n[u]}},a.prototype.getEnabledAbles=function(n){n===void 0&&(n=this.props.ables);var i=this.props;return n.filter(function(l){return l&&(l.always&&i[l.name]!==!1||i[l.name])})},a.prototype.renderAbles=function(){var n=this,i=this.props,l=i.triggerAblesSimultaneously,u={createElement:ut.createElement};return this.renderState={},_C(B1(Us(this.getEnabledAbles(),["render"],l).map(function(c){var f=c.render;return f(n,u)||[]})).filter(function(c){return c}),function(c){var f=c.key;return f}).map(function(c){return c[0]})},a.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},a.prototype._getRequestStyles=function(){var n=this.getEnabledAbles().reduce(function(i,l){var u,c,f=(c=(u=l.requestStyle)===null||u===void 0?void 0:u.call(l))!==null&&c!==void 0?c:[];return Et(Et([],F(i),!1),F(f),!1)},Et([],F(this.props.requestStyles||[]),!1));return n},a.prototype._updateObserver=function(n){this._updateResizeObserver(n),this._updateMutationObserver(n)},a.prototype._updateEvents=function(){var n=this.targetAbles.length,i=this.controlAbles.length,l=this._dragTarget,u=!n&&this.targetGesto||this._isTargetChanged(!0);u&&(Bi(this,!1),this.updateState({gestos:{}})),i||Bi(this,!0),l&&n&&!this.targetGesto&&(this.targetGesto=F1(this,l,"")),!this.controlGesto&&i&&(this.controlGesto=W1(this,"Control"))},a.prototype._updateTargets=function(){var n=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=n.dragArea,this._propTarget=n.target,this._originalDragTarget=n.dragTarget||n.target,this._dragTarget=ua(this._originalDragTarget,!0)},a.prototype._renderLines=function(){var n=this.props,i=n,l=i.zoom,u=i.hideDefaultLines,c=i.hideChildMoveableDefaultLines,f=i.parentMoveable;if(u||f&&c)return[];var v=this.getState(),p={createElement:ut.createElement};return v.renderLines.map(function(g,y){return dl(p,"",g[0],g[1],l,"render-line-".concat(y))})},a.prototype._isTargetChanged=function(n){var i=this.props,l=i.dragTarget||i.target,u=this._prevOriginalDragTarget,c=this._prevDragArea,f=i.dragArea,v=!f&&u!==l,p=(n||f)&&c!==f;return v||p||this._prevPropTarget!=this._propTarget},a.prototype._updateNativeEvents=function(){var n=this,i=this.props,l=i.dragArea?this.areaElement:this.state.target,u=this.events,c=Yi(u);if(this._isTargetChanged())for(var f in u){var v=u[f];v&&v.destroy(),u[f]=null}if(l){var p=this.enabledAbles;c.forEach(function(g){var y=Us(p,[g]),m=y.length>0,b=u[g];if(!m){b&&(b.destroy(),u[g]=null);return}b||(b=new cE(l,n,g),u[g]=b),b.setAbles(y)})}},a.prototype._checkUpdateRootContainer=function(){var n=this.props.rootContainer;!this._rootContainer&&n&&(this._rootContainer=ua(n,!0))},a.prototype._checkUpdateViewContainer=function(){var n=this.props.viewContainer;!this._viewContainer&&n&&(this._viewContainer=ua(n,!0));var i=this._viewContainer;i&&this._changeAbleViewClassNames(Et(Et([],F(this._getAbleViewClassNames()),!1),[this.isDragging()?XC:""],!1))},a.prototype._changeAbleViewClassNames=function(n){var i=this._viewContainer,l=N1(n.filter(Boolean),function(p){return p}).map(function(p){var g=F(p,1),y=g[0];return y}),u=this._viewClassNames,c=Jd(u,l),f=c.removed,v=c.added;f.forEach(function(p){zm(i,u[p])}),v.forEach(function(p){_m(i,l[p])}),this._viewClassNames=l},a.prototype._getAbleViewClassNames=function(){var n=this;return(this.getEnabledAbles().map(function(i){var l;return((l=i.viewClassName)===null||l===void 0?void 0:l.call(i,n))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},a.prototype._getAbleClassName=function(n){var i=this;n===void 0&&(n="");var l=this.getEnabledAbles(),u=this.targetGesto,c=this.controlGesto,f=u!=null&&u.isFlag()?u.getEventData():{},v=c!=null&&c.isFlag()?c.getEventData():{};return l.map(function(p){var g,y,m,b=p.name,x=((g=p.className)===null||g===void 0?void 0:g.call(p,i))||"";return(!((y=f[b])===null||y===void 0)&&y.isEventStart||!((m=v[b])===null||m===void 0)&&m.isEventStart)&&(x+=" ".concat(Lt("".concat(b).concat(n,"-dragging")))),x.trim()}).filter(Boolean).join(" ")},a.prototype._updateResizeObserver=function(n){var i,l=this.props,u=l.target,c=un(this.getControlBoxElement());if(!c.ResizeObserver||!u||!l.useResizeObserver){(i=this._reiszeObserver)===null||i===void 0||i.disconnect();return}if(!(n.target===u&&this._reiszeObserver)){var f=new c.ResizeObserver(this.checkUpdateRect);f.observe(u,{box:"border-box"}),this._reiszeObserver=f}},a.prototype._updateMutationObserver=function(n){var i=this,l,u=this.props,c=u.target,f=un(this.getControlBoxElement());if(!f.MutationObserver||!c||!u.useMutationObserver){(l=this._mutationObserver)===null||l===void 0||l.disconnect();return}if(!(n.target===c&&this._mutationObserver)){var v=new f.MutationObserver(function(p){var g,y;try{for(var m=Px(p),b=m.next();!b.done;b=m.next()){var x=b.value;x.type==="attributes"&&x.attributeName==="style"&&i.checkUpdateRect()}}catch(S){g={error:S}}finally{try{b&&!b.done&&(y=m.return)&&y.call(m)}finally{if(g)throw g.error}}});v.observe(c,{attributes:!0}),this._mutationObserver=v}},a.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:E1,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},a}(ut.PureComponent),Cv={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(e,a){var n,i=e.props,l=i.targets||[],u=e.getState(),c=u.left,f=u.top,v=u.isPersisted,p=i.zoom||1,g=e.renderGroupRects,y=((n=i.persistData)===null||n===void 0?void 0:n.children)||[];v?l=y.map(function(){return null}):y=[];var m=ji(e,"parentPosition",[c,f],function(x){return x.join(",")}),b=ji(e,"requestStyles",e.getRequestChildStyles(),function(x){return x.join(",")});return e.moveables=e.moveables.slice(0,l.length),Et(Et([],F(l.map(function(x,S){return a.createElement(Xi,{key:"moveable"+S,ref:wm(e,"moveables",S),target:x,origin:!1,requestStyles:b,cssStyled:i.cssStyled,customStyledMap:i.customStyledMap,useResizeObserver:i.useResizeObserver,useMutationObserver:i.useMutationObserver,hideChildMoveableDefaultLines:i.hideChildMoveableDefaultLines,parentMoveable:e,parentPosition:[c,f],persistData:y[S],zoom:p})})),!1),F(B1(g.map(function(x,S){var C=x.pos1,T=x.pos2,M=x.pos3,A=x.pos4,O=[C,T,M,A];return[[0,1],[1,3],[3,2],[2,0]].map(function(R,_){var N=F(R,2),z=N[0],j=N[1];return dl(a,"",Vt(O[z],m),Vt(O[j],m),p,"group-rect-".concat(S,"-").concat(_))})}))),!1)}},vE=yl("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(e,a){a.datas.inputTarget=a.inputEvent&&a.inputEvent.target},dragEnd:function(e,a){var n=e.props.target,i=a.inputEvent,l=a.inputTarget,u=e.isMoveableElement(l),c=!u&&e.controlBox.contains(l);if(!(!i||!l||a.isDrag||e.isMoveableElement(l)||c)){var f=n.contains(l);_t(e,"onClick",Pt(e,a,{isDouble:a.isDouble,inputTarget:l,isTarget:n===l,moveableTarget:e.props.target,containsTarget:f}))}},dragGroupEnd:function(e,a){var n=a.inputEvent,i=a.inputTarget;if(!(!n||!i||a.isDrag||e.isMoveableElement(i)||a.datas.inputTarget===i)){var l=e.props.targets,u=l.indexOf(i),c=u>-1,f=!1;u===-1&&(u=Da(l,function(v){return v.contains(i)}),f=u>-1),_t(e,"onClickGroup",Pt(e,a,{isDouble:a.isDouble,targets:l,inputTarget:i,targetIndex:u,isTarget:c,containsTarget:f,moveableTarget:l[u]}))}},dragControlEnd:function(e,a){this.dragEnd(e,a)},dragGroupControlEnd:function(e,a){this.dragEnd(e,a)}});function Oi(e){var a=e.originalDatas.draggable;return a||(e.originalDatas.draggable={},a=e.originalDatas.draggable),Y(Y({},e),{datas:a})}var pE=yl("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(e,a){var n=e.props,i=n.edgeDraggable;return i?a1(a,"edgeDraggable",i,e.getState().renderPoses,n.zoom):[]},dragCondition:function(e,a){var n,i=e.props,l=(n=a.inputEvent)===null||n===void 0?void 0:n.target;return!i.edgeDraggable||!l?!1:!i.draggable&&Ye(l,Lt("direction"))&&Ye(l,Lt("edge"))&&Ye(l,Lt("edgeDraggable"))},dragStart:function(e,a){return fr.dragStart(e,Oi(a))},drag:function(e,a){return fr.drag(e,Oi(a))},dragEnd:function(e,a){return fr.dragEnd(e,Oi(a))},dragGroupCondition:function(e,a){var n,i=e.props,l=(n=a.inputEvent)===null||n===void 0?void 0:n.target;return!i.edgeDraggable||!l?!1:!i.draggable&&Ye(l,Lt("direction"))&&Ye(l,Lt("line"))},dragGroupStart:function(e,a){return fr.dragGroupStart(e,Oi(a))},dragGroup:function(e,a){return fr.dragGroup(e,Oi(a))},dragGroupEnd:function(e,a){return fr.dragGroupEnd(e,Oi(a))},unset:function(e){return fr.unset(e)}}),Z1={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},hE=[Y1,U1,yC,VC,fr,pE,Ad,GC,HC,tC,YC,PC,IC,nE,aE,sE,Cv,Z1,vE,H1,P1];function J0(e,a){var n=F(e,3),i=n[0],l=n[1],u=n[2];return(i*a[0]+l*a[1]+u)/Math.sqrt(i*i+l*l)}function qs(e,a){var n=F(e,2),i=n[0],l=n[1];return-i*a[0]-l*a[1]}function $0(e,a){return Math.max.apply(Math,Et([],F(e.map(function(n){var i=F(n,4),l=i[0],u=i[1],c=i[2],f=i[3];return Math.max(l[a],u[a],c[a],f[a])})),!1))}function tm(e,a){return Math.min.apply(Math,Et([],F(e.map(function(n){var i=F(n,4),l=i[0],u=i[1],c=i[2],f=i[3];return Math.min(l[a],u[a],c[a],f[a])})),!1))}function gE(e,a){var n,i,l,u=[0,0],c=[0,0],f=[0,0],v=[0,0],p=0,g=0;if(!e.length)return{pos1:u,pos2:c,pos3:f,pos4:v,minX:0,minY:0,maxX:0,maxY:0,width:p,height:g,rotation:a};var y=It(a,hr);if(y%90){var m=y/180*Math.PI,b=Math.tan(m),x=-1/b,S=[Cd,E0],C=[[0,0],[0,0]],T=[Cd,E0],M=[[0,0],[0,0]];e.forEach(function(et){et.forEach(function(dt){var bt=J0([-b,1,0],dt),L=J0([-x,1,0],dt);S[0]>bt&&(C[0]=dt,S[0]=bt),S[1]<bt&&(C[1]=dt,S[1]=bt),T[0]>L&&(M[0]=dt,T[0]=L),T[1]<L&&(M[1]=dt,T[1]=L)})});var A=F(C,2),O=A[0],R=A[1],_=F(M,2),N=_[0],z=_[1],j=[-b,1,qs([-b,1],O)],H=[-b,1,qs([-b,1],R)],P=[-x,1,qs([-x,1],N)],q=[-x,1,qs([-x,1],z)];n=F([[j,P],[j,q],[H,P],[H,q]].map(function(et){var dt=F(et,2),bt=dt[0],L=dt[1];return tv(bt,L)[0]}),4),u=n[0],c=n[1],f=n[2],v=n[3],p=T[1]-T[0],g=S[1]-S[0]}else{var U=tm(e,0),$=tm(e,1),G=$0(e,0),V=$0(e,1);if(u=[U,$],c=[G,$],f=[U,V],v=[G,V],p=G-U,g=V-$,y%180){var W=[f,u,v,c];i=F(W,4),u=i[0],c=i[1],f=i[2],v=i[3],p=V-$,g=G-U}}if(y%360>180){var W=[v,f,c,u];l=F(W,4),u=l[0],c=l[1],f=l[2],v=l[3]}var Q=Un([u,c,f,v]),ot=Q.minX,B=Q.minY,I=Q.maxX,lt=Q.maxY;return{pos1:u,pos2:c,pos3:f,pos4:v,width:p,height:g,minX:ot,minY:B,maxX:I,maxY:lt,rotation:a}}function Q1(e,a){var n=a.map(function(i){if($e(i)){var l=Q1(e,i),u=l.length;return u>1?l:u===1?l[0]:null}else{var c=Dr(e,function(f){var v=f.manager;return v.props.target===i});return c?(c.finded=!0,c.manager):null}}).filter(Boolean);return n.length===1&&$e(n[0])?n[0]:n}var mE=function(e){ml(a,e);function a(){var n=e!==null&&e.apply(this,arguments)||this;return n.differ=new Gm,n.moveables=[],n.transformOrigin="50% 50%",n.renderGroupRects=[],n._targetGroups=[],n._hasFirstTargets=!1,n}return a.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this)},a.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},a.prototype.getTargets=function(){return this.props.targets},a.prototype.updateRect=function(n,i,l){var u;l===void 0&&(l=!0);var c=this.state;if(!this.controlBox||c.isPersisted)return;ki(!0),this.moveables.forEach(function(k){k.updateRect(n,!1,!1)});var f=this.props,v=this.moveables,p=c.target||f.target,g=v.map(function(k){return{finded:!1,manager:k}}),y=this.props.targetGroups||[],m=Q1(g,y),b=f.useDefaultGroupRotate;m.push.apply(m,Et([],F(g.filter(function(k){var rt=k.finded;return!rt}).map(function(k){var rt=k.manager;return rt})),!1));var x=[],S=!i||n!==""&&f.updateGroup,C=f.defaultGroupRotate||0;if(!this._hasFirstTargets){var T=(u=f.persistData)===null||u===void 0?void 0:u.rotation;T!=null&&(C=T)}function M(k,rt,gt){var ct=k.map(function(Zt){if($e(Zt)){var Ot=M(Zt,rt),Ft=[Ot.pos1,Ot.pos2,Ot.pos3,Ot.pos4];return x.push(Ot),{poses:Ft,rotation:Ot.rotation}}else return{poses:Pr(Zt.state),rotation:Zt.getRotation()}}),Ct=ct.map(function(Zt){var Ot=Zt.rotation;return Ot}),Dt=0,zt=Ct[0],Rt=Ct.every(function(Zt){return Math.abs(zt-Zt)<.1});S?Dt=!b&&Rt?zt:C:Dt=!b&&!gt&&Rt?zt:rt;var Bt=ct.map(function(Zt){var Ot=Zt.poses;return Ot}),Xt=gE(Bt,Dt);return Xt}var A=M(m,this.rotation,!0);S&&(this.rotation=A.rotation,this.transformOrigin=f.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=y,this.renderGroupRects=x;var O=this.transformOrigin,R=this.rotation,_=this.scale,N=A.width,z=A.height,j=A.minX,H=A.minY,P=LC([[0,0],[N,0],[0,z],[N,z]],yv(O,N,z),this.rotation/180*Math.PI),q=Un(P.result),U=q.minX,$=q.minY,G=" rotate(".concat(R,"deg)")+" scale(".concat(dr(_[0]),", ").concat(dr(_[1]),")"),V="translate(".concat(-U,"px, ").concat(-$,"px)").concat(G);this.controlBox.style.transform="translate3d(".concat(j,"px, ").concat(H,"px, ").concat(this.props.translateZ||0,")"),p.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(O,";")+"width:".concat(N,"px;height:").concat(z,"px;")+"transform: ".concat(V),c.width=N,c.height=z;var W=this.getContainer(),Q=Nd(this.controlBox,p,this.controlBox,this.getContainer(),this._rootContainer||W,[]),ot=[Q.left,Q.top],B=F(Pr(Q),4),I=B[0],lt=B[1],et=B[2],dt=B[3],bt=Un([I,lt,et,dt]),L=[bt.minX,bt.minY],Z=dr(_[0]*_[1]);Q.pos1=Vt(I,L),Q.pos2=Vt(lt,L),Q.pos3=Vt(et,L),Q.pos4=Vt(dt,L),Q.left=j-Q.left+L[0],Q.top=H-Q.top+L[1],Q.origin=Vt(ae(ot,Q.origin),L),Q.beforeOrigin=Vt(ae(ot,Q.beforeOrigin),L),Q.originalBeforeOrigin=ae(ot,Q.originalBeforeOrigin),Q.transformOrigin=Vt(ae(ot,Q.transformOrigin),L),p.style.transform="translate(".concat(-U-L[0],"px, ").concat(-$-L[1],"px)")+G,ki(),this.updateState(Y(Y({},Q),{posDelta:L,direction:Z,beforeDirection:Z}),l)},a.prototype.getRect=function(){return Y(Y({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},a.prototype.triggerEvent=function(n,i,l){if(l||n.indexOf("Group")>-1)return e.prototype.triggerEvent.call(this,n,i);this._emitter.trigger(n,i)},a.prototype.getRequestChildStyles=function(){var n=this.getEnabledAbles().reduce(function(i,l){var u,c,f=(c=(u=l.requestChildStyle)===null||u===void 0?void 0:u.call(l))!==null&&c!==void 0?c:[];return Et(Et([],F(i),!1),F(f),!1)},[]);return n},a.prototype.getMoveables=function(){return Et([],F(this.moveables),!1)},a.prototype.updateAbles=function(){e.prototype.updateAbles.call(this,Et(Et([],F(this.props.ables),!1),[Cv],!1),"Group")},a.prototype._updateTargets=function(){e.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=ua(this._originalDragTarget,!0)},a.prototype._updateEvents=function(){var n=this.state,i=this.props,l=this._prevDragTarget,u=i.dragTarget||this.areaElement,c=i.targets,f=this.differ.update(c),v=f.added,p=f.changed,g=f.removed,y=v.length||g.length;(y||this._prevOriginalDragTarget!==this._originalDragTarget)&&(Bi(this,!1),Bi(this,!0),this.updateState({gestos:{}})),l!==u&&(n.target=null),n.target||(n.target=this.areaElement,this.controlBox.style.display="block"),n.target&&(this.targetGesto||(this.targetGesto=F1(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=W1(this,"GroupControl")));var m=!_d(n.container,i.container);m&&(n.container=i.container),(m||y||this.transformOrigin!==(i.defaultGroupOrigin||"50% 50%")||p.length||c.length&&!V1(this._targetGroups,i.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!y},a.prototype._updateObserver=function(){},a.defaultProps=Y(Y({},Xi.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),a}(Xi),yE=function(e){ml(a,e);function a(){var n=e!==null&&e.apply(this,arguments)||this;return n.moveables=[],n}return a.prototype.render=function(){var n=this,i,l=this.props,u=l.cspNonce,c=l.cssStyled,f=l.persistData,v=l.targets||[],p=v.length,g=this.isUnmounted||!p,y=(i=f==null?void 0:f.children)!==null&&i!==void 0?i:[];return g&&!p&&y.length?v=y.map(function(){return null}):g||(y=[]),ut.createElement(c,{cspNonce:u,ref:Gn(this,"controlBox"),className:Lt("control-box")},v.map(function(m,b){var x,S,C=(S=(x=l.individualGroupableProps)===null||x===void 0?void 0:x.call(l,m,b))!==null&&S!==void 0?S:{};return ut.createElement(Xi,Y({key:"moveable"+b,ref:wm(n,"moveables",b)},l,C,{target:m,wrapperMoveable:n,isWrapperMounted:n.isMoveableMounted,persistData:y[b]}))}))},a.prototype.componentDidMount=function(){},a.prototype.componentDidUpdate=function(){},a.prototype.getTargets=function(){return this.props.targets},a.prototype.updateRect=function(n,i,l){l===void 0&&(l=!0),ki(!0),this.moveables.forEach(function(u){u.updateRect(n,i,l)}),ki()},a.prototype.getRect=function(){return Y(Y({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},a.prototype.request=function(n,i,l){i===void 0&&(i={});var u=this.moveables.map(function(v){return v.request(n,Y(Y({},i),{isInstant:!1}),!1)}),c=l||i.isInstant,f={request:function(v){return u.forEach(function(p){return p.request(v)}),this},requestEnd:function(){return u.forEach(function(v){return v.requestEnd()}),this}};return c?f.request(i).requestEnd():f},a.prototype.dragStart=function(n,i){i===void 0&&(i=n.target);var l=i,u=Dr(this.moveables,function(c){var f=c.getTargets()[0],v=c.getControlBoxElement(),p=c.getDragElement();return!f||!p?!1:p===l||p.contains(l)||p!==f&&f===l||f.contains(l)||v===l||v.contains(l)});return u&&u.dragStart(n,i),this},a.prototype.hitTest=function(){return 0},a.prototype.isInside=function(){return!1},a.prototype.isDragging=function(){return!1},a.prototype.getDragElement=function(){return null},a.prototype.getMoveables=function(){return Et([],F(this.moveables),!1)},a.prototype.updateRenderPoses=function(){},a.prototype.checkUpdate=function(){},a.prototype.triggerEvent=function(){},a.prototype.updateAbles=function(){},a.prototype._updateEvents=function(){},a.prototype._updateObserver=function(){},a}(Xi);function J1(e,a){var n=[];return e.forEach(function(i){if(i){if(_a(i)){a[i]&&n.push.apply(n,Et([],F(a[i]),!1));return}$e(i)?n.push.apply(n,Et([],F(J1(i,a)),!1)):n.push(i)}}),n}function $1(e,a){var n=[];return e.forEach(function(i){if(i){if(_a(i)){a[i]&&n.push.apply(n,Et([],F(a[i]),!1));return}$e(i)?n.push($1(i,a)):n.push(i)}}),n}function ty(e,a){return e.length!==a.length||e.some(function(n,i){var l=a[i];return!n&&!l?!1:n!=l?$e(n)&&$e(l)?ty(n,l):!0:!1})}var bE=function(e){ml(a,e);function a(){var n=e!==null&&e.apply(this,arguments)||this;return n.refTargets=[],n.selectorMap={},n._differ=new Gm,n._elementTargets=[],n._tmpRefTargets=[],n._tmpSelectorMap={},n._onChangeTargets=null,n}return a.makeStyled=function(){var n={},i=this.getTotalAbles();i.forEach(function(u){var c=u.css;c&&c.forEach(function(f){n[f]=!0})});var l=Yi(n).join(`
`);this.defaultStyled=Xm("div",VS(rv,a2+l))},a.getTotalAbles=function(){return Et([U1,Cv,Z1,H1],F(this.defaultAbles),!1)},a.prototype.render=function(){var n,i=this.constructor;i.defaultStyled||i.makeStyled();var l=this.props,u=l.ables,c=l.props,f=qx(l,["ables","props"]),v=F(this._updateRefs(!0),2),p=v[0],g=v[1],y=J1(p,g),m=y.length>1,b=i.getTotalAbles(),x=Et(Et([],F(b),!1),F(u||[]),!1),S=Y(Y(Y({},f),c||{}),{ables:x,cssStyled:i.defaultStyled,customStyledMap:i.customStyledMap});this._elementTargets=y;var C=null,T=this.moveable,M=f.persistData;if(M!=null&&M.children&&(m=!0),f.individualGroupable)return ut.createElement(yE,Y({key:"individual-group",ref:Gn(this,"moveable")},S,{target:null,targets:y}));if(m){var A=$1(p,g);if(T&&!T.props.groupable&&!T.props.individualGroupable){var O=T.props.target;O&&y.indexOf(O)>-1&&(C=Y({},T.state))}return ut.createElement(mE,Y({key:"group",ref:Gn(this,"moveable")},S,(n=f.groupableProps)!==null&&n!==void 0?n:{},{target:null,targets:y,targetGroups:A,firstRenderState:C}))}else{var R=y[0];if(T&&(T.props.groupable||T.props.individualGroupable)){var _=T.moveables||[],N=Dr(_,function(z){return z.props.target===R});N&&(C=Y({},N.state))}return ut.createElement(Xi,Y({key:"single",ref:Gn(this,"moveable")},S,{target:R,firstRenderState:C}))}},a.prototype.componentDidMount=function(){this._checkChangeTargets()},a.prototype.componentDidUpdate=function(){this._checkChangeTargets()},a.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},a.prototype.getTargets=function(){var n,i;return(i=(n=this.moveable)===null||n===void 0?void 0:n.getTargets())!==null&&i!==void 0?i:[]},a.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},a.prototype.waitToChangeTarget=function(){var n=this,i;return this._onChangeTargets=function(){n._onChangeTargets=null,i()},new Promise(function(l){i=l})},a.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},a.prototype.getManager=function(){return this.moveable},a.prototype.getMoveables=function(){return this.moveable.getMoveables()},a.prototype.getDragElement=function(){return this.moveable.getDragElement()},a.prototype._updateRefs=function(n){var i=this.refTargets,l=mv(this.props.target||this.props.targets),u=typeof document<"u",c=ty(i,l),f=this.selectorMap,v={};return this.refTargets.forEach(function p(g){if(_a(g)){var y=f[g];y?v[g]=f[g]:u&&(c=!0,v[g]=[].slice.call(document.querySelectorAll(g)))}else $e(g)&&g.forEach(p)}),this._tmpRefTargets=l,this._tmpSelectorMap=v,[l,v,!n&&c]},a.prototype._checkChangeTargets=function(){var n,i,l;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var u=this._differ.update(this._elementTargets),c=u.added,f=u.removed,v=c.length||f.length;v&&((i=(n=this.props).onChangeTargets)===null||i===void 0||i.call(n,{moveable:this.moveable,targets:this._elementTargets}),(l=this._onChangeTargets)===null||l===void 0||l.call(this));var p=F(this._updateRefs(),3),g=p[0],y=p[1],m=p[2];this.refTargets=g,this.selectorMap=y,m&&this.forceUpdate()},a.defaultAbles=[],a.customStyledMap={},a.defaultStyled=null,Yx([GS(o2)],a.prototype,"moveable",void 0),a}(ut.PureComponent),SE=function(e){ml(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a.defaultAbles=hE,a}(bE);function Cu(){return(Cu=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ey(e,a){if(e==null)return{};var n,i,l={},u=Object.keys(e);for(i=0;i<u.length;i++)a.indexOf(n=u[i])>=0||(l[n]=e[n]);return l}function Bd(e){var a=ut.useRef(e),n=ut.useRef(function(i){a.current&&a.current(i)});return a.current=e,n.current}var Ii=function(e,a,n){return a===void 0&&(a=0),n===void 0&&(n=1),e>n?n:e<a?a:e},ll=function(e){return"touches"in e},jd=function(e){return e&&e.ownerDocument.defaultView||self},em=function(e,a,n){var i=e.getBoundingClientRect(),l=ll(a)?function(u,c){for(var f=0;f<u.length;f++)if(u[f].identifier===c)return u[f];return u[0]}(a.touches,n):a;return{left:Ii((l.pageX-(i.left+jd(e).pageXOffset))/i.width),top:Ii((l.pageY-(i.top+jd(e).pageYOffset))/i.height)}},rm=function(e){!ll(e)&&e.preventDefault()},Ev=fe.memo(function(e){var a=e.onMove,n=e.onKey,i=ey(e,["onMove","onKey"]),l=ut.useRef(null),u=Bd(a),c=Bd(n),f=ut.useRef(null),v=ut.useRef(!1),p=ut.useMemo(function(){var b=function(C){rm(C),(ll(C)?C.touches.length>0:C.buttons>0)&&l.current?u(em(l.current,C,f.current)):S(!1)},x=function(){return S(!1)};function S(C){var T=v.current,M=jd(l.current),A=C?M.addEventListener:M.removeEventListener;A(T?"touchmove":"mousemove",b),A(T?"touchend":"mouseup",x)}return[function(C){var T=C.nativeEvent,M=l.current;if(M&&(rm(T),!function(O,R){return R&&!ll(O)}(T,v.current)&&M)){if(ll(T)){v.current=!0;var A=T.changedTouches||[];A.length&&(f.current=A[0].identifier)}M.focus(),u(em(M,T,f.current)),S(!0)}},function(C){var T=C.which||C.keyCode;T<37||T>40||(C.preventDefault(),c({left:T===39?.05:T===37?-.05:0,top:T===40?.05:T===38?-.05:0}))},S]},[c,u]),g=p[0],y=p[1],m=p[2];return ut.useEffect(function(){return m},[m]),fe.createElement("div",Cu({},i,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:l,onKeyDown:y,tabIndex:0,role:"slider"}))}),Eu=function(e){return e.filter(Boolean).join(" ")},Tv=function(e){var a=e.color,n=e.left,i=e.top,l=i===void 0?.5:i,u=Eu(["react-colorful__pointer",e.className]);return fe.createElement("div",{className:u,style:{top:100*l+"%",left:100*n+"%"}},fe.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:a}}))},pr=function(e,a,n){return a===void 0&&(a=0),n===void 0&&(n=Math.pow(10,a)),Math.round(n*e)/n},ry=function(e){var a=e.s,n=e.v,i=e.a,l=(200-a)*n/100;return{h:pr(e.h),s:pr(l>0&&l<200?a*n/100/(l<=100?l:200-l)*100:0),l:pr(l/2),a:pr(i,2)}},Ld=function(e){var a=ry(e);return"hsl("+a.h+", "+a.s+"%, "+a.l+"%)"},$f=function(e){var a=ry(e);return"hsla("+a.h+", "+a.s+"%, "+a.l+"%, "+a.a+")"},xE=function(e){var a=e.h,n=e.s,i=e.v,l=e.a;a=a/360*6,n/=100,i/=100;var u=Math.floor(a),c=i*(1-n),f=i*(1-(a-u)*n),v=i*(1-(1-a+u)*n),p=u%6;return{r:pr(255*[i,f,c,c,v,i][p]),g:pr(255*[v,i,i,f,c,c][p]),b:pr(255*[c,c,v,i,i,f][p]),a:pr(l,2)}},CE=function(e){var a=e.r,n=e.g,i=e.b,l=e.a,u=Math.max(a,n,i),c=u-Math.min(a,n,i),f=c?u===a?(n-i)/c:u===n?2+(i-a)/c:4+(a-n)/c:0;return{h:pr(60*(f<0?f+6:f)),s:pr(u?c/u*100:0),v:pr(u/255*100),a:l}},EE=fe.memo(function(e){var a=e.hue,n=e.onChange,i=Eu(["react-colorful__hue",e.className]);return fe.createElement("div",{className:i},fe.createElement(Ev,{onMove:function(l){n({h:360*l.left})},onKey:function(l){n({h:Ii(a+360*l.left,0,360)})},"aria-label":"Hue","aria-valuenow":pr(a),"aria-valuemax":"360","aria-valuemin":"0"},fe.createElement(Tv,{className:"react-colorful__hue-pointer",left:a/360,color:Ld({h:a,s:100,v:100,a:1})})))}),TE=fe.memo(function(e){var a=e.hsva,n=e.onChange,i={backgroundColor:Ld({h:a.h,s:100,v:100,a:1})};return fe.createElement("div",{className:"react-colorful__saturation",style:i},fe.createElement(Ev,{onMove:function(l){n({s:100*l.left,v:100-100*l.top})},onKey:function(l){n({s:Ii(a.s+100*l.left,0,100),v:Ii(a.v-100*l.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+pr(a.s)+"%, Brightness "+pr(a.v)+"%"},fe.createElement(Tv,{className:"react-colorful__saturation-pointer",top:1-a.v/100,left:a.s/100,color:Ld(a)})))}),ay=function(e,a){if(e===a)return!0;for(var n in e)if(e[n]!==a[n])return!1;return!0};function wE(e,a,n){var i=Bd(n),l=ut.useState(function(){return e.toHsva(a)}),u=l[0],c=l[1],f=ut.useRef({color:a,hsva:u});ut.useEffect(function(){if(!e.equal(a,f.current.color)){var p=e.toHsva(a);f.current={hsva:p,color:a},c(p)}},[a,e]),ut.useEffect(function(){var p;ay(u,f.current.hsva)||e.equal(p=e.fromHsva(u),f.current.color)||(f.current={hsva:u,color:p},i(p))},[u,e,i]);var v=ut.useCallback(function(p){c(function(g){return Object.assign({},g,p)})},[]);return[u,v]}var AE=typeof window<"u"?ut.useLayoutEffect:ut.useEffect,ME=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},am=new Map,OE=function(e){AE(function(){var a=e.current?e.current.ownerDocument:document;if(a!==void 0&&!am.has(a)){var n=a.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,am.set(a,n);var i=ME();i&&n.setAttribute("nonce",i),a.head.appendChild(n)}},[])},RE=function(e){var a=e.className,n=e.hsva,i=e.onChange,l={backgroundImage:"linear-gradient(90deg, "+$f(Object.assign({},n,{a:0}))+", "+$f(Object.assign({},n,{a:1}))+")"},u=Eu(["react-colorful__alpha",a]),c=pr(100*n.a);return fe.createElement("div",{className:u},fe.createElement("div",{className:"react-colorful__alpha-gradient",style:l}),fe.createElement(Ev,{onMove:function(f){i({a:f.left})},onKey:function(f){i({a:Ii(n.a+f.left)})},"aria-label":"Alpha","aria-valuetext":c+"%","aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"},fe.createElement(Tv,{className:"react-colorful__alpha-pointer",left:n.a,color:$f(n)})))},DE=function(e){var a=e.className,n=e.colorModel,i=e.color,l=i===void 0?n.defaultColor:i,u=e.onChange,c=ey(e,["className","colorModel","color","onChange"]),f=ut.useRef(null);OE(f);var v=wE(n,l,u),p=v[0],g=v[1],y=Eu(["react-colorful",a]);return fe.createElement("div",Cu({},c,{ref:f,className:y}),fe.createElement(TE,{hsva:p,onChange:g}),fe.createElement(EE,{hue:p.h,onChange:g}),fe.createElement(RE,{hsva:p,onChange:g,className:"react-colorful__last-control"}))},_E={defaultColor:{r:0,g:0,b:0,a:1},toHsva:CE,fromHsva:xE,equal:ay},zE=function(e){return fe.createElement(DE,Cu({},e,{colorModel:_E}))};const Ys=(e,a=1)=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a}:{r:0,g:0,b:0,a:1}},nm=e=>{const a=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);return a?{r:parseInt(a[1],10),g:parseInt(a[2],10),b:parseInt(a[3],10),a:a[4]?parseFloat(a[4]):1}:{r:0,g:0,b:0,a:1}},td=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`,Ps=e=>`#${[e.r,e.g,e.b].map(a=>{const n=a.toString(16);return n.length===1?"0"+n:n}).join("")}`;function sa({value:e,onChange:a,className:n=""}){const[i,l]=ut.useState(!1),[u,c]=ut.useState(()=>!e||typeof e!="string"?{r:0,g:0,b:0,a:1}:e.startsWith("#")?Ys(e,1):e.startsWith("rgba")||e.startsWith("rgb")?nm(e):{r:0,g:0,b:0,a:1}),[f,v]=ut.useState(()=>Ps(u)),p=ut.useRef(null),g=ut.useRef(null),[y,m]=ut.useState({top:0,left:0,placement:"bottom"});ut.useEffect(()=>{if(!e||typeof e!="string")return;let T;e.startsWith("#")?T=Ys(e,u.a):(e.startsWith("rgba")||e.startsWith("rgb"))&&(T=nm(e)),T&&(c(T),v(Ps(T)))},[e,u.a]),ut.useEffect(()=>{const T=M=>{var A;p.current&&!p.current.contains(M.target)&&!((A=g.current)!=null&&A.contains(M.target))&&l(!1)};return i&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[i]);const b=T=>{c(T),v(Ps(T)),a(td(T))},x=()=>{if(!g.current)return;const T=g.current.getBoundingClientRect(),M=window.innerHeight,A=window.innerWidth,O=300,R=250,_=g.current.closest(".modal-content"),N=_==null?void 0:_.getBoundingClientRect();let z=T.bottom+4,j=T.left,H="bottom";if(N){const P=N.bottom,q=N.right,U=N.top,$=N.left;if(z+O>P){const G=T.top-O-4;G>=U?(z=G,H="top"):z=P-O-10}j+R>q&&(j=q-R-10),j<$&&(j=$+10)}else z+O>M&&(z=T.top-O-4,H="top"),j+R>A&&(j=A-R-10),j<10&&(j=10);m({top:z,left:j,placement:H})},S=()=>{i||x(),l(!i)},C={backgroundColor:td(u)};return E.jsxs("div",{className:`color-picker-wrapper ${n}`,children:[E.jsx("button",{ref:g,type:"button",className:"color-picker-button",onClick:S,style:C,title:`Color: ${td(u)}`,children:E.jsx("span",{className:"color-picker-preview",style:C})}),i&&E.jsxs("div",{ref:p,className:"color-picker-popover",style:{position:"fixed",top:`${y.top}px`,left:`${y.left}px`,zIndex:10001},children:[E.jsx(zE,{color:u,onChange:b}),E.jsxs("div",{className:"color-picker-info",children:[E.jsxs("div",{className:"color-input-row",children:[E.jsx("label",{children:"Hex:"}),E.jsx("input",{type:"text",value:f,onChange:T=>{v(T.target.value)},onBlur:T=>{let M=T.target.value.trim();if(M=M.replace(/^#/,""),/^[0-9A-Fa-f]{6}$/.test(M)){const A=Ys("#"+M,u.a);b(A)}else if(/^[0-9A-Fa-f]{3}$/.test(M)){M=M.split("").map(O=>O+O).join("");const A=Ys("#"+M,u.a);b(A)}else v(Ps(u))},onKeyDown:T=>{T.key==="Enter"&&T.currentTarget.blur()},className:"hex-input",placeholder:"#ffffff"})]}),E.jsxs("div",{className:"color-input-row",children:[E.jsx("label",{children:"Alpha:"}),E.jsx("input",{type:"number",min:"0",max:"100",value:Math.round(u.a*100),onChange:T=>{const M=Math.max(0,Math.min(100,parseInt(T.target.value)||0))/100;b({...u,a:M})},className:"alpha-input"}),E.jsx("span",{children:"%"})]})]})]})]})}var ny={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},im=fe.createContext&&fe.createContext(ny),NE=["attr","size","title"];function BE(e,a){if(e==null)return{};var n=jE(e,a),i,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)i=u[l],!(a.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function jE(e,a){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(a.indexOf(i)>=0)continue;n[i]=e[i]}return n}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fu.apply(this,arguments)}function om(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,i)}return n}function du(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?om(Object(n),!0).forEach(function(i){LE(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function LE(e,a,n){return a=VE(a),a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function VE(e){var a=GE(e,"string");return typeof a=="symbol"?a:a+""}function GE(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,a);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function iy(e){return e&&e.map((a,n)=>fe.createElement(a.tag,du({key:n},a.attr),iy(a.child)))}function da(e){return a=>fe.createElement(kE,fu({attr:du({},e.attr)},a),iy(e.child))}function kE(e){var a=n=>{var{attr:i,size:l,title:u}=e,c=BE(e,NE),f=l||n.size||"1em",v;return n.className&&(v=n.className),e.className&&(v=(v?v+" ":"")+e.className),fe.createElement("svg",fu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:v,style:du(du({color:e.color||n.color},n.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&fe.createElement("title",null,u),e.children)};return im!==void 0?fe.createElement(im.Consumer,null,n=>a(n)):a(ny)}function ed(e){return da({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z"},child:[]}]})(e)}function rd(e){return da({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"},child:[]}]})(e)}function ad(e){return da({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"},child:[]}]})(e)}function HE(e){return da({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(e)}function UE(e){return da({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"},child:[]}]})(e)}function $s(e){return da({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM184 232l144 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"},child:[]}]})(e)}function sl(e){return da({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(e)}function XE(e){return da({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M352 144c0-44.2 35.8-80 80-80s80 35.8 80 80l0 48c0 17.7 14.3 32 32 32s32-14.3 32-32l0-48C576 64.5 511.5 0 432 0S288 64.5 288 144l0 48L64 192c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-32 0 0-48z"},child:[]}]})(e)}function IE(e){return da({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"},child:[]}]})(e)}function qE(e){return da({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"},child:[]}]})(e)}const YE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALlElEQVR4nO3db2wT9x3H8TfBDk7AiQmxCQmJ00BwGW4hqLS0BGmsLFWldVu7jnVU2lppQqObuu4Bz6Y92KQ+map11dpOFVIf0TFUtXRs68r404p00DWFFaypLiRtQuL8cf44MYlN7Ig9cH3k4j/n/45z35cUyXe++90Xk4/vfr/7nbKMw7dIgRF4CPgmsANoASzAilR2FkLkzU3AB/QAHwP/At4DQlo7LtMIvwV4DngGsGZXoxCiQEaBl4EXiXwxxJUs/E98tfPa3NYlhCiQYSIn76Px3iyLs2458ArwZyT4QpSytURy/AqRXKssDP9y4BhwMP91CSEK5CCRXKu+ABaG/0XgsQIVJIQonMeAP8xfMT/8PwB+XtByhBCF9DMiOQduh98CvFSMaoQQBfUSkbwr4X8OsBWpGCFE4diI5J1lHL5VDvQj9/GF0AsvsL4M6ECCL4SeWIEOA5Hwixyz+66x5WpkbsVU1UY6HU8k3Wao7gEuNn5Dea/dfZSqqWuax1m4X1R5OMDeSy9obqd1rKmqjfiqmnGt25n2vonq3H79DHVD/0647diarfTatjO0qkGzXZGxhwzA9mJXsRStCM1g9rlS3mZszVbVe1VT1zT3j7dflHPwvGp/Y2gqYfiTHcvsc9EANPU7ubj56ZhAZlKnMTSddB+zz0Vz9xGu3nkgYc0ia9sNwKZiVyGSG6nfy0xF/MmWE2Z73PXRM2vYaMEQ8mGa7sM5eCHhGTzesSoDw9R4uzCEfJh9LnZ1/ZYT7b9n1lCRszonrDuZrNqgLFdPdbPaewGA1s9ew7PaIVcA+dFqAKqLXYVIbsB2L59b7055+7obA8qZ9YsN+7ij+xiGkA/ruAs0wr/wWOXhJ9l76QXMPheGkI9d7iOc3fKTnNQJMFm1gY9aHlGta3cfpaHvOAD2kYsS/vyoLgPKi12FyK2NA+eU1z3WbYxb7wGgxttFeTiQVluzhgoubn5aWbZ5TmEJjuem0ARGar6W1/YFAOXxHuwReVAeDsT85Gv/NWMXgcgltc9Ug7fGCYAh5MM5eD7t2odWNeC3OJVlm78/J3UmYhv/X9r7iPQZil2AHph9Lh49+7T2hgm0/fd52uKsf3vP6zH9b+fgBUzTfQCMrolcgrvW7cThjvT9a8cuQwaDaIHKOs2BvXTqjKqe6ua+nhPKcmVgGJvnFBAZr3DX70q7VpEaCf8SYx2/HdAe6zbl9bj1HmyeU6z2XqDuxkDa/eiQYZXyujw8k3WdUau9F5QBvvnCRgtux1P4TDU5O5ZQk/AXgN/i5Frzt2PWrwqO0vrZa5r7X73zADdMtTHrF55Ny8MBarxdAARXNuHwfKi8ZwzdUF7XT7jTDv/8e/mzhsqs6pwvuLKJkLEKQLmyCBstnN75vAQ/zyT8BRJvFHyT93JK+94w1aY0iu4cPI8h5APANN1Hc/eRuNs1Xv9nWvfPy8MBKqZv9/OnKtZkVed8Q3W7ldH+6Ci/IeTD4fkw5i6AyC0Z8FtCasduf5n4Lc6Yn+DKJiDyxWD3ac/Ki7q3+x3lS2XCujNvt97+s+E7hI0WAJq7j6RVo0ifnPlLwKrgaNKrhM+td1N3Y0DpO/stTv6x41cx222/fkbpZjQOd9Fr2Zj0WKuCo9SOXVb1yd3N38qqzmRmDRW4HU+xxfUiAI4v/0bvtueS7iMyJ+EvAVrjAl/ueZ36CbeyPFT3QNzteqzbaP0s8nrt4PsQ53mDRMcKGy18sWFf3C+MdOpM1v+HyJ2J+uGdykDg9utnZIpvnshl/xIx/0EZz2pH3G18phomrJEZfpF7/rGj7Av5LU4Gmr7L6Z3PFyyElzd+X3l9R/cx6m4MFOS4erOMw7dS+qsdIn3RCS7JznbJtkl1gsysoUK1rdbZNd4xEx1Lq61k+yZrS+uzSeffIzIj4RdCp+SyXwidkvALoVMSfiF0SsIvhE5J+IXQKQm/EDol4RdCpyT8QuiUhF8InZLwC6FTEn4hdErCL4ROSfiF0CkJvxA6JeEXQqck/ELolIRfCJ2S8AuhUxJ+IXRKwi+ETkn4hdApCb8QOiXhF0KnJPxC6JSEXwidkvALoVMSfiF0SsIvhE5J+IXQKUO+GrbO+qi5Oa4sj6+owVtuSbsdh78no+P3VdYTWG7KWTv2wCCmFP8Udao1LXWpfOZuc0vG7aW6b8VckKYZD9aZAWWdt7Ih5f+PdI+b7Hc/Wks2goYKeivWZdUG5DH8jokrOK+/oSy7GvfjXbs77Xb2uH+X0fHPOg6p/pOybWdH/wlqJy9l1Eaimpa6VD7zPUDIYMZbvRV37f1JP5+F7bnveTVp2w5/D47R89SPdSbcZrS6jSt1e3N73CS/+00znox/F6NGq9vobT2QVRuQx/ALkSpj2E/9WCf1Y5202Dp4t+nRrNt80PMerZ7jmtvVTl5iz+QlrI376czg5FTKpM8vFhX7yEnah89l1cbDfW/HDX7IYGa0ui3uPs7rb3DvWFdWxy01JXfm/5PGJVe+2nkzwWWWw9+juowbrW5LuK3exfvMHf4e7ho6pepSOQZP8EntjozGR9qHz2EfOalaN1rdxsfrH1H1kx3+Hrb3v0P19OfKuruuH+ML88aMxqZS5Ta3JOw2PH71NdXnkO9uopz5RVG5zS38veVHhAxmZZ0x7M9oUKxiLohj8IRqXa+tgzdbD8QMkLnNLRzfdJAZU72yzlu9lcq57AZ1S0nJnfnF0hNYbmJy5UbVWc86M5D2We8unwtj2K8shwxm3m94OOlxP13/GLUz/VyuvS+vZ/zFSMIvFiX/ipq096mbcquWv7Q9qNl1+NSyBSxb0j7WUlBy4de6d6y3e+lLgT0wGHMb1VPZkHY7K4MjquXRyvVZ1ZWI1u+g+eZoXo6bayUXfq17pKkOkvy062BO2hGpizeKv2JuhuaR06p1o9VtGV2Czx+8Awgur0i7jVRke59+sSi58IvSNX/iSyIzpno+sO/LWw1aX/ouHd3vl/CLRaPX1sH7DQ9Lt61ASi78ubrPf9ZxKOn7fZX1Sd8X6Zs/wcYYnlZdpnvWtGc9s29y5SZVm6Y4t+3iTfJJd9q21u9g+/C5lK5yiq3kwp8r0p8vvPmTnyrmguy/8mvl1lz9WCdbV2+LjL5naNpkU4W/dqY/ZiQ/3gQsra7AUiWTfERRBJab6Gr+sWrd1v63qJgLZtzmUJVDtdw8clqzvWyOV+ok/KJoPrVsUV2GVwY9PDD8QcbtXbE4Y2YKfn3g3aT7aL2/lBXsst98czSl57u1nvtP9bn8XD3zLPLrA/s+vnf5dp+71XOcfnNrRt2ywHIT7nWPqPrb9pGTPH7Ty1XrLlWXwh4YZOvQmaSP+y51BQu/feRkzAMX8Wg995/qPdZcPfMs8stbbsHVuF8V2Pt6j9C3+VBGo/6da3dTM9OnCnXt5CVqJy9xf4J9QgazalqwXshlvyi6zrW7VQ/YZHv5/9c7nqTX1pHStpMrN3GlMX/zChYzCb9YFD6yP6labvUcxx4YzLi9d5se5azjEJ417XHfnzHV42rcz583/5LJ8vSfI1gKlnH41q1iFyFEvs0fK5LxoAjd3ucX+iLzOmLJZb8QOiXhF0KnJPxC6JSEXwidkvALoVNlwGyxixBCFNxsGTBZ7CqEEAU3WQZcLXYVQoiCu1oGfFLsKoQQBXexDNB+1E4IsdScjIZ/rNiVCCEKxgu8Fx3t/2ORixFCFM4rwOwyDt8CsABuwFbMioQQeecFNgG+6CQfH/Bs0coRQhTKs0Tyrprh9xfg5WJUI4QoiJeBo9GFhdN7fwG8VdByhBCF8BaRfCsWhn8O2Afk5s/iCCEWg1eJ5Hpu/sp4D/bMAc8APwRG4rwvhCgNI0Ry/AwLgg/Jn+o7CjiA3yDzAIQoJWNEcutgXh9/oeitPi1G4CGgA9gBtACrv1ovhCieEDAB9AAfE5m0d5IUntb9PzOM+lmUFUMyAAAAAElFTkSuQmCC",PE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALR0lEQVR4nO3dW2xbdx0H8G+OLzmeHTu2mzRp1qUJi7OtsLE2FRUdlFojhYetE7tQhARI3KZ168om7QWB0PYALxVQ1g1QEbwwdWMMwQNs3dRpSEObunXaRgVL1qA0lzpJ7caO764dHk4c+8THPr4dO/b5fqRIPrf/+dX17/wv53/sDq/XCzWrgtHk7x87GOgfGw+5RvfEbduGU2abc1UwmlQPJiLNdGSupUzJ8FUxPD9lD3x0znX5nTOuy++cETLXkqrHlkr+a2Zb98xN9/1gduTQkVSn3V3XqIlIE6ZEyH/95F9Pbv/viz83JsPLxfYrmvwLgwcOT+5++JdJsbtXqyCJSDvm+PLiyLtPP7p1+vXTStsNQ0NDshWrHYJhYs/Rkxc//d2fpY2itSFRElHdpY2idemGz9+XFJ1b3ZfPvdyB1dX87bLkX+0QDP++48cv+IbGv9HwSIlIEyvu0T2R7qFP9s7888/5FwBZ8k+OPfIr3/D4N5sSIRFpJuoYvPlap8Ptnn/779l1QvbFwuAXvjrrOXSkOaERkdZmPYeOLAweOJxdFgBpVH9y9yMnmhcWETXCxNjDJ66Zbd3AWvLPjN57jKP6RO0v1dndMzN67zEAEDKC0TzruefhJsdERA0y67n7oYxgNAuB/rFxTuAh0o9UZ3dPoH/PQWOgf2y82cG0oyM3AI/tll5PBoAvvVF6n9enge+cz217eT8w4lI/z8bjsjwi8I8vq++ndq7JAHDhCvD4hcqPLRbnqV3AgcHi+757GXhpCji9qF4uVSfQPzZuXHF5djc7kHbkMgPDKkmRv8+7l+XbRlzqxysdl/XELfLjbWYARZK/1LmGXcDBG4F7PMAP3yxMyGritKu8N8Mu4P6dwJ3vFb9gUW1WXCO7jNGugZFmB0Kl/esSMLeivO3DK8rrszVrJAlYzUCvDTi+s3gNrnSugS7gtj7p+GEXcOogcP5PwES8fnF+4AM+8ueWR93ArX3S62/fDrw2yxaAFqJdAyPGtMnmaHYgVNrL/wOe+rj8/Q/35mrW0xeAwzulBN67DYBK8m88V7b7MOySyvj954B9r9YnTkBK/Afe2lDOfqm1AQBfGWbyayFtsjmEjGA0NzsQqq9v3Zx7/dxF4H2f9Pq2PimZKzERl5r7WZ+9AfBqXF28Oadt+QRkBKNZUN+N6sEjFv5pdfzta83mD3zA2SDw1ry0bDVLYwGVOr0ITAVyy/t66hNnMfsGKj+GKmdsdgB6MOwCPvp69cc/uR94UmH96B8L+9/Hd0r9ewA4tzbI9vgF4Pu7pOTf019dDL6w+sBeJXGub3MDL+zNLQ90Sa0LQBqv+PV/qgqXysDkbzN7t+VeP3cx9/p9n5RUt/ZJYwKV9qNX8r4Xpruzthjz3dqXG+DLF0kCvzkvtVxIG0z+BpgKAH/4sHD9oF0a0Vbzu/eA6VDh+o21qUeU+vUAsBgGHrwZeHBtmy1vZOfO6ytP/vx7+cuJ2uLMtxgGwmsXlmzLIpIE7v4bE19rTP4GURoF/9GN5R07HSpvFP2JW6SmPSA1/e/fqbzfXSMoes9fiUcEttpyy5MKCV5JnPnemM6N9mdH+a1m6cJ19q3Sx1JtOODXRvL781OBwr/FsLSt1ybNLizXic/kLiof+LS79Xb0banWB6QLVyUxUuVY87eAQXvpVsJTH0v9+GzfeSoAfOIvhfud2pXrZtw1BJy8VPpcg3bpgpLfJ/+tQvelkjhLmYhL/fzH1gYAv/cp5RipPpj8LUBtXOD5Wakfn/X6tPJ+z13MlXVHkVq12LkiSWnCUKlkLCfOUv1/QLozceeO3EDgqV2c4qsVNvvbRP6DMq/NKu9zNig12wGpGX+8yJhAvqkA8MrH0gBco5Lwp+dyrw/vlFo1VH8dOCX/Rk+qn+wEl1K1Xal9yp0gMxGX76tWuyqds9i51MoqdWypstTem0r+PVQdJj+RTrHZT6RTTH4inWLyE+kUk59Ip5j8RDrF5CfSKSY/kU4x+Yl0islPpFNMfiKd6vB6vZzeS6RDrPmJdIrJT6RTTH4inWLyE+kUk59Ip5j8RDrF5CfSKSY/kU4x+Yl0islPpFNMfiKdYvIT6RSTn0inmPxEOsXkJ9IpJj+RTjH5iXSKyU+kU0atCjabzTCZTOvLqVQKyWSy4nKsVmtV54/H40in03UrRxRFGAyGqsooFlO7K+c9j0QiVZdX7rEGgwGiKEIUc7/7HY/Hy/7/qPS8pT772VhqkU6nEY/X/rvlmiV/V1cX3G73+rLf74ff76+4nIGBgarOPzc3J/tPqrWcnp4eWCyWqsooFlO7K/c9z2QyiEajCAaDJd+fjeVNTEyULNdqtcLhcMBmsxXdJxaLIRAI1PW8pT77oihW/VnMisVimJmZqakMQMPkJyqXIAiw2Wyw2WwIhULw+Xw1l9nT0wOn06m6n8ViwcDAQNWVUytjn582FbvdLqs1q9HX16eY+JlMBrFYTPEYt9uN7u7ums7balqu5ldrcmlVTrFmltVqlTXj6tUka0dK77nVaoXL5ZJ1qZxOJ5aXl6saH3G73bDb7bJ1sVgMS0tLsn6y1WrFli1b0NnZub5uy5YtiEajVY1NlSsSiRT97G3fvl32PmjdTWTNT00ViUQwPz+PTCazvk4QhKoGxQwGQ0GNHwqFMDMzUzBAFolEMDs7i1Qqtb4uGo1CEPSTEi1X81P7SafTSCQSslpPFMWKa72uri5Z8mYyGSwtLZU8r9/vR2dnJ4LBoKY1/mbE5KdNKb9GLtd1110nWw4Gg6pdh1AoVPF52kXLJb/avWO93UtvB6IoFtxGreY+dv69dQBIJBI1xVWM2mdwYxybVcslv9o90nIHSTweT13KofIpjeILggCHwyFbF4vFqmqC5w/eAdCsEqj1Pv1m0XLJT62rnFt4qVQKCwsLmsWgdtHX0/1+Jj9tGqFQCEtLS+y2NUjLJX+97vPPzc2V3F6PudMklz/BRhAEWTM9HA7XPLMvkUjIylR6FkNpkk+l07bVPoNut7vmiUqN0HLJXy/szzde/uQng8GAoaGh9VtzNpsNdru9ptH3VColS/6NYwAbY8hS6wq0K/3MaKBNJZ1OY3FxUbbO7XbX9ORkNBqVLTscDtXyan1Ss5Ux+alpQqGQrBluMpngcrmqLm9lZaVgpmBPT0/JY9S2t7OGNftNJlNZz3erPfdf7nP59XrmmbS1sLCAHTt2rC87nU5Eo9GqumXpdBpXr16V9bftdjtMJhOCwaCsSyGKIlwuV8nHfdtdw5LfbrcXPHChRO1WS7n3WPmATWtIJpPw+/2yhO3t7cWlS5eqGvXPTtfNT2qLxQKLxYK+vj7FYzKZjK7m9Gfp719Mm47f75dN5621+T8/P1/2wGEikcCVK1eqPlcrY/LTprBx8M/pdNb0dVc+nw9zc3MIh8OK21OpFPx+P6anp6t6jqAddHi93tVmB0GktfyxIo4HSXR7n5/0hfM6CrHZT6RTTH4inWLyE+kUk59Ip5j8RDolANDXtxYSEQAkBQDBZkdBRA0XFADU59sxiKiVTAoAzjc7CiJquPMCgDPNjoKIGu5MNvmL/6wJEbWbJQCvZEf7n2lyMETUOM9gbbQfAH4BYLH4vkTUJhYh5fv6JJ9lAEebFAwRNc5RSPkum+H3PICnmxENETXESUh5DqBweu8xAC82MhoiaoiXADyav2Jj8qcBHAbwbKMiIiLNPQvgAUj5vU7pwZ40gIcAfA2Adr+YSERaW4CUxw9hQ+IDpZ/qOw3gJgA/AecBELWSK5Dy9iZIeayow+v1llOYCcBBAF8EsAfAMIBuAIU/hkZEjZSANHo/BeAcgFcBvAJA9SuJ/w83cs7UC4qdFQAAAABJRU5ErkJggg==",FE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALH0lEQVR4nO3dTYzjZh0G8Md+49iJnQ9P5mNHo6U7UimicEBlr+UwQLfXSggVjnxIq22FClckbr0itWp7gDtFpfeKVvTSa4tUCYQoFbQ73e3OZLM7ySR2YscOh2zSOJPEzoeTSfz8pJHWjj/+M9pn3tfva3uko6MjhJEkSdV1/dlsNvuMpmnXFUU5FEJsARChOxNRnDzP8x64rvu/ZrP5oWVZ7zUajXc6nU4rbEdpUviFEKZpmr8pFAq3HoWdiC45z/MeVKvVNx4+fPh7z/MejttOHB4ejvwgl8s9f3Bw8I6u68/KspyJrVIiWihZljOZTOZ7hULh5+12+9hxnH+M3G54hSRJqb29vT/s7++/KYTYjr9UIoqDEGJ7f3//zb29vT9KkpQa/nw4/GJ/f/+tQqHwyyXVR0QxKxQKv9jf338LQ2N0gfDv7u6+ahjGc0utjIhiZxjGc3t7e68NruuHP5fLPV8sFm8tvywiWoZCoXAzl8v9pLcsA4Asy8Xd3d1XV1cWES3D7u7uK0IIE3gUftM0fy2E2FltWUQUNyHETrFYfAkAZEmS0sVi8YUV10RES1IsFl+QJCmdymazN4QQpVUXtGkcx0Gj0QAApFIp5HK5iduoqopsNtv/7Pz8HO12O/Q8w/v1dDodnJ2dhW4Xdq5UKgVFUaBp2tT7jqvTsiy0WuNvQEun01BVFanUhdkpWgAhRCmbzd5I6br+zKqL2USdTgeu60beJp1OBz5rt9uh+4/ar8e27cD+vu+PDf+kc7muC9u2Yds2crnchUDOUmfYz8Z1XTQaDRiGMbZmmo+u6zdSqqo+tepCaDJN0yDE6McoxrWOvZZVlmX4vg/P89BsNse24KPO5XkeHMeB7/twXRdnZ2colUqQJGlhdabTaSiK0l92XReO4wAA6vU60uk0ewAx0DTtqVQ6nf76qguhyVRVhaqqkbcfbI2z2Swsy4Lv+3AcJzT8w+fqXT64rgvf93F+fo58Pr+QOgFAURTouh5Yd35+Dtu2AXR/iTH8i6coyuOyLMuFVRdCi9ULDtANZK/L7TgOOp3OVMeSJCkwXtFsNuF53mIKHWPcpQwtjizLBVmSJP6kl6DT6Vz4imv/Xrc5nU5DCNEPk+/7gV8MUfUG/XomDfDN+30CX9VP8ZEkKc3+1BK4rotyuTzz/tVqdeT6nZ2dC9ffgy1zL/SapqFer/e7/rMMogkhQgf2pqmzpze419MbmwC64xVhlyk0O4Z/wwy2moPX3+l0Gs1mE47joN1uT30dPRjeWVrzcRzHGdnSy7IMwzDGDiDS/Bj+JVAUZWRr63ke6vV66P7jQjDcmnY6nX6QhBD9FhTodvl7HMeZOvyDXf1xrXjUOgcJISDL3UdMej0LWZZhmiaDHzOGf0lGjYJPutFlkBAi0ii6bdv9kHueF+hOD283Tde/0+kEBvnGhTJqnYM0TeuP9vdG+X3fR7PZvDALQIt14WUetL4Gu8+Kolz4Gp6/j6o3XgAg1nl3wzD6vYBGo8GBv5ix5V8DnudN7CWoqop2u90Pi6IoME3zwnaWZfUvM1qt1sgptcFz9X5JDIZwUo8hSp2TSJIEwzBQq9X69XLaLz4M/xoIGxfY2dkZO9A3SFXVQPhHPW8w7lyyLCObzU4MY5Q6J13/A93LgN7ApOM4sCyLt/jGhN3+DTHY4o4L6PCc/+CA4DiKoiCTycA0zaWF0DCM/r8ty4r04BBNT7p58+bi5m0ooDclNqm1m7RN1Ck1SZIC24a1rqPOOe5cYceatO+kY4X9bKb5fmg27PbHKMp/2knbTPOfft5t5wnYLPuG7cPAx4/dfqKEYviJEorhJ0oohp8ooRh+ooRi+IkSiuEnSiiGnyihGH6ihGL4iRKK4SdKqNQnn3yy6hqIaAXY8hMlFMNPlFAMP1FCMfxECcXwEyUUw0+UUAw/UUIx/EQJxfATJRTDT5RQDD9RQjH8RAnF8BMlFMNPlFAMP1FCMfxECcXwEyUUw0+UULH9ie5W4XG08l/rL6u121Crn059nNrVo5nOr5c/hmhWFnYca/c62mp+pmOMq2nT6boeuk2j0Zj5eFH3FUJA0zRomtZf12w20Ww24Xnews+bTqehKEp/2XVdOI4TqGUenueh2WzOdQwgxvA/uPZD/OtbP+ovf/Ofb2P/4+nD/+HTv53p/Nc/eBn54/cXdpz/fudnON3+xkzHGFfTpjs4OIi0ne/7sCwL1Wp1YrCGjxf2/kld11EoFGAYxthtbNvGgwcPFnreXC6HUqnUX65UKqhUur/0NU2L/HMZx7ZtHB8fz3UMIMbwE0UlyzIMw4BhGKjVarh3797cx9zZ2YFpmqHbZTIZHBwcBAKaFLzmp0sln88HWs1ZXLlyZWTwfd+Hbdsj9ymVSigWi3Odd92sXct/9Kfvr+Q433731sj1tatHgUuK3fv/Hrtt0o3qLuu6jq2tLWQymf460zRxdnYW6Xp8WKlUQj4fHJuxbRvlcjlwnazrOra3t6Gqan/d9vY2LMvqX5/HodFojL1suHr1auDncOfOnanGRKbFlp9WqtFo4O7du/B9v79OluWZBsWEEBda/FqthuPj4wsDZI1GA1988QVc1+2vsywLspycSKxdy0+bx/M8tFqtQKunadrUrV4ulwuE1/d9lMvlieetVCpQVRXVajXWFv8yYvjpUhpskaPKZrOB5Wq1GnrpUKvVpj7Ppli78IfN1ydtLn0TaJoWaPUBzDSPPTi3DgCtVmuuusYJu39huI7Lau3CHzZfH3Uu/f2f/m0hx6HoRo3iy7KMQqEQWGfb9kxd8MHBOwAzDRhGMe88/WWxduGn9RVlCs91XZycnMRWwxNPPDHx8yTN9zP8dGnUajWUy+XYWmwKWrvwL2qe//oHL0/8XC9/vJDz0FcGb7CRZTnQTa/X63Pf2ddqtQLHFEJMrKFneLwhTNjtvaVSae4blZZh7cK/KLyeX77B+9GFEDg8POxPzRmGgXw+P9fou+u6gfAPjwEM19ATdimwqZJzRwNdKp7n4fT0NLCuVCqNbK2jsiwrsFwoFEKPN8/51h3DTytTq9UC3XBFUbC1tTXz8c7Pzy/cKbizszNxn7DPN9nSuv22sRfpmfqw5/6jPpefatWQPf0wcn20GicnJ7h27Vp/2TRNWJY10z3tnufh4cOHgevtfD4PRVFQrVYDlxSapmFra2vi476bbmnh/+yxp/HZY0+Hbhf23H/U5/K7D9gw/Jed4zioVCqBwO7u7uL27dszjfr3btcdDHUmk0Emk8GVK1dG7uP7fqLu6e9J3ndMl06lUgnczjtv9//u3buRBw5brRbu378/87nWGcNPl8Lw4J9pmnO97urevXu4c+cO6vX6yM9d10WlUsHnn38+03MEm0A6OjrqrLoIorgN3o+/qHfgrbvEzvNTssT5Uox1xW4/UUIx/EQJxfATJRTDT5RQDD9RQskA4nnXERFdZo4MILlvMCRKrqoMYPKbCYhoE/1HBvD3VVdBREv3kQzgr6uugoiW7l0ZwHsAxv9ZEyLaNGU8Cr8D4PUVF0NEy/M6Ho32A8ArAOJ7WToRXRYn6Oa9f5PPGYBfraoaIlqal9DNe+AOv7cAvLaCYohoOd4A8OfewvDtvS8BeHuZ1RDRUryNod79cPg9AM+DA4BEm+R1dHMdeCPqqAd7PAAvAvgxgC/jr4uIYvIlujl+EUPBByY/1fcXAE8C+B2A0wnbEdHlcopubp9EN8cjSUdHkf4IhgLgBwBuAPgugMcBFABM9xcOiWjRbABVAJ8C+AjAu+jeuBf6SuL/AyQgVM0rxIjaAAAAAElFTkSuQmCC",WE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALqElEQVR4nO3dW4wbVwEG4H/u9qy9sXdrJ06UZpOyWS1NGylJxQMKBVNCaAXqQ4Cq4iYkpPT+gPpUIfWBPiFRaErbhwqJB1KgkdoHWkRKIyCqEFIbEUgabbKhuSjdkr3v2mPvjMfmwbXj8doe3732/J+0UmY8c87Zzf4+Z86Z8QrxeBxuBEFQdF2/T9f1Qz6fb7+iKOOSJG0SBMHvejIRdUwul0vZtr1sWdaldDp9xjCMk4ZhvJPL5Sy3c4Va4RdFMRQOh58IhUKPS5IUbWuriagjbNu+ubS09OLi4uKxbDa7VO04aefOnRVfCAaDR7Zt2/bHQCDwDVEUhzrVUCJqL1EUh3Rd/9Lw8PD3M5nMVdM0P6x4XIV9UjQaPRaLxV6XZTnW4XYSUYfIshyLxWKvR6PRFwFI614v25ZisdjvgsHgke40j4g6LRQKPSZJ0uaZmZmHANiF/Y6ePxqNPs/gEw2eYDB4JBqNvlC6Tyx58ZuhUOiJ7jeLiLohFAo9GgwGHypsi0B+Vj8SibxQ/TQiGgSRSOR5URRDwKfhD4fDT8myvKWnrSKijpNleUs4HH4KAERBEJRQKPRYrxtFRN0RCoUeEwRBlXVdPyRJUqTXDRo0pmkimUwCAGRZRjAYrHmMpmnQdb342urqKjKZjGs95ecV5HI5LC0tuR7nVpcsy1AUBT6fr+Fzq7XTMAysra1VPVZVVWiaBlkuX4yidpAkKaLr+iF5aGjoq71uzCDK5XKwrNp3WJYeo6qq47VMJuN6fqXzClKplOP8bDZbNfy16rIsC6lUCqlUCsFgcF0gm2mn28/Gsiwkk0kEAoGqbabWDA0NHZI1TdvX64ZQbT6fD5K07h4NAKjaOxZ6VlEUkc1mYds20ul01R68Ul22bcM0TWSzWViWhaWlJYyOjkIQhLa1U1VVKIpS3LYsC6ZpAgASiQRUVeUIoAM0Tdsvq6q6u9cNodo0TYOmaXUfX9ob67oOwzCQzWZhmqZr+MvrKlw+WJaFbDaL1dVVDA8Pt6WdAKAoCoaGnHePr66uIpVKAci/iTH87aeq6rgoimLl/0nqW4XgAPlAFobcpmkil8s1VJYgCI75inQ6Ddu2a5zRumqXMtQ+oihuEgVBaOytmpqSy+XWfXXq/MKwWVVVSJJUDFM2m3W8MdSrMOlXUGuCr9XvE7jVfuocQRBUjqe6wLIszM7ONn3+8vJyxf2RSGTd9Xdpz1wIvc/nQyKRKA79m5lEkyTJdWKvkXYWFCb3CgpzE0B+vsLtMoWax/APmNJes/T6W1VVpNNpmKaJTCbT8HV0aXib6c2rMU2zYk8viiICgUDVCURqHcPfBYqiVOxtbdtGIpFwPb9aCMp701wuVwySJEnFHhTID/kLTNNsOPylQ/1qvXi97SwlSRJEMf+ISWFkIYoiwuEwg99hDH+XVJoFr3WjSylJkuqaRU+lUsWQ27btGE6XH9fI0D+Xyzkm+aqFst52lvL5fMXZ/sIsfzabRTqdXrcKQO1V6cM8qE+VDp8VRVn3Vb5+X6/CfAGAjq67BwKB4iggmUxy4q/D2PP3Adu2a44SNE1DJpMphkVRFITD4XXHGYZRvMxYW1uruKRWWlfhTaI0hLVGDPW0sxZBEBAIBLCyslJsL5f9Oofh7wNu8wKRSKTqRF8pTdMc4a/0vEG1ukRRhK7rNcNYTztrXf8D+cuAwsSkaZowDIO3+HYIh/0DorTHrRbQ8jX/0gnBahRFgd/vRzgc7loIA4FA8d+GYdT14BA1Tjh69Gj71m3IobAkVqu3q3VMvUtqgiA4jnXrXSvVWa0ut7JqnVurLLefTSPfDzWHw/4OqueXttYxjfzSt3psKwFr5ly3cxj4zuOwn8ijGH4ij2L4iTyK4SfyKIafyKMYfiKPYviJPIrhJ/Iohp/Ioxh+Io9i+Ik8Sr548WKv20BEPcCen8ijGH4ij2L4iTyK4SfyKIafyKMYfiKPYviJPIrhJ/Iohp/Ioxh+Io9i+Ik8iuEn8iiGn8ijGH4ij2L4iTyK4SfyKIafyKMYfiKP6tif6JYkCbJ8q/hMJgPbthsuR9O0puq3LAvZbLZt5SiKAlFs7b2yvE2DbmV73PWY4eunmi6v3nNt3yiSkb1IjkwU9w0tTGFo9iyk9Hzb613b9BmsDd9e3NZWrkFbnna0pRXy2gr0m++3VAbQwfD7/X4EAoHidiKRQCKRaLiccDjcVP2Li4tYW1trWznBYBCqqjZVRrU2Dbr3Dz5Tx1HPQLZS2Dx7AbHLf6oZrPLy4sdrh3Blexwzd3wNN7buq3pMdG4Kt1840dZ6F8a+ggt3HiluT54/gdjZfPiTkb11/lyqi85NYc/JDRx+onplFD9ubN2HG1v3YezqF7DrvWdbLvPaPU9jevyw63E3b5vAzYPPYPL8BGJnX2653n7Ca37aUK7sOIiZvY+0VMZ/P/9sxeDLVgrRuamK51y48whmJ7/bUr39pu96/k8++aQn5SwsLFTcr2ma45LCNM2qx3pd/PiX1+1b2R7HtckjuHnbrevxS7sfQHTqD3Vdj5eb2fsIruw46NgXnZvCrn/92nGdvLI9jum7v4elTduL+y7s+TaGP/5H8fq8E4avn6p62XDu0EuOn8OB0881NCfSKPb81FPD109h8u8/gWylivsyir+pSTHbN4pLux9w7Bu7ehp7Tj66boJs+Pop7H33x9CNW28wm2cvwNZCDdfbr/qu56fBI6XnMbJ8zdHrJUcmGu71Fnbej4ziL27LVgo7PjhWs96J/xzH6sg4Nl98o6M9/kbE8NOG5EvMNHzOwua7HdtjV/7meukQvvwmwpcbrmog9F343dbrvbaWPgiM6AFHrw8A+ty5hstJDkUc28GFSy21qxq3+xdSgc0dqbfd+i78buv19a6lb9mypS3lUP0qzeJbagBXxu517IvOTTU1BC+dvAMAyVxpuIx6tLpOv1H0Xfipf5Xe+FKNbsxj/J8/71gbTj38bs3X8zfkeGO9n+GnDWPs6mns+OBYU0t81Li+C3+71vkXFxdrvm5ZVlvqoVtKb7AxFd0xTN/28ZmW7+wLLV93lGmrwzXbUFA+3+Cm0v0KpWb2PlLXKKfX+i787cLr+e7bc/LR4r9t3yje+/pviktzN7buQ/SOBxG+/GbT5Q8lZx3hXx0ZXzeTX9qGArdLgUHFm3yoJ6T0PO4686pj39RdD8P2jTZd5sj//u3YvjJ2r2t5rdTX7xh+6pnw5Tcdw3BDH8WNu37YdHkjH7297k7Bq/ufqHmO2+uDrGvhlyQJmqa5fkmSVLOcesrQNA2KonTpO6NWlM/sT48frutzACqR0vMYv/iWY9+VHQdx7tBLWLzjQcd+I3oAU1/82brnALyka9f8fr8ffr/f9Ti35/7rfS6fD9j0B215GpPnTzgmyD7cfxT31PlBG+ViZ1/GSniX4xn+m7dN5Cf1Ple5l5etlOO2YK/gsJ96Lnb2ZccDNq0O/yf++jTGrp6u69jQ8nVMnvt903X1M4afNoTPfvCKY3t6/DCM6IGmy9v13rM4cPo5bPv4TMXXdWMek+dPYN9bP4CWuNF0Pf1MiMfjuV43gqjTSucR2vUZeP3Os+v85C2d/FCMfsVhP5FHMfxEHsXwE3kUw0/kUQw/kUeJAMxeN4KIus4UASz3uhVE1HXLIoDOfMohEW1k0yKAyvc/EtEgOyMCeKfXrSCirntHBHASAJ99JfKOBQB/FgGkAfyqx40hou55EUC6sM7/CwD8vGSiwTcP4JfArZt8FgB498PMiLzjSXx6mV96h99rAF7qSXOIqBteAXC8sFF+e++TAN7oanOIqBveAPB46Y7y8NsAvgXgVRDRoHgV+VzbpTsrPdiTAfAjAA8DmOt8u4ioQ+YAfAf5PGfKX6z1VN9rAHYD+Cl4HwBRP1lAPre7Afy22kFCPF7XH0jQANwP4D4ABwDsBDAKPhJM1GtZ5JfvPgLwPoC/AHgbgOsfo/w/WalTUUdHcKIAAAAASUVORK5CYII=",KE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALfElEQVR4nO3dfWwUdRoH8G9L6QtboUVYGm0WKXSLQltar8AVT+8IUJSgjV613l1yGogiRQ41pzHGMwET411IPI6KkBL9445UODkvkWtrtYqnWC2U64tit+3WNryULbQFu9IW294fw2539mVmd3Zntrvz/SRNdmZnfvOw7TO/11liUDEBWeNj09HXWQRb51oMni/AjwMZuD6cgvGfEuRPJiLVxMaNYHriIGakWpFySwOMC2sxd2ENYqddlzs1RjL5rw+nwFq/A10NWzFqnxvKmIlIJfEzLmHB8nJkrHwD0xMHfR3mO/nPtZaitfoNjAzNUylEIlJTQvJFLF2/A7curfT2tmfyT4xPQ0vV3/B9w1NaxEdEKrutYB+y730aMbFjrrtjRQdNjE/DySOHmfhEUeT7hqdw8shhTIxPc90tTv7W6jdw4cyDmgZGROq7cOZBtFb/1XXXZPKfa30EXV9v0zwoItJG19dlONf6iGNTSP7rwyloqdoTtqCISBstVXtwfTgFcCS/tX4HRu3GcMZERBoYtRthrd8BALEYH4tHV8PWMIdERFrpatiK8bH4WPR1ruMCHiIdGbXPRV/nujjYOteFO5ZoVHbXYjz76GoAQHvPRax//T3JYz45+R02v13nfK/6hYeQaZJfX+V+noM51YCqV38ve5zctdp7LuIb6wU8d+REwOf6irPi8dX41c8W+zz21JluHP1vCyqbemTLJYVsHUVxuHIhP9xxRKPZNyUhI116GMX1mFNnukXvZZrmyZ7v7TyH54tXiM5PnpEI+Eh+qWtlpBtRVJiN4l8uw0sHPvBISCVxzjRIfzYZ6UaUrC3Amvc/83nDoiANXsiPw9Blc7jjIGkn/teOc32DXt9r6Tzvdb+jZrVfG4EhKQHG2TOxu6TQZw3u7Vq3zk1BbpYJhqQEZKQbUfHib9H41B5YBuwhi7PZ0oO27ovO7az585BjNgEANhXfjY8aO9gCUIO9PzMOPw3PCnccJK26/lvsqjrt9/GluSZnzVpZ8xVKi1bAkJSAlUsXADLJ734tR/chI90IQ1IC3t5RjFWv/CMkcQJAW/dFPLz3mLicFx5CUWE2AODBX2Qz+dXw0/AsYbSfospj6wucrw992oKmNiF5crNMMKcaAirLMmDHSwc+cG4XLsvE6gXqjg9/0WxVtXwChNF+0oQ51eDxo9b5eYvnAxCa1HVdfahv7QIAGJIS8HzxioBjr2zqgfWszbm9anF6SOL0ZVVORsDnUODiwh2AHmSkG9H2zh8Vn79zywPYucVzf9Zjf/Hof+8uKYRx9kwAQMO33wMAnjtyAk8+dA8MSQkouOM2RTH0XroiO7AXSJzO9+bPw+FtG5zbt85NQeGyTADCeMVbx75WFC/JY/JHmZVLFzhfH/q0xfm6qa0HhcsykWM2oTTXFHA/+ocfh52vU5KTgg/0hhyzyTnA58p+bQT73zuOuq6+kF2LxJj8GrCeteGdD7702D8/LRWbiu+WPf/g+5+hu3fAY797bWpONSA3S0gkW/9VbNmwHI6KOHnG5DeurclfFHDyu87lDw5dCypOV7b+qxi6cWNxtCzs10Zw/4sVTHyVMfk14m0U/OV78/w6t7t3wK9R9OeLhVF9ADDOnomStQVej9t49zKfc/7emFMNmHfz5KRQ+/nLQcXp6vipNudov2OU35CUgC0blqPObRaAQosDflHEtT9vPWvz+LH1XwUg3BjK7vK9ws7dnifWO28qzZYe1abeth+ohv3aCACgZG1BQDFS4FjzR4D5aamSrYRdVadRmjvZd7aetWFh2Zsex1U8vtrZzdi4agnKP/9O8lrz01JRcMdtoj75gX/7XifgT5xSLAN27H/vOJ79nbDi/IkHCr3GSKHB5I8AcuMC79ZbsCZ/kXP7k5PeE+bQpy3Osu7K876w09e17NdGUFnzlWQy+hOnVP8fEGYm1ixf7BwIrHh8NZf4qoTN/ijh+qDMR40dXo+p6+pDs0VoshuSErC7pFC2XOtZG2pOtOD+Fys0S8LX/v6R83Vp0QqU5nrOBlDwYnD/K378rx2khGOBi1RtJ3WMvwtkLAN20bFytau3a/q6llxZUudKlSX32QTy7yFlmPxEOsVmP5FOMfmJdIrJT6RTTH4inWLyE+kUk59Ip5j8RDrF5CfSKSY/kU4x+Yl0KgYVE1zeS6RDrPmJdIrJT6RTTH4inWLyE+kUk59Ip5j8RDrF5CfSKSY/kU4x+Yl0islPpFNMfiKdYvIT6RSTn0inmPxEOsXkJ9IpJj+RTjH5iXSKyU+kU3FqFbx6FnD7rMntM1eAuiuBl1Om8L9mr7UBluHQlVNqBG5OVFaGr5iinT+feXmP8vL8PdecCKw1AnlzJvedvuT/7yPQ60r97TtiCcblYaDSFlwZgIrf4VeRD2zKm9w+eBrY3Bh4OROblF1/W634lxRsOU0bgJw0ZWX4iina+fuZ20eBpl7gUJv05+NeXsxB6XLLTMBvsoBCiZtQcy9woCW015X62y8zAXvXSp8vp7kXyD0WXBmAijU/kb8M8UKCFpqAjR3A+uPBl3l4JVCyRP64nDRgbxqQp7ByimTs89OUUrRIqDmDUX2P98S3jwq1pjeb8oDdftwsoknE1fxyTS61yvHVzHJvxoWqSRaNvH3mZSbgiWxxl6p0CfDnb5WNj1TkCzcQV829wGsN4n5ymQl49k4gY/bkvifzgWNnlY1N+au8Byj38bfn3rVUu5vImp/CqrwHKPlYqJUdDPHKBsXMicKNw1VNh3Azdh8gK+8B7q0CbEOT+5p6AWNC4NeNVBFX81P0sQwDnf3iWi9vDoAAa70nFwo3Dgf7KLD9K+nr7j0FZM8B3jqjbo0/FTH5aUrqvhr4OStvEW//p12+67CrA0BH4NeKBhGX/HJzx3qbS48GpUbPadQv+gIvJy1ZvN1ySXlMUuT+BtNvUue6oRZxyS83R7qtFrD40VyUm4PW25y8FryN4s+MB+7LFO9r7lXWBHcdvAOA/lHvxwUr2Hn6qSLikp8il+vCF19sQ8Azn6sXg9xNX+litEjE5Kcpo6ZDGKBjt00bEZf8oZrn31Yr/X5tCNZOk5jrApvkeHEz/URP8Cv7rP3iMmfHex7jbZFPoMu2A13eO1VFXPKHCvvz2nNd/GROBBpLJqfmCk3Ay4tujL4r1DskTv7sOfAYyfe2AEvpcx+Rjot8KCwsw8DrX4r3bbtTuCkoVX9evH1fpnx5wVwv0jH5KWx2dYib4cZk4NVlysvb3+m5UnDPCulz5N6PZpo1+9Nv8u/5brnn/v19Lj9UzzyTup75HPj415PbJUuAsvPKumWWYaDyG3F/u2gR0JQM/LNN3KUoNQJP50o/7hvtNEv+okWeD1x4c/A0UCcx1eLvHGtzL1DJB2ymvLorwu/cNWH/9HPli7U2NwK33yxO6pw04WfnPd7PsY+KlwXrBZv9FHabG8UP2ATb/F9VK0wb+sPaD+zXyby+OyY/TQk73Qb/SpYITXOl1h8XpnNP+Og+2IaEFsfCfwHWH5RfJ5Kp9jVeRFOJ61gRx4METH4inWKzn0inmPxEOsXkJ9IpJj+RTjH5iXQqFoBK33dCRFPYaCwAnX1nKREBuBILoD3cURCR5tpjAZwKdxREpLnGWAAfhjsKItLch47kvxzuSIhIM30Aahyj/XvDHAwRaedNAKMxqJgAgBQAbQCCeIiSiCJAHwAzgEHHIp9BANvDFg4RaWU7hHwXrfB7F0B5OKIhIk2UA6h0bLgv7/0DgKOahkNEWjgKIb+d3JN/DMDDAPZpFRERqW4fhLwec93p7cGeMQBbATwKgF92RBS5bBDyeCvcEh+QfqqvEkAWgJ3gOgCiSHIZQt5mwaWP784x1SdnOoAiAOsAFADIAJB6Yz8Rhc91AAMArAAaICza+xB+PK37f+P5w/3Ty2CfAAAAAElFTkSuQmCC";function ZE({boxData:e,onSave:a,onCancel:n,onDelete:i,onDuplicate:l}){const u=(L,Z,k,rt)=>{const[gt,ct]=L;switch(rt){case"top-left":return[gt,ct];case"top-right":return[gt+Z,ct];case"bottom-left":return[gt,ct+k];case"bottom-right":return[gt+Z,ct+k];case"center":return[gt+Z/2,ct+k/2];default:return[gt,ct]}},c=(L,Z,k,rt)=>{const[gt,ct]=L;switch(rt){case"top-left":return[gt,ct];case"top-right":return[gt-Z,ct];case"bottom-left":return[gt,ct-k];case"bottom-right":return[gt-Z,ct-k];case"center":return[gt-Z/2,ct-k/2];default:return[gt,ct]}},[f,v]=ut.useState(()=>({...e,opacitySource:e.opacitySource||e.opacity.toString(),overlaySizeSource:e.overlaySizeSource||e.overlaySize.toString()})),[p,g]=ut.useState("full"),y=ut.useRef(null),m=u(f.frame.translate,f.frame.width,f.frame.height,f.anchorPoint),b=()=>{a(f)},x=()=>{i(e.id)},S=(L,Z)=>{v({...f,[L]:Z})},C=(L,Z)=>{(Z===""||/^\d*$/.test(Z))&&v({...f,[L]:Z})},T=(L,Z)=>{const k=parseInt(Z);isNaN(k)?v({...f,[L]:12}):v({...f,[L]:k})},M=()=>{l(f)},A=L=>{const Z=f[L]||[],k={id:Ma(),variable:"",value:"",color:"#ffffff"};S(L,[...Z,k])},O=(L,Z)=>{const k=f[L]||[];S(L,k.filter(rt=>rt.id!==Z))},R=(L,Z,k,rt)=>{const ct=(f[L]||[]).map(Ct=>Ct.id===Z?{...Ct,[k]:rt}:Ct);S(L,ct)},_=()=>{const L=f.opacityVariableValues||[],Z={id:Ma(),variable:"",value:"",opacity:100};S("opacityVariableValues",[...L,Z])},N=L=>{const Z=f.opacityVariableValues||[];S("opacityVariableValues",Z.filter(k=>k.id!==L))},z=(L,Z,k)=>{const gt=(f.opacityVariableValues||[]).map(ct=>ct.id===L?{...ct,[Z]:k}:ct);S("opacityVariableValues",gt)},j=()=>{const L=f.overlaySizeVariableValues||[],Z={id:Ma(),variable:"",value:"",size:100};S("overlaySizeVariableValues",[...L,Z])},H=L=>{const Z=f.overlaySizeVariableValues||[];S("overlaySizeVariableValues",Z.filter(k=>k.id!==L))},P=(L,Z,k)=>{const gt=(f.overlaySizeVariableValues||[]).map(ct=>ct.id===L?{...ct,[Z]:k}:ct);S("overlaySizeVariableValues",gt)},q=()=>{var L;(L=y.current)==null||L.click()},U=(L,Z=1920,k=1080,rt=.9)=>new Promise((gt,ct)=>{const Ct=document.createElement("canvas"),Dt=Ct.getContext("2d"),zt=new Image;zt.onload=()=>{let{width:Rt,height:Bt}=zt;Rt>Bt?Rt>Z&&(Bt=Bt*Z/Rt,Rt=Z):Bt>k&&(Rt=Rt*k/Bt,Bt=k),Ct.width=Rt,Ct.height=Bt,Dt==null||Dt.drawImage(zt,0,0,Rt,Bt);const Zt=L.type==="image/png"?Ct.toDataURL("image/png"):Ct.toDataURL("image/jpeg",rt);gt(Zt)},zt.onerror=()=>ct(new Error("Failed to load image")),zt.src=URL.createObjectURL(L)}),$=async L=>{var k;const Z=(k=L.target.files)==null?void 0:k[0];if(Z){if(!Z.type||typeof Z.type!="string"||!Z.type.startsWith("image/")){alert("Please select an image file.");return}try{const rt=await U(Z),gt=Date.now(),ct=`box_bg_${f.id}_${gt}.jpg`;if(f.backgroundImage){const Ct=f.backgroundImage.split("/").pop();Ct&&await Q(Ct)}S("backgroundImage",`./src/assets/${ct}`);try{await W(ct,rt)}catch(Ct){throw console.error("IndexedDB storage failed:",Ct),new Error("Failed to store background image.")}}catch(rt){console.error("Failed to set background image:",rt),alert("Failed to set background image.")}L.target.value=""}},G=async()=>{if(f.backgroundImage){const L=f.backgroundImage.split("/").pop();L&&await Q(L),S("backgroundImage","")}},V=()=>new Promise((L,Z)=>{const k=indexedDB.open("CompanionDashboardImages",3);k.onerror=()=>Z(k.error),k.onsuccess=()=>L(k.result),k.onupgradeneeded=rt=>{const gt=rt.target.result;gt.objectStoreNames.contains("images")||gt.createObjectStore("images",{keyPath:"id"})}}),W=async(L,Z)=>{try{const gt=(await V()).transaction(["images"],"readwrite").objectStore("images");return new Promise((ct,Ct)=>{const Dt=gt.put({id:L,data:Z});Dt.onerror=()=>Ct(Dt.error),Dt.onsuccess=()=>ct()})}catch(k){throw console.error("Error in storeImageInDB:",k),k}},Q=async L=>{try{const rt=(await V()).transaction(["images"],"readwrite").objectStore("images");return new Promise((gt,ct)=>{const Ct=rt.delete(L);Ct.onerror=()=>ct(Ct.error),Ct.onsuccess=()=>gt()})}catch(Z){console.error("Error deleting image from IndexedDB:",Z)}},ot=(L,Z)=>{const k=f[Z]||[];return E.jsx("div",{className:"setting-row variable-color-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:L}),E.jsx("div",{className:"variable-color-section",children:k.map(rt=>E.jsxs("div",{className:"variable-color-row",children:[E.jsx("input",{type:"text",value:rt.variable,onChange:gt=>R(Z,rt.id,"variable",gt.target.value),placeholder:"Variable",className:"variable-input"}),E.jsx("input",{type:"text",value:rt.value,onChange:gt=>R(Z,rt.id,"value",gt.target.value),placeholder:"Value",className:"value-input"}),E.jsx(sa,{value:rt.color,onChange:gt=>R(Z,rt.id,"color",gt),className:"color-picker"}),E.jsx("button",{type:"button",className:"remove-variable-color-button",onClick:()=>O(Z,rt.id),children:E.jsx($s,{})})]},rt.id))}),E.jsx("button",{type:"button",className:"add-variable-color-button",onClick:()=>A(Z),children:E.jsx(sl,{})})]})})},B=()=>E.jsxs("div",{className:"settings-section",children:[E.jsx("div",{className:"setting-title",children:"Background"}),E.jsxs("div",{className:"setting-group",children:[E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Background"}),E.jsx("div",{className:"setting-row default-color-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Default Background"}),E.jsxs("div",{className:"color-input-group",children:[E.jsx(sa,{value:f.backgroundColor,onChange:L=>S("backgroundColor",L)}),E.jsx("input",{type:"text",value:f.backgroundColorText,onChange:L=>S("backgroundColorText",L.target.value),placeholder:"Variable, HEX, or Image URL"})]}),E.jsxs("div",{className:"image-controls",children:[E.jsx("button",{type:"button",className:"browse-image-button",onClick:q,children:"Browse Image"}),f.backgroundImage&&E.jsx("button",{type:"button",className:"clear-image-button",onClick:G,children:"Clear Image"}),E.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:$,style:{display:"none"}})]}),E.jsxs("div",{className:"image-size-controls",children:[E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"backgroundImageSize",value:"cover",checked:f.backgroundImageSize!=="contain",onChange:()=>S("backgroundImageSize","cover")}),"Cover"]}),E.jsxs("label",{children:[E.jsx("input",{type:"radio",name:"backgroundImageSize",value:"contain",checked:f.backgroundImageSize==="contain",onChange:()=>S("backgroundImageSize","contain")}),"Contain"]})]}),E.jsxs("div",{className:"opacity-controls",children:[E.jsx("label",{htmlFor:"background-opacity",children:"Background Image Opacity (%)"}),E.jsx("input",{id:"background-opacity",type:"number",min:"0",max:"100",value:f.backgroundImageOpacity||100,onChange:L=>S("backgroundImageOpacity",parseInt(L.target.value)||100),className:"opacity-input"})]})]})}),ot("Variable Background Color","backgroundVariableColors")]}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Overlay"}),E.jsxs("div",{style:{display:"flex",gap:"20px",flexBasis:"100%",flexWrap:"wrap"},children:[E.jsx("div",{className:"setting-row default-color-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Default Overlay"}),E.jsxs("div",{className:"color-input-group",children:[E.jsx(sa,{value:f.overlayColor,onChange:L=>S("overlayColor",L)}),E.jsx("input",{type:"text",value:f.overlayColorText,onChange:L=>S("overlayColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),ot("Variable Overlay Color","overlayVariableColors")]}),E.jsxs("div",{style:{display:"flex",gap:"20px",flexBasis:"100%",flexWrap:"wrap"},children:[E.jsx("div",{className:"setting-row default-opacity-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Default Size (%)"}),E.jsx("input",{type:"text",value:f.overlaySizeSource,onChange:L=>{const Z=L.target.value,k=parseInt(Z);isNaN(k)?v({...f,overlaySizeSource:Z}):v({...f,overlaySizeSource:Z,overlaySize:Math.max(0,Math.min(100,k))})},placeholder:"Number or Variable"})]})}),E.jsx("div",{className:"setting-row variable-opacity-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Variable Size (%)"}),E.jsx("div",{className:"variable-color-section",children:(f.overlaySizeVariableValues||[]).map(L=>E.jsxs("div",{className:"variable-color-row",children:[E.jsx("input",{type:"text",className:"variable-input",value:L.variable,onChange:Z=>P(L.id,"variable",Z.target.value),placeholder:"Variable"}),E.jsx("input",{type:"text",className:"value-input",value:L.value,onChange:Z=>P(L.id,"value",Z.target.value),placeholder:"Value"}),E.jsx("input",{type:"number",className:"opacity-value-input",value:L.size,onChange:Z=>P(L.id,"size",parseInt(Z.target.value)||0),min:"0",max:"100"}),E.jsx("button",{type:"button",onClick:()=>H(L.id),className:"remove-variable-color-button",children:E.jsx($s,{})})]},L.id))}),E.jsx("button",{type:"button",className:"add-variable-color-button",onClick:j,children:E.jsx(sl,{})})]})})]}),E.jsx("div",{className:"setting-row",style:{flexBasis:"100%"},children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Overlay Direction"}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:[E.jsx("button",{type:"button",onClick:()=>S("overlayDirection","left"),style:{padding:"8px 16px",backgroundColor:f.overlayDirection==="left"?"#61BAFA":"#444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:"From Left"}),E.jsx("button",{type:"button",onClick:()=>S("overlayDirection","right"),style:{padding:"8px 16px",backgroundColor:f.overlayDirection==="right"?"#61BAFA":"#444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:"From Right"}),E.jsx("button",{type:"button",onClick:()=>S("overlayDirection","top"),style:{padding:"8px 16px",backgroundColor:f.overlayDirection==="top"?"#61BAFA":"#444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:"From Top"}),E.jsx("button",{type:"button",onClick:()=>S("overlayDirection","bottom"),style:{padding:"8px 16px",backgroundColor:f.overlayDirection==="bottom"?"#61BAFA":"#444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:"From Bottom"})]})]})})]}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Border"}),E.jsx("div",{className:"setting-row default-color-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Default Border Color"}),E.jsxs("div",{className:"color-input-group",children:[E.jsx(sa,{value:f.borderColor,onChange:L=>S("borderColor",L)}),E.jsx("input",{type:"text",value:f.borderColorText,onChange:L=>S("borderColorText",L.target.value),placeholder:"Variable or HEX"})]}),E.jsxs("div",{className:"checkbox-container",style:{marginLeft:"0px"},children:[E.jsx("input",{type:"checkbox",id:"border",checked:!f.noBorder,onChange:L=>S("noBorder",!L.target.checked)}),E.jsx("label",{htmlFor:"border",children:"Border"})]}),E.jsxs("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("span",{className:"setting-header",children:"Border Radius (px)"}),E.jsx("input",{type:"number",min:"0",max:"100",value:f.borderRadius??15,onChange:L=>S("borderRadius",parseInt(L.target.value)||0),style:{width:"80px"}})]})]})}),ot("Variable Border Color","borderVariableColors")]})]})]}),I=()=>E.jsxs("div",{className:"settings-section",children:[E.jsxs("div",{className:"setting-title",children:["Header",E.jsxs("div",{className:"checkbox-container",children:[E.jsx("input",{type:"checkbox",id:"header-visible",checked:f.headerLabelVisible,onChange:L=>S("headerLabelVisible",L.target.checked)}),E.jsx("label",{htmlFor:"header-visible",children:"Visible"})]})]}),E.jsxs("div",{className:"setting-group",children:[E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Header Text"}),E.jsx("input",{type:"text",value:f.headerLabelSource,onChange:L=>S("headerLabelSource",L.target.value),className:"full-width-input"})]})}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Font Size"}),E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Font Size"}),E.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.headerLabelSize,onChange:L=>C("headerLabelSize",L.target.value),onBlur:L=>T("headerLabelSize",L.target.value)})]})}),E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Alignment"}),E.jsxs("div",{style:{display:"flex",gap:"5px"},children:[E.jsx("button",{type:"button",onClick:()=>S("headerLabelAlign","left"),style:{padding:"8px 12px",backgroundColor:(f.headerLabelAlign||"center")==="left"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx(rd,{})}),E.jsx("button",{type:"button",onClick:()=>S("headerLabelAlign","center"),style:{padding:"8px 12px",backgroundColor:(f.headerLabelAlign||"center")==="center"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx(ed,{})}),E.jsx("button",{type:"button",onClick:()=>S("headerLabelAlign","right"),style:{padding:"8px 12px",backgroundColor:(f.headerLabelAlign||"center")==="right"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx(ad,{})})]})]})})]}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Text Color"}),E.jsx("div",{className:"setting-row default-color-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Default Text Color"}),E.jsxs("div",{className:"color-input-group",children:[E.jsx(sa,{value:f.headerLabelColor,onChange:L=>S("headerLabelColor",L)}),E.jsx("input",{type:"text",value:f.headerLabelColorText,onChange:L=>S("headerLabelColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),ot("Variable Text Color","headerLabelVariableColors")]}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Background Color"}),E.jsx("div",{className:"setting-row default-color-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Default Background Color"}),E.jsxs("div",{className:"color-input-group",children:[E.jsx(sa,{value:f.headerColor,onChange:L=>S("headerColor",L)}),E.jsx("input",{type:"text",value:f.headerColorText,onChange:L=>S("headerColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),ot("Variable Background Color","headerVariableColors")]})]})]}),lt=()=>E.jsxs("div",{className:"settings-section",children:[E.jsxs("div",{className:"setting-title",children:["Left",E.jsxs("div",{className:"checkbox-container",children:[E.jsx("input",{type:"checkbox",id:"left-visible",checked:f.leftVisible,onChange:L=>S("leftVisible",L.target.checked)}),E.jsx("label",{htmlFor:"left-visible",children:"Visible"})]})]}),E.jsxs("div",{className:"setting-group",children:[E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Left Text"}),E.jsx("input",{type:"text",value:f.leftLabelSource,onChange:L=>S("leftLabelSource",L.target.value),className:"full-width-input"})]})}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Font Size"}),E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Font Size"}),E.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.leftLabelSize,onChange:L=>C("leftLabelSize",L.target.value),onBlur:L=>T("leftLabelSize",L.target.value)})]})}),E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Width %"}),E.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.leftVisible?f.rightVisible?f.leftRightRatio:100:0,onChange:L=>C("leftRightRatio",L.target.value),onBlur:L=>{const Z=parseInt(L.target.value);isNaN(Z)||Z<0?S("leftRightRatio",50):Z>100?S("leftRightRatio",100):S("leftRightRatio",Z)},disabled:!f.leftVisible||!f.rightVisible})]})}),E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Alignment"}),E.jsxs("div",{style:{display:"flex",gap:"5px"},children:[E.jsx("button",{type:"button",onClick:()=>S("leftLabelAlign","left"),style:{padding:"8px 12px",backgroundColor:(f.leftLabelAlign||"left")==="left"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx(rd,{})}),E.jsx("button",{type:"button",onClick:()=>S("leftLabelAlign","center"),style:{padding:"8px 12px",backgroundColor:(f.leftLabelAlign||"left")==="center"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx(ed,{})}),E.jsx("button",{type:"button",onClick:()=>S("leftLabelAlign","right"),style:{padding:"8px 12px",backgroundColor:(f.leftLabelAlign||"left")==="right"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx(ad,{})})]})]})})]}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Text Color"}),E.jsx("div",{className:"setting-row default-color-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Default Text Color"}),E.jsxs("div",{className:"color-input-group",children:[E.jsx(sa,{value:f.leftLabelColor,onChange:L=>S("leftLabelColor",L)}),E.jsx("input",{type:"text",value:f.leftLabelColorText,onChange:L=>S("leftLabelColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),ot("Variable Text Color","leftLabelVariableColors")]})]})]}),et=()=>E.jsxs("div",{className:"settings-section",children:[E.jsxs("div",{className:"setting-title",children:["Right",E.jsxs("div",{className:"checkbox-container",children:[E.jsx("input",{type:"checkbox",id:"right-visible",checked:f.rightVisible,onChange:L=>S("rightVisible",L.target.checked)}),E.jsx("label",{htmlFor:"right-visible",children:"Visible"})]})]}),E.jsxs("div",{className:"setting-group",children:[E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Right Text"}),E.jsx("input",{type:"text",value:f.rightLabelSource,onChange:L=>S("rightLabelSource",L.target.value),className:"full-width-input"})]})}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Font Size"}),E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Font Size"}),E.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.rightLabelSize,onChange:L=>C("rightLabelSize",L.target.value),onBlur:L=>T("rightLabelSize",L.target.value)})]})}),E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Width %"}),E.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.rightVisible?f.leftVisible?100-f.leftRightRatio:100:0,onChange:L=>{const Z=L.target.value;if(Z===""||/^\d*$/.test(Z)){const k=Z===""?0:parseInt(Z);S("leftRightRatio",100-k)}},onBlur:L=>{const Z=parseInt(L.target.value);isNaN(Z)||Z<0?S("leftRightRatio",50):Z>100?S("leftRightRatio",0):S("leftRightRatio",100-Z)},disabled:!f.leftVisible||!f.rightVisible})]})}),E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Alignment"}),E.jsxs("div",{style:{display:"flex",gap:"5px"},children:[E.jsx("button",{type:"button",onClick:()=>S("rightLabelAlign","left"),style:{padding:"8px 12px",backgroundColor:(f.rightLabelAlign||"right")==="left"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx(rd,{})}),E.jsx("button",{type:"button",onClick:()=>S("rightLabelAlign","center"),style:{padding:"8px 12px",backgroundColor:(f.rightLabelAlign||"right")==="center"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx(ed,{})}),E.jsx("button",{type:"button",onClick:()=>S("rightLabelAlign","right"),style:{padding:"8px 12px",backgroundColor:(f.rightLabelAlign||"right")==="right"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx(ad,{})})]})]})})]}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Text Color"}),E.jsx("div",{className:"setting-row default-color-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Default Text Color"}),E.jsxs("div",{className:"color-input-group",children:[E.jsx(sa,{value:f.rightLabelColor,onChange:L=>S("rightLabelColor",L)}),E.jsx("input",{type:"text",value:f.rightLabelColorText,onChange:L=>S("rightLabelColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),ot("Variable Text Color","rightLabelVariableColors")]})]})]}),dt=()=>E.jsxs("div",{className:"settings-section",children:[E.jsx("div",{className:"setting-title",children:"Box Settings"}),E.jsxs("div",{className:"setting-group",children:[E.jsxs("div",{className:"setting-container box-settings-container",children:[E.jsx("h3",{className:"section-heading",children:"Position & Size"}),E.jsxs("div",{className:"box-settings-row",children:[E.jsxs("div",{className:"setting-label box-settings-item",children:[E.jsx("span",{className:"setting-header",children:"X-Position"}),E.jsx("input",{type:"number",value:m[0],onChange:L=>{const k=[parseInt(L.target.value)||0,m[1]],rt=c(k,f.frame.width,f.frame.height,f.anchorPoint);S("frame",{...f.frame,translate:rt})}})]}),E.jsxs("div",{className:"setting-label box-settings-item",children:[E.jsx("span",{className:"setting-header",children:"Y-Position"}),E.jsx("input",{type:"number",value:m[1],onChange:L=>{const Z=parseInt(L.target.value)||0,k=[m[0],Z],rt=c(k,f.frame.width,f.frame.height,f.anchorPoint);S("frame",{...f.frame,translate:rt})}})]}),E.jsxs("div",{className:"setting-label box-settings-item",children:[E.jsx("span",{className:"setting-header",children:"Anchor Point"}),E.jsxs("select",{value:f.anchorPoint,onChange:L=>S("anchorPoint",L.target.value),style:{width:"100%",padding:"8px",backgroundColor:"#1a1a1a",color:"white",border:"1px solid #61BAFA",borderRadius:"4px",fontSize:"14px"},children:[E.jsx("option",{value:"top-left",children:"Top Left"}),E.jsx("option",{value:"top-right",children:"Top Right"}),E.jsx("option",{value:"bottom-left",children:"Bottom Left"}),E.jsx("option",{value:"bottom-right",children:"Bottom Right"}),E.jsx("option",{value:"center",children:"Center"})]})]})]}),E.jsxs("div",{className:"box-settings-row",children:[E.jsxs("div",{className:"setting-label box-settings-item",children:[E.jsx("span",{className:"setting-header",children:"Width"}),E.jsx("input",{type:"number",value:f.frame.width,onChange:L=>S("frame",{...f.frame,width:parseInt(L.target.value)||100}),min:"10"})]}),E.jsxs("div",{className:"setting-label box-settings-item",children:[E.jsx("span",{className:"setting-header",children:"Height"}),E.jsx("input",{type:"number",value:f.frame.height,onChange:L=>S("frame",{...f.frame,height:parseInt(L.target.value)||100}),min:"10"})]}),E.jsxs("div",{className:"setting-label box-settings-item",children:[E.jsx("span",{className:"setting-header",children:"Layer"}),E.jsx("input",{type:"number",value:f.zIndex,onChange:L=>S("zIndex",parseInt(L.target.value)||1),min:"1"})]})]})]}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Opacity"}),E.jsx("div",{className:"setting-row default-opacity-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Default Opacity (%)"}),E.jsx("input",{type:"text",value:f.opacitySource,onChange:L=>{const Z=L.target.value,k=parseInt(Z);isNaN(k)?v({...f,opacitySource:Z}):v({...f,opacitySource:Z,opacity:Math.max(0,Math.min(100,k))})},placeholder:"Number or Variable"})]})}),E.jsx("div",{className:"setting-row variable-opacity-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Variable Opacity"}),E.jsx("div",{className:"variable-color-section",children:(f.opacityVariableValues||[]).map(L=>E.jsxs("div",{className:"variable-color-row",children:[E.jsx("input",{type:"text",value:L.variable,onChange:Z=>z(L.id,"variable",Z.target.value),placeholder:"Variable",className:"variable-input"}),E.jsx("input",{type:"text",value:L.value,onChange:Z=>z(L.id,"value",Z.target.value),placeholder:"Value",className:"value-input"}),E.jsx("input",{type:"number",value:L.opacity,onChange:Z=>{const k=parseInt(Z.target.value);z(L.id,"opacity",isNaN(k)?100:Math.max(0,Math.min(100,k)))},placeholder:"Opacity %",min:"0",max:"100",className:"opacity-value-input"}),E.jsx("button",{type:"button",className:"remove-variable-color-button",onClick:()=>N(L.id),children:E.jsx($s,{})})]},L.id))}),E.jsx("button",{type:"button",className:"add-variable-color-button",onClick:_,children:E.jsx(sl,{})})]})})]}),E.jsxs("div",{className:"setting-container",children:[E.jsx("h3",{className:"section-heading",children:"Click Action"}),E.jsx("div",{className:"setting-row",children:E.jsxs("div",{className:"setting-label",children:[E.jsx("span",{className:"setting-header",children:"Companion Button Location"}),E.jsx("input",{type:"text",value:f.companionButtonLocation||"",onChange:L=>S("companionButtonLocation",L.target.value),placeholder:"page/row/column",className:"full-width-input"})]})})]})]})]}),bt=()=>{switch(p){case"full":return dt();case"background":return B();case"header":return I();case"left":return lt();case"right":return et();default:return B()}};return E.jsx("div",{className:"modal-overlay",onClick:n,children:E.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[E.jsx("div",{className:"modal-header",children:E.jsxs("div",{className:"modal-buttons",children:[E.jsx("button",{onClick:b,className:"modal-save-button",children:"SAVE"}),E.jsx("button",{onClick:n,className:"modal-cancel-button",children:"CANCEL"}),E.jsx("button",{onClick:M,className:"modal-duplicate-button",children:"DUPLICATE"}),E.jsx("button",{onClick:x,className:"modal-delete-button",children:"DELETE"})]})}),E.jsxs("div",{className:"modal-body",children:[E.jsxs("select",{className:"modal-nav-dropdown",value:p,onChange:L=>g(L.target.value),children:[E.jsx("option",{value:"full",children:"Box Settings"}),E.jsx("option",{value:"background",children:"Background"}),E.jsx("option",{value:"header",children:"Header"}),E.jsx("option",{value:"left",children:"Left"}),E.jsx("option",{value:"right",children:"Right"})]}),E.jsxs("div",{className:"modal-nav",children:[E.jsx("div",{className:`nav-item ${p==="full"?"active":""}`,onClick:()=>g("full"),children:E.jsx("img",{src:KE,alt:"Full",className:"nav-icon"})}),E.jsx("div",{className:`nav-item ${p==="background"?"active":""}`,onClick:()=>g("background"),children:E.jsx("img",{src:YE,alt:"Background",className:"nav-icon"})}),E.jsx("div",{className:`nav-item ${p==="header"?"active":""}`,onClick:()=>g("header"),children:E.jsx("img",{src:PE,alt:"Header",className:"nav-icon"})}),E.jsx("div",{className:`nav-item ${p==="left"?"active":""}`,onClick:()=>g("left"),children:E.jsx("img",{src:FE,alt:"Left",className:"nav-icon"})}),E.jsx("div",{className:`nav-item ${p==="right"?"active":""}`,onClick:()=>g("right"),children:E.jsx("img",{src:WE,alt:"Right",className:"nav-icon"})})]}),E.jsx("div",{className:"modal-content-area",children:bt()})]})]})})}const nd=e=>{const a=/(\\)?(\[(\d+)\])?\$\(([^)]+)\)/g,n=[];let i;for(;(i=a.exec(e))!==null;){const l=i[1]==="\\",u=i[3]?parseInt(i[3]):void 0,c=i[4],f=i[0];n.push({variable:c,connectionIndex:u,isEscaped:l,fullMatch:f})}return n},QE=e=>{const[a,n]=e.split(":",2);return`/api/variable/${a}/${n}/value`},JE=e=>e.replace(/([*_\[\]()!])/g,"\\$1"),lm=e=>{const a={};let n=0,i=e.replace(/\\(\*|_|\[|\]|\(|\)|!)/g,(l,u)=>{const c=`XESCAPEDX${n}XESCAPEDX`;return a[c]=u,n++,c});return i=i.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/_(.*?)_/g,"<em>$1</em>").replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" style="width: auto; height: 100%;" />').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>').replace(/\\n/g,`
`).replace(/\n/g,"<br>"),Object.keys(a).forEach(l=>{i=i.replace(new RegExp(l,"g"),a[l])}),i},oy=(e,a,n=[],i=100,l=!1)=>{const[u,c]=ut.useState(()=>{const y={};return Object.entries(a).forEach(([m,b])=>{if(!b)y[m]="";else{const x=nd(b);let S=b;x.forEach(({fullMatch:C})=>{S=S.replace(C,"")}),y[m]=S}}),y}),[f,v]=ut.useState(()=>{const y={};return Object.entries(a).forEach(([m,b])=>{if(!b)y[m]="";else{const x=nd(b);let S=b;x.forEach(({fullMatch:C})=>{S=S.replace(C,"")}),y[m]=lm(S)}}),y}),p=ut.useMemo(()=>a,[JSON.stringify(a)]),g=ut.useMemo(()=>n,[JSON.stringify(n)]);return ut.useEffect(()=>{const y=async()=>{const x={},S={};for(const[C,T]of Object.entries(p)){if(!T){x[C]="",S[C]="";continue}const M=nd(T);let A=T;for(const{variable:O,connectionIndex:R,isEscaped:_,fullMatch:N}of M){if(!e){A=A.replace(N,"");continue}try{let z=e;if(R!==void 0)if(R===0)z=e;else{const q=g[R-1];if(q&&q.url)z=q.url;else{console.warn(`Connection [${R}] not found or has no URL`),A=A.replace(N,"");continue}}const j=QE(O),H=await fetch(`${z}${j}`);if(H.ok){const P=await H.text();if(P===O||P==="null"||P===null||P===void 0)A=A.replace(N,"");else{const q=_?JE(P):P;A=A.replace(N,q)}}else console.warn(`Failed to fetch ${O} from ${z}:`,H.status),A=A.replace(N,"")}catch(z){console.error(`Error fetching ${O}:`,z),A=A.replace(N,"")}}x[C]=A,S[C]=lm(A)}c(C=>JSON.stringify(C)!==JSON.stringify(x)?x:C),v(C=>JSON.stringify(C)!==JSON.stringify(S)?S:C)};y();const b=setInterval(()=>{l||y()},e?i:5e3);return()=>clearInterval(b)},[e,p,g,i,l]),{values:u,htmlValues:f}};function $E({onDoubleTap:e,children:a}){const n=ut.useRef(0),i=ut.useRef(null),l=()=>{const f=Date.now(),v=f-n.current;v<300&&v>0?(i.current&&clearTimeout(i.current),e()):i.current=setTimeout(()=>{i.current=null},300),n.current=f},u=f=>{f.preventDefault()},c=f=>{f.preventDefault()};return E.jsx("div",{onTouchEnd:l,onTouchStart:u,onTouchMove:c,style:{touchAction:"none"},children:a})}var hm;const tT=((hm=window.electronAPI)==null?void 0:hm.windowId)||"1",id=fe.memo(({content:e,style:a,className:n=""})=>{const i=(()=>{if(!e||typeof e!="string")return!0;try{const u=/<img[^>]*>/i.test(e),c=/<iframe[^>]*>/i.test(e),f=/<video[^>]*>/i.test(e),v=/!\[.*?\]\(.*?\)/.test(e);return!(u||c||f||v)}catch(u){return console.error("Error in media detection:",u),!0}})(),l=(()=>{try{return!e||typeof e!="string"?"":i?`<span class="text-only-content">${e}</span>`:e}catch(u){return console.error("Error processing content:",u),e||""}})();return E.jsx("div",{className:n,style:a,dangerouslySetInnerHTML:{__html:l}})},(e,a)=>e.content===a.content&&e.className===a.className&&JSON.stringify(e.style)===JSON.stringify(a.style));function eT({boxData:e,isSelected:a,onSelect:n,onDeselect:i,onBoxUpdate:l,onDelete:u,onDuplicate:c,gridSize:f=15,companionBaseUrl:v,connections:p=[],refreshRateMs:g=100,isDragging:y=!1,onDragStart:m,onDragEnd:b,boxesLocked:x=!1}){const S=ut.useRef(null),[C,T]=ut.useState(e.frame),[M,A]=ut.useState(!1),[O,R]=ut.useState(""),[_,N]=ut.useState(!1);ut.useEffect(()=>{T(e.frame)},[e.frame]);const z=k=>{const rt=window.innerWidth,gt=window.innerHeight,ct=Math.ceil(rt/k),Ct=Math.ceil(gt/k);return{verticalGridLines:Array.from({length:ct+1},(Dt,zt)=>zt*k),horizontalGridLines:Array.from({length:Ct+1},(Dt,zt)=>zt*k)}},[j,H]=ut.useState(()=>z(f));ut.useEffect(()=>{const k=()=>{H(z(f)),i()};return window.addEventListener("resize",k),k(),()=>window.removeEventListener("resize",k)},[f]),ut.useEffect(()=>{const k=()=>i();return document.addEventListener("click",k),()=>document.removeEventListener("click",k)},[i]);const P=k=>{T(k),l({...e,frame:k})};ut.useEffect(()=>{M&&i()},[M,i]);const q=k=>{if(!k||typeof k!="string")return!1;try{return k.startsWith("http://")||k.startsWith("https://")||k.startsWith("data:image/")?!0:[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg"].some(gt=>k.toLowerCase().endsWith(gt))}catch(rt){return console.error("Error in isImageUrl:",rt),!1}};ut.useEffect(()=>{(async()=>{if(!e.backgroundImage||typeof e.backgroundImage!="string"){R("");return}try{if(q(e.backgroundImage)&&!e.backgroundImage.startsWith("./src/assets/")){R(e.backgroundImage);return}if(e.backgroundImage.startsWith("./src/assets/")){const rt=e.backgroundImage.split("/").pop();if(rt)try{const gt=await U(rt);if(gt){R(gt);return}const ct=localStorage.getItem(`window_${tT}_cached_bg_${rt}`);if(ct){R(ct);return}}catch(gt){console.error("Failed to load background image:",gt)}}}catch(rt){console.error("Error in loadBackgroundImage:",rt)}R("")})()},[e.backgroundImage]);const U=async k=>{try{const rt=indexedDB.open("CompanionDashboardImages",3);return new Promise((gt,ct)=>{rt.onerror=()=>ct(rt.error),rt.onsuccess=()=>{const Rt=rt.result.transaction(["images"],"readonly").objectStore("images").get(k);Rt.onerror=()=>ct(Rt.error),Rt.onsuccess=()=>{const Bt=Rt.result;gt(Bt?Bt.data:null)}}})}catch(rt){return console.error("Error getting image from IndexedDB:",rt),null}},$=()=>{const k={};return[e.backgroundVariableColors,e.overlayVariableColors,e.borderVariableColors,e.headerVariableColors,e.headerLabelVariableColors,e.leftLabelVariableColors,e.rightLabelVariableColors].forEach(gt=>{gt&&Array.isArray(gt)&&gt.forEach(ct=>{ct.variable&&(k[ct.variable]=ct.variable)})}),e.opacityVariableValues&&Array.isArray(e.opacityVariableValues)&&e.opacityVariableValues.forEach(gt=>{gt.variable&&(k[gt.variable]=gt.variable)}),e.overlaySizeVariableValues&&Array.isArray(e.overlaySizeVariableValues)&&e.overlaySizeVariableValues.forEach(gt=>{gt.variable&&(k[gt.variable]=gt.variable)}),k},{values:G,htmlValues:V}=oy(v,{headerLabelSource:e.headerLabelSource,leftLabelSource:e.leftLabelSource,rightLabelSource:e.rightLabelSource,backgroundColorTextSource:e.backgroundColorText,overlayColorTextSource:e.overlayColorText,borderColorTextSource:e.borderColorText,headerColorTextSource:e.headerColorText,headerLabelColorTextSource:e.headerLabelColorText,leftLabelColorTextSource:e.leftLabelColorText,rightLabelColorTextSource:e.rightLabelColorText,opacitySource:e.opacitySource,overlaySizeSource:e.overlaySizeSource,...$()},p,g,y),W=()=>{if(e.opacityVariableValues&&Array.isArray(e.opacityVariableValues)){for(const rt of e.opacityVariableValues)if(rt&&rt.variable&&rt.value&&(G[rt.variable]||"")===rt.value)return rt.opacity/100}if(e.opacitySource&&e.opacitySource.includes("$(")&&e.opacitySource.includes(")")&&G.opacitySource){const rt=parseInt(G.opacitySource);if(!isNaN(rt))return Math.max(0,Math.min(100,rt))/100}return e.opacity/100},Q=()=>{if(e.overlaySizeVariableValues&&Array.isArray(e.overlaySizeVariableValues)){for(const rt of e.overlaySizeVariableValues)if(rt&&rt.variable&&rt.value&&(G[rt.variable]||"")===rt.value)return rt.size}if(e.overlaySizeSource&&e.overlaySizeSource.includes("$(")&&e.overlaySizeSource.includes(")")&&G.overlaySizeSource){const rt=parseInt(G.overlaySizeSource);if(!isNaN(rt))return Math.max(0,Math.min(100,rt))}return e.overlaySize},ot=(k,rt,gt,ct)=>{if(k&&Array.isArray(k)){for(const Ct of k)if(Ct&&Ct.variable&&Ct.value&&(ct[Ct.variable]||"")===Ct.value)return Ct.color}return rt&&rt.trim()?ct[rt]||rt:gt},B=()=>{try{if(e.backgroundVariableColors&&Array.isArray(e.backgroundVariableColors)){for(const k of e.backgroundVariableColors)if(k&&k.variable&&k.value&&(G[k.variable]||"")===k.value)return k.color||""}return e.backgroundColorText&&typeof e.backgroundColorText=="string"&&e.backgroundColorText.trim()?G.backgroundColorTextSource||e.backgroundColorText||"":e.backgroundColor||"#262626"}catch(k){return console.error("Error in resolveBoxBackgroundColor:",k),e.backgroundColor||"#262626"}},I=async()=>{if(console.log("sendCompanionButtonPress called",{companionButtonLocation:e.companionButtonLocation,companionBaseUrl:v,boxesLocked:x}),!e.companionButtonLocation||!e.companionButtonLocation.trim()){console.log("No companion button location set");return}const k=e.companionButtonLocation.split("/");if(k.length!==3){console.warn("Invalid Companion button location format. Expected: page/row/column");return}const[rt,gt,ct]=k,Ct=`${v}/api/location/${rt}/${gt}/${ct}/press`;console.log("Sending POST to:",Ct);try{const Dt=await fetch(Ct,{method:"POST"});console.log("Response:",Dt.status,Dt.statusText)}catch(Dt){console.error("Failed to send Companion button press:",Dt)}},lt=()=>{try{if(e.overlayVariableColors&&Array.isArray(e.overlayVariableColors)){for(const k of e.overlayVariableColors)if(k&&k.variable&&k.value&&(G[k.variable]||"")===k.value)return k.color||""}return e.overlayColorText&&typeof e.overlayColorText=="string"&&e.overlayColorText.trim()?G.overlayColorTextSource||e.overlayColorText||"":e.overlayColor||"#00000000"}catch(k){return console.error("Error in resolveOverlayColor:",k),e.overlayColor||"#00000000"}},et=()=>{try{const k=B(),rt=(e.backgroundImageOpacity||100)/100;return k&&q(k)?{backgroundColor:"transparent",position:"relative","--background-image":`url("${k}")`,"--background-size":e.backgroundImageSize||"cover","--background-opacity":rt}:O&&typeof O=="string"?{backgroundColor:"transparent",position:"relative","--background-image":`url(${O})`,"--background-size":e.backgroundImageSize||"cover","--background-opacity":rt}:{backgroundColor:k||"#262626"}}catch(k){return console.error("Error in getBackgroundStyle:",k),{backgroundColor:e.backgroundColor||"#262626"}}},dt=ut.useMemo(()=>{try{return{header:V.headerLabelSource||"",left:V.leftLabelSource||"",right:V.rightLabelSource||""}}catch(k){return console.error("Error in displayHtmlLabels:",k),{header:"",left:"",right:""}}},[V.headerLabelSource,V.leftLabelSource,V.rightLabelSource]),bt=ut.useMemo(()=>{const k=e.headerLabelAlign||"center",rt={left:"flex-start",center:"center",right:"flex-end"};return{backgroundColor:ot(e.headerVariableColors,e.headerColorText,e.headerColor,G),color:ot(e.headerLabelVariableColors,e.headerLabelColorText,e.headerLabelColor,G),fontSize:`${e.headerLabelSize}px`,textAlign:k,display:e.headerLabelVisible?"flex":"none",alignItems:"center",justifyContent:rt[k]}},[e.headerVariableColors,e.headerColorText,e.headerColor,e.headerLabelVariableColors,e.headerLabelColorText,e.headerLabelColor,e.headerLabelSize,e.headerLabelVisible,e.headerLabelAlign,G]),L=ut.useMemo(()=>{const k=e.leftRightRatio??50;let rt;e.leftVisible?e.rightVisible?rt=k:rt=100:rt=0;const gt=e.leftLabelAlign||"left",ct={left:"flex-start",center:"center",right:"flex-end"};return{color:ot(e.leftLabelVariableColors,e.leftLabelColorText,e.leftLabelColor,G),fontSize:`${e.leftLabelSize}px`,display:e.leftVisible?"flex":"none",justifyContent:ct[gt],textAlign:gt,alignItems:"center",flexBasis:`${rt}%`}},[e.leftLabelVariableColors,e.leftLabelColorText,e.leftLabelColor,e.leftLabelSize,e.leftVisible,e.rightVisible,e.leftRightRatio,e.leftLabelAlign,G]),Z=ut.useMemo(()=>{const k=e.leftRightRatio??50;let rt;e.rightVisible?e.leftVisible?rt=100-k:rt=100:rt=0;const gt=e.rightLabelAlign||"right",ct={left:"flex-start",center:"center",right:"flex-end"};return{color:ot(e.rightLabelVariableColors,e.rightLabelColorText,e.rightLabelColor,G),fontSize:`${e.rightLabelSize}px`,display:e.rightVisible?"flex":"none",justifyContent:ct[gt],textAlign:gt,alignItems:"center",flexBasis:`${rt}%`}},[e.rightLabelVariableColors,e.rightLabelColorText,e.rightLabelColor,e.rightLabelSize,e.rightVisible,e.leftVisible,e.leftRightRatio,e.rightLabelAlign,G]);return E.jsxs("div",{children:[E.jsx($E,{onDoubleTap:()=>{x||A(!0)},children:E.jsxs("div",{className:"box-container",children:[E.jsxs("div",{ref:S,className:`box ${e.noBorder?"no-border":"with-border"} ${O||B()&&q(B())?"has-background-image":""}`,onClick:k=>{if(!x)if(k.stopPropagation(),k.altKey){const rt={...e,id:Ma(),frame:{...e.frame,translate:[e.frame.translate[0]+20,e.frame.translate[1]+20]},leftRightRatio:e.leftRightRatio??50};c(rt)}else n()},onDoubleClick:k=>{x||(k.stopPropagation(),A(!0))},style:{width:`${C.width}px`,height:`${C.height}px`,...et(),border:e.noBorder?"none":`5px solid ${ot(e.borderVariableColors,e.borderColorText,e.borderColor,G)}`,borderRadius:`${e.borderRadius??15}px`,WebkitTransform:`translate(${C.translate[0]}px, ${C.translate[1]}px) translateZ(0)`,transform:`translate(${C.translate[0]}px, ${C.translate[1]}px) translateZ(0)`,zIndex:e.zIndex,opacity:W(),pointerEvents:x&&e.companionButtonLocation&&e.companionButtonLocation.trim()||!x?"auto":"none"},children:[E.jsx("div",{style:{position:"absolute",...e.overlayDirection==="left"?{top:0,left:0,bottom:0,width:`${Q()}%`}:e.overlayDirection==="right"?{top:0,right:0,bottom:0,width:`${Q()}%`}:e.overlayDirection==="top"?{top:0,left:0,right:0,height:`${Q()}%`}:{bottom:0,left:0,right:0,height:`${Q()}%`},backgroundColor:lt(),pointerEvents:"none",zIndex:1,transition:"width 0.3s ease, height 0.3s ease"}}),E.jsxs("div",{style:{pointerEvents:x?"auto":"none",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",zIndex:2},children:[E.jsx(id,{content:dt.header,className:"header",style:bt},`${e.id}-header`),E.jsxs("div",{className:"content-container",children:[E.jsx(id,{content:dt.left,className:"content",style:L},`${e.id}-left`),E.jsx(id,{content:dt.right,className:"content",style:Z},`${e.id}-right`)]})]}),x&&e.companionButtonLocation&&e.companionButtonLocation.trim()&&E.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:3,cursor:"pointer"},onClick:k=>{k.stopPropagation(),I()}})]}),a&&!x&&E.jsx(SE,{target:S,draggable:!0,resizable:!0,snappable:!0,snapThreshold:15,snapDirections:{top:!0,left:!0,bottom:!0,right:!0},verticalGuidelines:j.verticalGridLines,horizontalGuidelines:j.horizontalGridLines,isDisplaySnapDigit:!0,useResizeObserver:!0,touchAction:"none",dragContainer:document.body,preventDefault:!0,stopDragging:!1,onDrag:({beforeTranslate:k})=>{_||(m==null||m(),N(!0));const rt={...C,translate:[k[0],k[1]]};T(rt),S.current.style.transform=`translate(${k[0]}px, ${k[1]}px)`},onDragEnd:({lastEvent:k})=>{if(b==null||b(),N(!1),k){const rt={...C,translate:[k.beforeTranslate[0],k.beforeTranslate[1]]};P(rt)}},onResize:({width:k,height:rt,drag:gt})=>{_||(m==null||m(),N(!0));const ct=gt.beforeTranslate,Ct={translate:[ct[0],ct[1]],width:k,height:rt};T(Ct),S.current.style.width=`${k}px`,S.current.style.height=`${rt}px`,S.current.style.transform=`translate(${ct[0]}px, ${ct[1]}px)`},onResizeEnd:({lastEvent:k})=>{if(b==null||b(),N(!1),k){const rt={translate:[k.drag.beforeTranslate[0],k.drag.beforeTranslate[1]],width:k.width,height:k.height};P(rt)}}})]})}),M&&E.jsx(ZE,{boxData:e,onSave:k=>{l(k),A(!1)},onCancel:()=>A(!1),onDelete:k=>{u(k),A(!1)},onDuplicate:k=>{c(k),A(!1)}})]})}function Fs(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sm={},um;function rT(){return um||(um=1,function e(a,n,i){function l(f,v){if(!n[f]){if(!a[f]){var p=typeof Fs=="function"&&Fs;if(!v&&p)return p(f,!0);if(u)return u(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var y=n[f]={exports:{}};a[f][0].call(y.exports,function(m){var b=a[f][1][m];return l(b||m)},y,y.exports,e,a,n,i)}return n[f].exports}for(var u=typeof Fs=="function"&&Fs,c=0;c<i.length;c++)l(i[c]);return l}({1:[function(e,a,n){var i,l,u;i=function(c,f){var v;return v=setTimeout(f,c),{stop:function(){return clearTimeout(v)}}},u=function(c,f){var v;return v=setInterval(f,c),{stop:function(){return clearInterval(v)}}},l=function(c){return/in/.test(document.readyState)?i(10,function(){return l(c)}):c()},function(c){var f,v,p,g,y,m,b,x,S,C;return f=c.FontDetective={},b="Helvetica,Lucida Grande,Lucida Sans,Tahoma,Arial,Geneva,Monaco,Verdana,Microsoft Sans Serif,Trebuchet MS,Courier New,Times New Roman,Courier,Lucida Bright,Lucida Sans Typewriter,URW Chancery L,Comic Sans MS,Georgia,Palatino Linotype,Lucida Sans Unicode,Times,Century Schoolbook L,URW Gothic L,Franklin Gothic Medium,Lucida Console,Impact,URW Bookman L,Helvetica Neue,Nimbus Sans L,URW Palladio L,Nimbus Mono L,Nimbus Roman No9 L,Arial Black,Sylfaen,MV Boli,Estrangelo Edessa,Tunga,Gautami,Raavi,Mangal,Shruti,Latha,Kartika,Vrinda,Arial Narrow,Century Gothic,Garamond,Book Antiqua,Bookman Old Style,Calibri,Cambria,Candara,Corbel,Monotype Corsiva,Cambria Math,Consolas,Constantia,MS Reference Sans Serif,MS Mincho,Segoe UI,Arial Unicode MS,Tempus Sans ITC,Kristen ITC,Mistral,Meiryo UI,Juice ITC,Papyrus,Bradley Hand ITC,French Script MT,Malgun Gothic,Microsoft YaHei,Gisha,Leelawadee,Microsoft JhengHei,Haettenschweiler,Microsoft Himalaya,Microsoft Uighur,MoolBoran,Jokerman,DFKai-SB,KaiTi,SimSun-ExtB,Freestyle Script,Vivaldi,FangSong,MingLiU-ExtB,MingLiU_HKSCS,MingLiU_HKSCS-ExtB,PMingLiU-ExtB,Copperplate Gothic Light,Copperplate Gothic Bold,Franklin Gothic Book,Maiandra GD,Perpetua,Eras Demi ITC,Felix Titling,Franklin Gothic Demi,Pristina,Edwardian Script ITC,OCR A Extended,Engravers MT,Eras Light ITC,Franklin Gothic Medium Cond,Rockwell Extra Bold,Rockwell,Curlz MT,Blackadder ITC,Franklin Gothic Heavy,Franklin Gothic Demi Cond,Lucida Handwriting,Segoe UI Light,Segoe UI Semibold,Lucida Calligraphy,Cooper Black,Viner Hand ITC,Britannic Bold,Wide Latin,Old English Text MT,Broadway,Footlight MT Light,Harrington,Snap ITC,Onyx,Playbill,Bauhaus 93,Baskerville Old Face,Algerian,Matura MT Script Capitals,Stencil,Batang,Chiller,Harlow Solid Italic,Kunstler Script,Bernard MT Condensed,Informal Roman,Vladimir Script,Bell MT,Colonna MT,High Tower Text,Californian FB,Ravie,Segoe Script,Brush Script MT,SimSun,Arial Rounded MT Bold,Berlin Sans FB,Centaur,Niagara Solid,Showcard Gothic,Niagara Engraved,Segoe Print,Gabriola,Gill Sans MT,Iskoola Pota,Calisto MT,Script MT Bold,Century Schoolbook,Berlin Sans FB Demi,Magneto,Arabic Typesetting,DaunPenh,Mongolian Baiti,DokChampa,Euphemia,Kalinga,Microsoft Yi Baiti,Nyala,Bodoni MT Poster Compressed,Goudy Old Style,Imprint MT Shadow,Gill Sans MT Condensed,Gill Sans Ultra Bold,Palace Script MT,Lucida Fax,Gill Sans MT Ext Condensed Bold,Goudy Stout,Eras Medium ITC,Rage Italic,Rockwell Condensed,Castellar,Eras Bold ITC,Forte,Gill Sans Ultra Bold Condensed,Perpetua Titling MT,Agency FB,Tw Cen MT,Gigi,Tw Cen MT Condensed,Aparajita,Gloucester MT Extra Condensed,Tw Cen MT Condensed Extra Bold,PMingLiU,Bodoni MT,Bodoni MT Black,Bodoni MT Condensed,MS Gothic,GulimChe,MS UI Gothic,MS PGothic,Gulim,MS PMincho,BatangChe,Dotum,DotumChe,Gungsuh,GungsuhChe,MingLiU,NSimSun,SimHei,DejaVu Sans,DejaVu Sans Condensed,DejaVu Sans Mono,DejaVu Serif,DejaVu Serif Condensed,Eurostile,Matisse ITC,Bitstream Vera Sans Mono,Bitstream Vera Sans,Staccato222 BT,Bitstream Vera Serif,Broadway BT,ParkAvenue BT,Square721 BT,Calligraph421 BT,MisterEarl BT,Cataneo BT,Ruach LET,Rage Italic LET,La Bamba LET,Blackletter686 BT,John Handy LET,Scruff LET,Westwood LET".split(",").sort(),C=[],g=!1,x=!1,p=document.createElement("div"),p.id="font-detective",v=function(){function T(M,A,O){this.name=M,this.type=A,this.style=O}return T.prototype.toString=function(){return'"'+this.name.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},T}(),y=function(){var T,M,A,O;return T=["monospace","sans-serif","serif"],O=document.createElement("span"),O.innerHTML="mmmmmmmmmmlli",O.style.fontSize="72px",A={},M={},{init:function(){var R,_,N,z;for(document.body.appendChild(p),z=[],_=0,N=T.length;_<N;_++)R=T[_],O.style.fontFamily=R,p.appendChild(O),A[R]=O.offsetWidth,M[R]=O.offsetHeight,z.push(p.removeChild(O));return z},check:function(R){var _,N,z,j;for(z=0,j=T.length;z<j;z++)if(_=T[z],O.style.fontFamily=R+", "+_,p.appendChild(O),N=O.offsetWidth!==A[_]||O.offsetHeight!==M[_],p.removeChild(O),N)return!0;return!1}}}(),m=function(){if(!x)return x=!0,f.incomplete=!0,l(function(T){return function(){var M;return S(function(){var A,O,R;for(R=[],A=0,O=b.length;A<O;A++)M=b[A],R.push(new v(M));return R}())}}())},S=function(T){var M,A;return y.init(),M=0,A=u(20,function(){var O,R,_,N,z,j,H,P,q,U;for(N=0;N<=5;N++){if(_=T[M],O=y.check(_),O)for(C.push(_),q=f.each.callbacks,z=0,H=q.length;z<H;z++)R=q[z],R(_);if(M++,M>=T.length){for(A.stop(),U=f.all.callbacks,j=0,P=U.length;j<P;j++)R=U[j],R(C);f.all.callbacks=[],f.each.callbacks=[],g=!0;return}}})},f.preload=m,f.each=function(T){var M,A,O;for(A=0,O=C.length;A<O;A++)M=C[A],T(M);if(!g)return f.each.callbacks.push(T),m()},f.each.callbacks=[],f.all=function(T){return g?T(C):(f.all.callbacks.push(T),m())},f.all.callbacks=[]}(window)},{}]},{},[1])),sm}rT();const aT=["Times New Roman","Georgia","Times","Palatino","Baskerville","Hoefler Text","Palatino Linotype","serif"],nT=["Arial","Helvetica","Helvetica Neue","Verdana","Tahoma","Segoe UI","Calibri","Trebuchet MS","Lucida Sans Unicode","Liberation Sans","DejaVu Sans","Ubuntu","Cantarell","Noto Sans","system-ui","ui-sans-serif","sans-serif"],iT=["Courier New","Monaco","Menlo","Consolas","Lucida Console","SF Mono","Courier","Liberation Mono","DejaVu Sans Mono","Ubuntu Mono","Noto Mono","ui-monospace","monospace"],oT=["Apple Chancery","Zapfino","Comic Sans MS","cursive"],lT=e=>{const a=e.toLowerCase();return a.includes("mono")||a.includes("courier")||a.includes("consolas")||a.includes("menlo")||a.includes("monaco")||a.includes("inconsolata")||a.includes("code")||a.includes("terminal")||a.includes("fixed")?"monospace":a.includes("serif")&&!a.includes("sans")||a.includes("times")||a.includes("georgia")||a.includes("palatino")||a.includes("baskerville")||a.includes("garamond")||a.includes("cambria")?"serif":a.includes("script")||a.includes("cursive")||a.includes("handwriting")||a.includes("brush")||a.includes("calligraphy")||a.includes("chancery")||a.includes("zapfino")||a.includes("comic")?"cursive":a.includes("display")||a.includes("decorative")||a.includes("ornament")||a.includes("fantasy")||a.includes("impact")||a.includes("black")||a.includes("ultra")||a.includes("heavy")?"display":"sans-serif"},sT=async()=>{try{const e=await fetch("https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key=AIzaSyCaayBwQM10HMcVHs5KWhc97CvsWeD-Yt4",{signal:AbortSignal.timeout(5e3)});return e.ok?(await e.json()).items||[]:[]}catch{return[]}},uT=({value:e,onChange:a,className:n=""})=>{const[i,l]=ut.useState(!1),[u,c]=ut.useState(""),[f,v]=ut.useState([]),[p,g]=ut.useState(!1),[y,m]=ut.useState([]),[b,x]=ut.useState(!1),S=G=>{const V=G.replace(/ /g,"+");if(document.querySelector(`link[href*="${V}"]`))return;const Q=document.createElement("link");Q.href=`https://fonts.googleapis.com/css2?family=${V}:wght@300;400;500;600;700&display=swap`,Q.rel="stylesheet",document.head.appendChild(Q)},C=(G,V)=>{V.stopPropagation(),y.some(Q=>Q.family===G)&&S(G),a(G),l(!1),c("")},M=(()=>{const G={serif:[],sansSerif:[],monospace:[],cursive:[],display:[]};y.forEach(W=>{switch(W.category){case"serif":G.serif.push(W.family);break;case"sans-serif":G.sansSerif.push(W.family);break;case"monospace":G.monospace.push(W.family);break;case"handwriting":G.cursive.push(W.family);break;case"display":G.display.push(W.family);break;default:G.sansSerif.push(W.family)}});const V={serif:[],sansSerif:[],monospace:[],cursive:[],display:[]};return f.forEach(W=>{switch(lT(W)){case"serif":V.serif.push(W);break;case"sans-serif":V.sansSerif.push(W);break;case"monospace":V.monospace.push(W);break;case"cursive":V.cursive.push(W);break;case"display":V.display.push(W);break}}),{serif:[...new Set([...G.serif,...aT,...V.serif])],sansSerif:[...new Set([...G.sansSerif,...nT,...V.sansSerif])],monospace:[...new Set([...G.monospace,...iT,...V.monospace])],cursive:[...new Set([...G.cursive,...oT,...V.cursive])],display:[...new Set([...G.display,...V.display])]}})(),A=u.toLowerCase(),O=G=>G.filter(V=>V.toLowerCase().includes(A)),R=A.includes("serif")&&!A.includes("sans"),_=A.includes("sans")||A.includes("serif")&&A.includes("sans"),N=A.includes("mono")||A.includes("code")||A.includes("fixed"),z=A.includes("cursive")||A.includes("script")||A.includes("handwriting"),j=A.includes("display")||A.includes("decorative"),H=R?M.serif:O(M.serif),P=_?M.sansSerif:O(M.sansSerif),q=N?M.monospace:O(M.monospace),U=z?M.cursive:O(M.cursive),$=j?M.display:O(M.display);return ut.useEffect(()=>{b||sT().then(G=>{m(G),x(!0)})},[b]),ut.useEffect(()=>{p||window.FontDetective.all(G=>{const V=G.map(W=>W.name);v(V),g(!0)})},[p]),ut.useEffect(()=>{e&&y.some(G=>G.family===e)&&S(e)},[e,y]),ut.useEffect(()=>{const G=V=>{V.target.closest(".font-picker")||l(!1)};return i&&document.addEventListener("click",G),()=>{document.removeEventListener("click",G)}},[i]),E.jsxs("div",{className:`font-picker ${n}`,children:[E.jsxs("button",{type:"button",className:"font-picker-button",onClick:()=>l(!i),children:[e||"Select Font",E.jsx("span",{className:"font-picker-arrow",children:i?"":""})]}),i&&E.jsxs("div",{className:"font-picker-dropdown",children:[E.jsx("input",{type:"text",placeholder:"Search fonts...",value:u,onChange:G=>c(G.target.value),className:"font-picker-search"}),E.jsxs("div",{className:"font-picker-list",children:[H.length>0&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"font-category-header",children:"Serif"}),H.map(G=>E.jsx("div",{className:`font-picker-item ${e===G?"selected":""}`,onClick:V=>C(G,V),children:G},G))]}),P.length>0&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"font-category-header",children:"Sans Serif"}),P.map(G=>E.jsx("div",{className:`font-picker-item ${e===G?"selected":""}`,onClick:V=>C(G,V),children:G},G))]}),q.length>0&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"font-category-header",children:"Monospace"}),q.map(G=>E.jsx("div",{className:`font-picker-item ${e===G?"selected":""}`,onClick:V=>C(G,V),children:G},G))]}),U.length>0&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"font-category-header",children:"Cursive"}),U.map(G=>E.jsx("div",{className:`font-picker-item ${e===G?"selected":""}`,onClick:V=>C(G,V),children:G},G))]}),$.length>0&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"font-category-header",children:"Display"}),$.map(G=>E.jsx("div",{className:`font-picker-item ${e===G?"selected":""}`,onClick:V=>C(G,V),children:G},G))]}),H.length===0&&P.length===0&&q.length===0&&U.length===0&&$.length===0&&E.jsx("div",{className:"font-picker-no-results",children:"No fonts found"})]})]})]})},cT="modulepreload",fT=function(e,a){return new URL(e,a).href},cm={},ly=function(a,n,i){let l=Promise.resolve();if(n&&n.length>0){let c=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const f=document.getElementsByTagName("link"),v=document.querySelector("meta[property=csp-nonce]"),p=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));l=c(n.map(g=>{if(g=fT(g,i),g in cm)return;cm[g]=!0;const y=g.endsWith(".css"),m=y?'[rel="stylesheet"]':"";if(!!i)for(let S=f.length-1;S>=0;S--){const C=f[S];if(C.href===g&&(!y||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${m}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":cT,y||(x.as="script"),x.crossOrigin="",x.href=g,p&&x.setAttribute("nonce",p),document.head.appendChild(x),y)return new Promise((S,C)=>{x.addEventListener("load",S),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return a().catch(u)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var qi;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(qi||(qi={}));class od extends Error{constructor(a,n,i){super(a),this.message=a,this.code=n,this.data=i}}const dT=e=>{var a,n;return e!=null&&e.androidBridge?"android":!((n=(a=e==null?void 0:e.webkit)===null||a===void 0?void 0:a.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},vT=e=>{const a=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},l=()=>a!==null?a.name:dT(e),u=()=>l()!=="web",c=y=>{const m=p.get(y);return!!(m!=null&&m.platforms.has(l())||f(y))},f=y=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(b=>b.name===y)},v=y=>e.console.error(y),p=new Map,g=(y,m={})=>{const b=p.get(y);if(b)return console.warn(`Capacitor plugin "${y}" already registered. Cannot register plugins twice.`),b.proxy;const x=l(),S=f(y);let C;const T=async()=>(!C&&x in m?C=typeof m[x]=="function"?C=await m[x]():C=m[x]:a!==null&&!C&&"web"in m&&(C=typeof m.web=="function"?C=await m.web():C=m.web),C),M=(z,j)=>{var H,P;if(S){const q=S==null?void 0:S.methods.find(U=>j===U.name);if(q)return q.rtype==="promise"?U=>n.nativePromise(y,j.toString(),U):(U,$)=>n.nativeCallback(y,j.toString(),U,$);if(z)return(H=z[j])===null||H===void 0?void 0:H.bind(z)}else{if(z)return(P=z[j])===null||P===void 0?void 0:P.bind(z);throw new od(`"${y}" plugin is not implemented on ${x}`,qi.Unimplemented)}},A=z=>{let j;const H=(...P)=>{const q=T().then(U=>{const $=M(U,z);if($){const G=$(...P);return j=G==null?void 0:G.remove,G}else throw new od(`"${y}.${z}()" is not implemented on ${x}`,qi.Unimplemented)});return z==="addListener"&&(q.remove=async()=>j()),q};return H.toString=()=>`${z.toString()}() { [capacitor code] }`,Object.defineProperty(H,"name",{value:z,writable:!1,configurable:!1}),H},O=A("addListener"),R=A("removeListener"),_=(z,j)=>{const H=O({eventName:z},j),P=async()=>{const U=await H;R({eventName:z,callbackId:U},j)},q=new Promise(U=>H.then(()=>U({remove:P})));return q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},q},N=new Proxy({},{get(z,j){switch(j){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return S?_:O;case"removeListener":return R;default:return A(j)}}});return i[y]=N,p.set(y,{name:y,proxy:N,platforms:new Set([...Object.keys(m),...S?[x]:[]])}),N};return n.convertFileSrc||(n.convertFileSrc=y=>y),n.getPlatform=l,n.handleError=v,n.isNativePlatform=u,n.isPluginAvailable=c,n.registerPlugin=g,n.Exception=od,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},pT=e=>e.Capacitor=vT(e),cn=pT(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Tu=cn.registerPlugin;class sy{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(a,n){let i=!1;this.listeners[a]||(this.listeners[a]=[],i=!0),this.listeners[a].push(n);const u=this.windowListeners[a];u&&!u.registered&&this.addWindowListener(u),i&&this.sendRetainedArgumentsForEvent(a);const c=async()=>this.removeListener(a,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const a in this.windowListeners)this.removeWindowListener(this.windowListeners[a]);this.windowListeners={}}notifyListeners(a,n,i){const l=this.listeners[a];if(!l){if(i){let u=this.retainedEventArguments[a];u||(u=[]),u.push(n),this.retainedEventArguments[a]=u}return}l.forEach(u=>u(n))}hasListeners(a){var n;return!!(!((n=this.listeners[a])===null||n===void 0)&&n.length)}registerWindowListener(a,n){this.windowListeners[n]={registered:!1,windowEventName:a,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(a="not implemented"){return new cn.Exception(a,qi.Unimplemented)}unavailable(a="not available"){return new cn.Exception(a,qi.Unavailable)}async removeListener(a,n){const i=this.listeners[a];if(!i)return;const l=i.indexOf(n);this.listeners[a].splice(l,1),this.listeners[a].length||this.removeWindowListener(this.windowListeners[a])}addWindowListener(a){window.addEventListener(a.windowEventName,a.handler),a.registered=!0}removeWindowListener(a){a&&(window.removeEventListener(a.windowEventName,a.handler),a.registered=!1)}sendRetainedArgumentsForEvent(a){const n=this.retainedEventArguments[a];n&&(delete this.retainedEventArguments[a],n.forEach(i=>{this.notifyListeners(a,i)}))}}const fm=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),dm=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class hT extends sy{async getCookies(){const a=document.cookie,n={};return a.split(";").forEach(i=>{if(i.length<=0)return;let[l,u]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=dm(l).trim(),u=dm(u).trim(),n[l]=u}),n}async setCookie(a){try{const n=fm(a.key),i=fm(a.value),l=`; expires=${(a.expires||"").replace("expires=","")}`,u=(a.path||"/").replace("path=",""),c=a.url!=null&&a.url.length>0?`domain=${a.url}`:"";document.cookie=`${n}=${i||""}${l}; path=${u}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(a){try{document.cookie=`${a.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const a=document.cookie.split(";")||[];for(const n of a)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(a){return Promise.reject(a)}}async clearAllCookies(){try{await this.clearCookies()}catch(a){return Promise.reject(a)}}}Tu("CapacitorCookies",{web:()=>new hT});const gT=async e=>new Promise((a,n)=>{const i=new FileReader;i.onload=()=>{const l=i.result;a(l.indexOf(",")>=0?l.split(",")[1]:l)},i.onerror=l=>n(l),i.readAsDataURL(e)}),mT=(e={})=>{const a=Object.keys(e);return Object.keys(e).map(l=>l.toLocaleLowerCase()).reduce((l,u,c)=>(l[u]=e[a[c]],l),{})},yT=(e,a=!0)=>e?Object.entries(e).reduce((i,l)=>{const[u,c]=l;let f,v;return Array.isArray(c)?(v="",c.forEach(p=>{f=a?encodeURIComponent(p):p,v+=`${u}=${f}&`}),v.slice(0,-1)):(f=a?encodeURIComponent(c):c,v=`${u}=${f}`),`${i}&${v}`},"").substr(1):null,bT=(e,a={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},a),l=mT(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(l.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[c,f]of Object.entries(e.data||{}))u.set(c,f);n.body=u.toString()}else if(l.includes("multipart/form-data")||e.data instanceof FormData){const u=new FormData;if(e.data instanceof FormData)e.data.forEach((f,v)=>{u.append(v,f)});else for(const f of Object.keys(e.data))u.append(f,e.data[f]);n.body=u;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(l.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class ST extends sy{async request(a){const n=bT(a,a.webFetchExtra),i=yT(a.params,a.shouldEncodeUrlParams),l=i?`${a.url}?${i}`:a.url,u=await fetch(l,n),c=u.headers.get("content-type")||"";let{responseType:f="text"}=u.ok?a:{};c.includes("application/json")&&(f="json");let v,p;switch(f){case"arraybuffer":case"blob":p=await u.blob(),v=await gT(p);break;case"json":v=await u.json();break;case"document":case"text":default:v=await u.text()}const g={};return u.headers.forEach((y,m)=>{g[m]=y}),{data:v,headers:g,status:u.status,url:u.url}}async get(a){return this.request(Object.assign(Object.assign({},a),{method:"GET"}))}async post(a){return this.request(Object.assign(Object.assign({},a),{method:"POST"}))}async put(a){return this.request(Object.assign(Object.assign({},a),{method:"PUT"}))}async patch(a){return this.request(Object.assign(Object.assign({},a),{method:"PATCH"}))}async delete(a){return this.request(Object.assign(Object.assign({},a),{method:"DELETE"}))}}Tu("CapacitorHttp",{web:()=>new ST});function xT(e){e.CapacitorUtils.Synapse=new Proxy({},{get(a,n){return new Proxy({},{get(i,l){return(u,c,f)=>{const v=e.Capacitor.Plugins[n];if(v===void 0){f(new Error(`Capacitor plugin ${n} not found`));return}if(typeof v[l]!="function"){f(new Error(`Method ${l} not found in Capacitor plugin ${n}`));return}(async()=>{try{const p=await v[l](u);c(p)}catch(p){f(p)}})()}}})}})}function CT(e){e.CapacitorUtils.Synapse=new Proxy({},{get(a,n){return e.cordova.plugins[n]}})}function ET(e=!1){window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?xT(window):window.cordova!==void 0&&CT(window)}var Vd;(function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE",e.ExternalCache="EXTERNAL_CACHE",e.LibraryNoCloud="LIBRARY_NO_CLOUD",e.Temporary="TEMPORARY"})(Vd||(Vd={}));var Gd;(function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"})(Gd||(Gd={}));const TT=Tu("Filesystem",{web:()=>ly(()=>import("./web-DRa2MM51.js"),[],import.meta.url).then(e=>new e.FilesystemWeb)});ET();const wT=Tu("Share",{web:()=>ly(()=>import("./web-Dxm8SEn9.js"),[],import.meta.url).then(e=>new e.ShareWeb)}),uy=""+new URL("dashboard-DHB3HJge.png",import.meta.url).href,AT="1.4.3",MT={version:AT};var gm;const Ce=((gm=window.electronAPI)==null?void 0:gm.windowId)||"1",Ws=`window_${Ce}_companion_connection_url`,Ri=`window_${Ce}_companion_connections`,ld="global_font_family",OT=ut.forwardRef(({onNewBox:e,connectionUrl:a,onConnectionUrlChange:n,onConnectionsChange:i,onConfigRestore:l,onDeleteAllBoxes:u,canvasBackgroundColor:c,canvasBackgroundColorText:f,canvasBackgroundVariableColors:v,onCanvasBackgroundColorChange:p,onCanvasBackgroundColorTextChange:g,onCanvasBackgroundVariableColorsChange:y,canvasBackgroundImageOpacity:m,onCanvasBackgroundImageOpacityChange:b,canvasBackgroundImageSize:x,onCanvasBackgroundImageSizeChange:S,canvasBackgroundImageWidth:C,onCanvasBackgroundImageWidthChange:T,refreshRateMs:M,onRefreshRateMsChange:A,fontFamily:O,onFontFamilyChange:R,boxesLocked:_,onBoxesLockedChange:N,onToggle:z,isDisplayMode:j=!1,scaleEnabled:H=!1,onScaleEnabledChange:P,designWidth:q=1920,onDesignWidthChange:U},$)=>{const[G,V]=ut.useState(""),[W,Q]=ut.useState(null),[ot,B]=ut.useState([]),I=ut.useRef([]),[lt,et]=ut.useState({}),[dt,bt]=ut.useState({}),L=ut.useRef(null),[Z,k]=ut.useState(!1),rt=ut.useRef(null),[gt,ct]=ut.useState(null),[Ct,Dt]=ut.useState(null),[zt,Rt]=ut.useState(!1),Bt=ut.useRef(null),[Xt,Zt]=ut.useState(!1),[Ot,Ft]=ut.useState(null),le=typeof window<"u"&&window.electronAPI,Re=!1,ye=le||Re,[de,be]=ut.useState(80),[pt,vt]=ut.useState("dashboard"),[mt,At]=ut.useState(!1),[se,De]=ut.useState("Stopped"),[Yt,Me]=ut.useState([]),Fe=async()=>{var tt;try{const it=await((tt=window.electronAPI)==null?void 0:tt.webServer.start(de,pt));it!=null&&it.success?(At(!0),De(`Running on port ${it.port}`),localStorage.setItem(`window_${Ce}_web_server_port`,de.toString()),localStorage.setItem(`window_${Ce}_web_server_hostname`,pt),console.log(`Web server started on port ${it.port}`)):De(`Failed: ${(it==null?void 0:it.error)||"Unknown error"}`)}catch(it){console.error("Failed to start web server:",it),De("Failed to start")}},qt=async()=>{var tt;try{const it=await((tt=window.electronAPI)==null?void 0:tt.webServer.stop());it!=null&&it.success?(At(!1),De("Stopped"),console.log("Web server stopped")):De(`Failed to stop: ${(it==null?void 0:it.error)||"Unknown error"}`)}catch(it){console.error("Failed to stop web server:",it),De("Failed to stop")}},Se=async()=>{var tt;try{const it=await((tt=window.electronAPI)==null?void 0:tt.webServer.getStatus());it&&(At(it.isRunning),De(it.isRunning?`Running on port ${it.port}`:"Stopped"),Me(it.endpoints||[]),it.isRunning&&be(it.port))}catch(it){console.error("Failed to check web server status:",it)}};ut.useEffect(()=>{if(ye){const tt=localStorage.getItem(`window_${Ce}_web_server_port`);tt&&be(parseInt(tt,10));const it=localStorage.getItem(`window_${Ce}_web_server_hostname`);it&&vt(it),Se()}},[ye]),ut.useEffect(()=>{if(ye){const tt=setInterval(Se,5e3);return()=>clearInterval(tt)}},[ye]),ut.useEffect(()=>{V(a)},[a]),ut.useEffect(()=>{I.current=ot},[ot]),ut.useEffect(()=>{const tt=()=>{const wt=localStorage.getItem(`window_${Ce}_companion_connections`);if(wt)try{const Tt=JSON.parse(wt);if(JSON.stringify(Tt)!==JSON.stringify(I.current)){console.log("Connections changed, updating UI:",Tt),B(Tt);const Mt={};Tt.forEach(Ut=>{Mt[Ut.id]=Ut.url}),et(Mt)}}catch(Tt){console.error("Failed to parse saved connections:",Tt)}else I.current.length>0&&(console.log("Connections cleared, updating UI"),B([]),et({}))};tt();const it=setInterval(tt,1e3);return()=>clearInterval(it)},[]);const zr=async()=>{try{const tt=localStorage.getItem(`window_${Ce}_boxes`),it=localStorage.getItem("companion_connection_url"),wt=localStorage.getItem(`window_${Ce}_companion_connections`),Tt=localStorage.getItem(`window_${Ce}_canvas_settings`),Mt=Tt?JSON.parse(Tt):{};let Ut=null;if(Mt.canvasBackgroundColorText&&Mt.canvasBackgroundColorText.startsWith("./src/assets/background_")){const Te=Mt.canvasBackgroundColorText.split("/").pop();Te&&(Ut=await hn(Te),Ut||(Ut=localStorage.getItem(`window_${Ce}_cached_bg_${Te}`)))}const Kt={version:"1.0",timestamp:new Date().toISOString(),boxes:tt?JSON.parse(tt):[],companion_connection_url:it||"",companion_connections:wt?JSON.parse(wt):[],canvas_settings:Mt,background_image_data:Ut,font_family:localStorage.getItem(ld)||"",scale_enabled:localStorage.getItem(`window_${Ce}_scale_enabled`)==="true",design_width:parseInt(localStorage.getItem(`window_${Ce}_design_width`)||"1920")};console.log("Config export:",{hasBackgroundImage:!!Ut,backgroundImageSize:Ut?`${(Ut.length/1024/1024).toFixed(2)}MB`:"none"});const Qt=JSON.stringify(Kt,null,2),Ee=`companion-dashboard-${new Date().toISOString().split("T")[0]}.json`;if(cn.isNativePlatform())try{const Te=await TT.writeFile({path:Ee,data:Qt,directory:Vd.Documents,encoding:Gd.UTF8});console.log("File saved to:",Te.uri),await wT.share({title:"Export Companion Dashboard Config",text:"Save your dashboard configuration",url:Te.uri,dialogTitle:"Save Configuration File"}),console.log("Config exported successfully")}catch(Te){console.error("Failed to export config:",Te)}else{const Te=new Blob([Qt],{type:"application/json"}),ir=URL.createObjectURL(Te),Fr=document.createElement("a");Fr.href=ir,Fr.download=Ee,document.body.appendChild(Fr),Fr.click(),document.body.removeChild(Fr),URL.revokeObjectURL(ir),console.log("Config downloaded successfully")}}catch(tt){console.error("Failed to download config:",tt),alert("Failed to download configuration")}},Ki=()=>{var tt;(tt=L.current)==null||tt.click()},za=tt=>{var Tt;const it=(Tt=tt.target.files)==null?void 0:Tt[0];if(!it)return;const wt=new FileReader;wt.onload=Mt=>{var Ut;try{const Kt=(Ut=Mt.target)==null?void 0:Ut.result,Qt=JSON.parse(Kt);if(!Qt.boxes||!Array.isArray(Qt.boxes))throw new Error("Invalid config format: missing or invalid boxes array");Ft(Qt),Zt(!0)}catch(Kt){console.error("Failed to restore config:",Kt),alert("Failed to restore configuration. Please check the file format.")}},wt.readAsText(it),tt.target.value=""};ut.useEffect(()=>{const tt=localStorage.getItem(Ws);tt?(V(tt),tt!==a&&n(tt)):V(a);const it=localStorage.getItem(Ri);if(it)try{const wt=JSON.parse(it);B(wt);const Tt={};wt.forEach(Mt=>{Tt[Mt.id]=Mt.url}),et(Tt)}catch(wt){console.error("Failed to parse cached connections:",wt)}},[a,n]),ut.useEffect(()=>{const tt=async()=>{if(!a){Q(null);return}try{const wt=await fetch(`${a}/api/variable/internal/time_unix/value`);if(!wt.ok)throw new Error("Non-200 response");const Tt=await wt.text(),Mt=parseInt(Tt);if(!isNaN(Mt))Q(!0);else throw new Error("Invalid response")}catch{Q(!1)}};tt();const it=setInterval(tt,5e3);return()=>clearInterval(it)},[a]),ut.useEffect(()=>{const tt=async()=>{const it={};for(const wt of ot){if(!wt.url){it[wt.id]=null;continue}try{const Tt=await fetch(`${wt.url}/api/variable/internal/time_unix/value`);if(!Tt.ok)throw new Error("Non-200 response");const Mt=await Tt.text(),Ut=parseInt(Mt);if(!isNaN(Ut))it[wt.id]=!0;else throw new Error("Invalid response")}catch{it[wt.id]=!1}}bt(it)};if(ot.length>0){tt();const it=setInterval(tt,5e3);return()=>clearInterval(it)}},[ot]),ut.useEffect(()=>{const tt=Tt=>{const Mt=Tt.touches[0],Ut=Mt.clientX,Kt=Mt.clientY;Ut<=30&&(ct(Ut),Dt(Kt),Rt(!0))},it=Tt=>{if(!zt||gt===null||Ct===null)return;const Mt=Tt.touches[0],Ut=Mt.clientX,Kt=Mt.clientY,Qt=Ut-gt,Ee=Math.abs(Kt-Ct);Qt>50&&Ee<100&&(k(!0),Rt(!1),ct(null),Dt(null)),(Ee>100||Qt<-20)&&(Rt(!1),ct(null),Dt(null))},wt=()=>{Rt(!1),ct(null),Dt(null)};return document.addEventListener("touchstart",tt,{passive:!0}),document.addEventListener("touchmove",it,{passive:!0}),document.addEventListener("touchend",wt,{passive:!0}),()=>{document.removeEventListener("touchstart",tt),document.removeEventListener("touchmove",it),document.removeEventListener("touchend",wt)}},[zt,gt,Ct]),ut.useEffect(()=>{const tt=it=>{rt.current&&!rt.current.contains(it.target)&&k(!1)};return Z&&document.addEventListener("click",tt),()=>{document.removeEventListener("click",tt)}},[Z]);const[ne,Ne]=ut.useState(!1),gr=ut.useRef(null);ut.useEffect(()=>{const tt=()=>{Ne(!0),gr.current&&clearTimeout(gr.current),gr.current=window.setTimeout(()=>{Ne(!1)},2e3)};return window.addEventListener("mousemove",tt),()=>{window.removeEventListener("mousemove",tt),gr.current&&clearTimeout(gr.current)}},[]);const Pn=()=>{const tt=G.trim();if(!tt){V(""),localStorage.setItem(Ws,""),n(""),Q(null);return}try{let it=tt;!it.startsWith("http://")&&!it.startsWith("https://")&&(it="http://"+it);const wt=new URL(it),Tt=`${wt.protocol}//${wt.host}`;V(Tt),localStorage.setItem(Ws,Tt),n(Tt)}catch(it){console.error("Invalid URL:",it),Q(!1)}},Fn=tt=>{const it=tt.target.value;V(it),it.trim()&&localStorage.setItem(Ws,it)},Na=()=>{const tt={id:Ma(),url:"",label:`Connection [${ot.length+1}]`},it=[...ot,tt];B(it),et(wt=>({...wt,[tt.id]:""})),localStorage.setItem(Ri,JSON.stringify(it)),i(it)},Zi=(tt,it)=>{it==null||it.stopPropagation();const wt=ot.filter(Tt=>Tt.id!==tt);B(wt),et(Tt=>{const Mt={...Tt};return delete Mt[tt],Mt}),bt(Tt=>{const Mt={...Tt};return delete Mt[tt],Mt}),localStorage.setItem(Ri,JSON.stringify(wt)),i(wt)},Qi=(tt,it)=>{et(Tt=>({...Tt,[tt]:it}));const wt=ot.map(Tt=>Tt.id===tt?{...Tt,url:it}:Tt);B(wt),localStorage.setItem(Ri,JSON.stringify(wt)),i(wt)},xl=tt=>{const wt=(lt[tt]||"").trim();if(!wt){const Tt=ot.map(Mt=>Mt.id===tt?{...Mt,url:""}:Mt);B(Tt),et(Mt=>({...Mt,[tt]:""})),bt(Mt=>({...Mt,[tt]:null})),localStorage.setItem(Ri,JSON.stringify(Tt)),i(Tt);return}try{let Tt=wt;!Tt.startsWith("http://")&&!Tt.startsWith("https://")&&(Tt="http://"+Tt);const Mt=new URL(Tt),Ut=`${Mt.protocol}//${Mt.host}`,Kt=ot.map(Qt=>Qt.id===tt?{...Qt,url:Ut}:Qt);B(Kt),et(Qt=>({...Qt,[tt]:Ut})),localStorage.setItem(Ri,JSON.stringify(Kt)),i(Kt)}catch(Tt){console.error("Invalid URL:",Tt),bt(Mt=>({...Mt,[tt]:!1}))}},Cl=()=>{k(tt=>!tt),z==null||z()};ut.useImperativeHandle($,()=>({toggle:Cl}));const ea=()=>{const tt=v||[],it={id:Ma(),variable:"",value:"",color:"#ffffff"};y==null||y([...tt,it])},We=(tt,it)=>{it==null||it.stopPropagation();const wt=v||[];y==null||y(wt.filter(Tt=>Tt.id!==tt))},Ke=(tt,it,wt)=>{const Mt=(v||[]).map(Ut=>Ut.id===tt?{...Ut,[it]:wt}:Ut);y==null||y(Mt)},Ba=()=>{var tt;(tt=Bt.current)==null||tt.click()},Ji=(tt,it=1920,wt=1080,Tt=.9)=>new Promise((Mt,Ut)=>{const Kt=document.createElement("canvas"),Qt=Kt.getContext("2d"),Ee=new Image;Ee.onload=()=>{let{width:Te,height:ir}=Ee;Te>ir?Te>it&&(ir=ir*it/Te,Te=it):ir>wt&&(Te=Te*wt/ir,ir=wt),Kt.width=Te,Kt.height=ir,Qt==null||Qt.drawImage(Ee,0,0,Te,ir);const Nr=tt.type==="image/png"?Kt.toDataURL("image/png"):Kt.toDataURL("image/jpeg",Tt);console.log(`Compressed image with quality: ${Tt}, estimated size: ${(Nr.length*.75/1024/1024).toFixed(2)}MB`),Mt(Nr)},Ee.onerror=()=>Ut(new Error("Failed to load image")),Ee.src=URL.createObjectURL(tt)}),wu=async tt=>{var wt;const it=(wt=tt.target.files)==null?void 0:wt[0];if(it){if(!it.type.startsWith("image/")){alert("Please select an image file.");return}try{console.log(`Original file size: ${(it.size/1024/1024).toFixed(2)}MB`);let Tt=0;for(let Ee in localStorage)localStorage.hasOwnProperty(Ee)&&(Tt+=localStorage[Ee].length);console.log(`Current localStorage usage: ${(Tt/1024/1024).toFixed(2)}MB`);const Mt=await Ji(it),Kt=`background_${Date.now()}.jpg`,Qt=f||"";if(Qt.startsWith("./src/assets/background_")&&Qt.includes(".")){const Ee=Qt.split("/").pop();Ee&&localStorage.removeItem(`window_${Ce}_cached_bg_${Ee}`)}g==null||g(`./src/assets/${Kt}`);try{await to(Kt,Mt),console.log("Background image stored in IndexedDB:",Kt)}catch(Ee){console.error("IndexedDB storage failed, falling back to localStorage:",Ee);try{localStorage.setItem(`window_${Ce}_cached_bg_${Kt}`,Mt),console.log("Background image stored in localStorage (fallback)")}catch(Te){throw Te instanceof DOMException&&Te.name==="QuotaExceededError"?new Error(`Storage quota exceeded. Current localStorage usage: ${(Tt/1024/1024).toFixed(2)}MB. Please clear some data or use a smaller image.`):Te}}}catch(Tt){console.error("Failed to cache background image:",Tt),alert("Failed to set background image.")}tt.target.value=""}},$i=()=>new Promise((tt,it)=>{const wt=indexedDB.open("CompanionDashboardImages",3);wt.onerror=()=>it(wt.error),wt.onsuccess=()=>tt(wt.result),wt.onupgradeneeded=Tt=>{const Mt=Tt.target.result;Mt.objectStoreNames.contains("images")||Mt.createObjectStore("images",{keyPath:"id"})}}),to=async(tt,it)=>{try{const Mt=(await $i()).transaction(["images"],"readwrite").objectStore("images");return new Promise((Ut,Kt)=>{const Qt=Mt.put({id:tt,data:it});Qt.onerror=()=>Kt(Qt.error),Qt.onsuccess=()=>{console.log("Successfully stored image in IndexedDB"),Ut()}})}catch(wt){throw console.error("Error in storeImageInDB:",wt),wt}},hn=async tt=>{try{const Tt=(await $i()).transaction(["images"],"readonly").objectStore("images");return new Promise((Mt,Ut)=>{const Kt=Tt.get(tt);Kt.onerror=()=>Ut(Kt.error),Kt.onsuccess=()=>{const Qt=Kt.result;Mt(Qt?Qt.data:null)}})}catch(it){return console.error("Error getting image from IndexedDB:",it),null}},eo=async tt=>{try{const Tt=(await $i()).transaction(["images"],"readwrite").objectStore("images");return new Promise((Mt,Ut)=>{const Kt=Tt.delete(tt);Kt.onerror=()=>Ut(Kt.error),Kt.onsuccess=()=>Mt()})}catch(it){console.error("Error deleting image from IndexedDB:",it)}},ja=async()=>{const tt=f||"";if(tt.startsWith("./src/assets/background_")){g==null||g("");const it=tt.split("/").pop();it&&(localStorage.removeItem(`window_${Ce}_cached_bg_${it}`),await eo(it),console.log("Cleared cached background image:",it))}},La=()=>{if(!Ot)return;const tt=localStorage.getItem(`window_${Ce}_boxes`),it=tt?JSON.parse(tt):[],wt=Ot.boxes.map(Mt=>({...Mt,id:Ma(),frame:{...Mt.frame,translate:[Mt.frame.translate[0]+20,Mt.frame.translate[1]+20]}})),Tt=[...it,...wt];localStorage.setItem(`window_${Ce}_boxes`,JSON.stringify(Tt)),l(Tt,a,null),console.log("Boxes added successfully with new UUIDs"),Zt(!1),Ft(null)},gn=async()=>{var it,wt;if(!Ot)return;if(window.confirm("Are you sure you want to replace the entire configuration? This cannot be undone.")){console.log("Replacing configuration with:",{connectionUrl:Ot.companion_connection_url,connections:Ot.companion_connections,boxCount:(it=Ot.boxes)==null?void 0:it.length}),localStorage.removeItem(`window_${Ce}_boxes`),localStorage.removeItem("companion_connection_url"),localStorage.removeItem(`window_${Ce}_companion_connections`),localStorage.removeItem(`window_${Ce}_canvas_settings`),localStorage.setItem(`window_${Ce}_boxes`,JSON.stringify(Ot.boxes));const Tt=Ot.companion_connection_url||"";if(localStorage.setItem("companion_connection_url",Tt),console.log("Set companion_connection_url to:",Tt),localStorage.setItem(`window_${Ce}_companion_connections`,JSON.stringify(Ot.companion_connections||[])),Ot.canvas_settings&&localStorage.setItem(`window_${Ce}_canvas_settings`,JSON.stringify(Ot.canvas_settings)),Ot.font_family&&(localStorage.setItem(ld,Ot.font_family),R==null||R(Ot.font_family)),Ot.scale_enabled!==void 0&&(localStorage.setItem(`window_${Ce}_scale_enabled`,Ot.scale_enabled.toString()),P==null||P(Ot.scale_enabled)),Ot.design_width!==void 0&&(localStorage.setItem(`window_${Ce}_design_width`,Ot.design_width.toString()),U==null||U(Ot.design_width)),Ot.background_image_data&&((wt=Ot.canvas_settings)!=null&&wt.canvasBackgroundColorText)){const Qt=Ot.canvas_settings.canvasBackgroundColorText;if(Qt.startsWith("./src/assets/background_")){const Ee=Qt.split("/").pop();if(Ee)try{await to(Ee,Ot.background_image_data),console.log("Background image restored to IndexedDB")}catch{localStorage.setItem(`window_${Ce}_cached_bg_${Ee}`,Ot.background_image_data),console.log("Background image restored to localStorage (fallback)")}}}const Mt=Ot.companion_connection_url||"";V(Mt),console.log("Set local input URL to:",Mt);const Ut=Ot.companion_connections||[];B(Ut);const Kt={};Ut.forEach(Qt=>{Kt[Qt.id]=Qt.url}),et(Kt),i(Ut),console.log("Calling onConfigRestore with URL:",Mt),l(Ot.boxes,Mt,Ot.canvas_settings),console.log("Full configuration replaced successfully")}Zt(!1),Ft(null)};return E.jsxs("div",{ref:rt,children:[!j&&E.jsxs("div",{id:"menu-icon",className:"menu-icon",style:{opacity:ne?1:0,transition:"opacity 0.5s ease"},onClick:Cl,children:[E.jsx(UE,{style:{display:Z?"none":"inline"}}),E.jsx(HE,{style:{display:Z?"inline":"none"}})]}),!j&&E.jsx("div",{className:"lock-icon",style:{opacity:ne?1:0,transition:"opacity 0.5s ease",cursor:"pointer"},onClick:tt=>{tt.stopPropagation(),N==null||N(!_)},children:_?E.jsx(IE,{}):E.jsx(XE,{})}),E.jsx("div",{className:Z?"menu menu-open":"menu",children:E.jsxs("div",{className:"menu-content",children:[E.jsxs("div",{className:"logo-box",children:[E.jsx("img",{src:uy,style:{height:"100px"},alt:"Dashboard"}),E.jsxs("span",{className:"wordmark",children:["COMPANION",E.jsx("b",{style:{fontSize:"1.3em"},children:"DASHBOARD"})]})]}),E.jsx("span",{className:"section-label",children:"Companion Connection"}),E.jsx("div",{className:"menu-section",children:E.jsx("div",{className:"settings-subsection",children:E.jsxs("div",{className:"canvas-refresh-rate-controls",children:[E.jsx("label",{htmlFor:"canvas-refresh-rate",className:"connection-label",children:"Variable Refresh Rate (ms)"}),E.jsx("input",{id:"canvas-refresh-rate",type:"number",min:"50",max:"10000",value:M||100,onChange:tt=>A==null?void 0:A(parseInt(tt.target.value)||100),className:"canvas-color-text",style:{marginLeft:"15px",textAlign:"center"}})]})})}),E.jsx("div",{className:"menu-section-column",children:E.jsxs("div",{className:"settings-subsection",children:[E.jsxs("div",{className:"connection-item",children:[E.jsx("span",{className:"connection-label",children:"Default Connection"}),E.jsxs("div",{className:"connection-controls",children:[E.jsx("input",{type:"text",value:G,onChange:Fn,placeholder:"http://127.0.0.1:8888/",style:{border:"1px solid",borderColor:W===null?"gray":W===!0?"green":"red"}}),E.jsx("button",{onClick:Pn,children:"SET"})]})]}),ot.map((tt,it)=>E.jsxs("div",{className:"connection-item",children:[E.jsxs("span",{className:"connection-label",children:["Connection [",it+1,"]"]}),E.jsxs("div",{className:"connection-controls",children:[E.jsx("input",{type:"text",value:lt[tt.id]||"",onChange:wt=>Qi(tt.id,wt.target.value),placeholder:"http://127.0.0.1:8888/",style:{border:"1px solid",borderColor:dt[tt.id]===null?"gray":dt[tt.id]===!0?"green":"red"}}),E.jsx("button",{onClick:()=>xl(tt.id),children:"SET"}),E.jsx("button",{onClick:wt=>Zi(tt.id,wt),className:"delete-connection-button",children:E.jsx(qE,{})})]})]},tt.id)),E.jsx("button",{className:"add-connection-button",onClick:Na,children:E.jsx(sl,{})})]})}),E.jsx("span",{className:"section-label",children:"Font"}),E.jsx("div",{className:"menu-section font-section",children:E.jsx(uT,{value:O||"Work Sans",onChange:tt=>{localStorage.setItem(ld,tt),R==null||R(tt)},className:"settings-font-picker"})}),!cn.isNativePlatform()&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"section-label",children:"Responsive Scaling"}),E.jsxs("div",{className:"menu-section scaling-section",children:[E.jsxs("div",{className:"scaling-checkbox-row",children:[E.jsx("input",{type:"checkbox",id:"scale-enabled",checked:H,onChange:tt=>P==null?void 0:P(tt.target.checked)}),E.jsx("label",{htmlFor:"scale-enabled",children:"Scale based on width"})]}),E.jsxs("div",{className:"scaling-width-row",children:[E.jsx("label",{htmlFor:"design-width",children:"Width (px)"}),E.jsx("input",{id:"design-width",type:"number",value:q,onChange:tt=>{const it=parseInt(tt.target.value)||1920;U==null||U(it)},min:"320",max:"7680"}),E.jsx("button",{onClick:()=>{typeof window<"u"&&(U==null||U(window.innerWidth))},children:"Use Current Canvas Width"})]})]})]}),E.jsx("span",{className:"section-label",children:"Background"}),E.jsxs("div",{className:"menu-section canvas-section",children:[E.jsxs("div",{className:"settings-subsection",children:[E.jsx("span",{className:"canvas-color-label",children:"Color"}),E.jsxs("div",{className:"canvas-color-input-group",children:[E.jsx(sa,{value:c||"#000000",onChange:tt=>p==null?void 0:p(tt),className:"canvas-color-picker"}),E.jsx("input",{type:"text",value:f||"",onChange:tt=>g==null?void 0:g(tt.target.value),placeholder:"Variable, HEX, or Image URL",className:"canvas-color-text"})]}),E.jsxs("div",{className:"canvas-variable-color-container",children:[E.jsx("span",{className:"canvas-color-label",children:"Variable Background Color"}),E.jsx("div",{className:"canvas-variable-color-section",children:(v||[]).map(tt=>E.jsxs("div",{className:"canvas-variable-color-row",children:[E.jsx("input",{type:"text",value:tt.variable,onChange:it=>Ke(tt.id,"variable",it.target.value),placeholder:"Variable",className:"canvas-variable-input"}),E.jsx("input",{type:"text",value:tt.value,onChange:it=>Ke(tt.id,"value",it.target.value),placeholder:"Value",className:"canvas-value-input"}),E.jsx(sa,{value:tt.color,onChange:it=>Ke(tt.id,"color",it),className:"canvas-variable-color-picker"}),E.jsx("button",{type:"button",className:"canvas-remove-variable-color-button",onClick:it=>We(tt.id,it),children:E.jsx($s,{})})]},tt.id))}),E.jsx("button",{type:"button",className:"canvas-add-variable-color-button",onClick:ea,children:E.jsx(sl,{})})]})]}),E.jsxs("div",{className:"canvas-image-group",children:[E.jsx("span",{className:"canvas-color-label",children:"Background Image"}),E.jsxs("div",{className:"canvas-image-controls",children:[E.jsx("button",{type:"button",onClick:Ba,className:"canvas-browse-button",children:"Browse Image"}),f&&f.startsWith("./src/assets/background_")&&E.jsx("button",{type:"button",onClick:ja,className:"canvas-clear-button",children:"Clear Image"})]}),E.jsxs("div",{className:"canvas-opacity-controls",children:[E.jsx("label",{htmlFor:"canvas-background-opacity",children:"Background Image Opacity (%)"}),E.jsx("input",{id:"canvas-background-opacity",type:"number",min:"0",max:"100",value:m||100,onChange:tt=>b==null?void 0:b(parseInt(tt.target.value)||100),className:"canvas-opacity-input"})]}),E.jsxs("div",{className:"canvas-image-size-controls",children:[E.jsx("label",{htmlFor:"canvas-image-size",children:"Background Image Size"}),E.jsxs("select",{id:"canvas-image-size",value:x||"cover",onChange:tt=>S==null?void 0:S(tt.target.value),children:[E.jsx("option",{value:"cover",children:"Cover (fill canvas)"}),E.jsx("option",{value:"contain",children:"Contain (fit entire image)"}),E.jsx("option",{value:"width",children:"Custom Width"})]})]}),x==="width"&&E.jsxs("div",{className:"canvas-image-size-controls",children:[E.jsx("label",{htmlFor:"canvas-image-width",children:"Custom Width"}),E.jsx("input",{id:"canvas-image-width",type:"number",min:"100",max:"10000",value:C||1920,onChange:tt=>T==null?void 0:T(parseInt(tt.target.value)||1920)}),E.jsx("span",{style:{fontSize:"12px",opacity:.6},children:"px"})]})]})]}),E.jsx("span",{className:"section-label",children:"Boxes"}),E.jsxs("div",{className:"menu-section",children:[E.jsx("button",{onClick:e,children:"NEW BOX"}),E.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to clear all of the boxes?")&&u()},className:"clear-boxes",children:"CLEAR ALL"})]}),ye&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"section-label",children:"WEB SERVER"}),E.jsx("div",{className:"menu-section",children:E.jsx("div",{className:"settings-subsection",children:E.jsxs("div",{className:"web-server-controls",children:[E.jsxs("div",{className:"web-server-port-container",children:[E.jsx("label",{htmlFor:"web-server-hostname",children:"mDNS:"}),E.jsx("input",{id:"web-server-hostname",type:"text",value:pt,onChange:tt=>vt(tt.target.value),disabled:mt,placeholder:"dashboard",style:{width:"120px",marginLeft:"10px"}}),E.jsx("span",{style:{marginLeft:"5px",opacity:.6},children:".local"})]}),E.jsxs("div",{className:"web-server-port-container",children:[E.jsx("label",{htmlFor:"web-server-port",children:"Port:"}),E.jsx("input",{id:"web-server-port",type:"number",min:"1",max:"65535",value:de,onChange:tt=>{const it=parseInt(tt.target.value,10);isNaN(it)||be(it)},disabled:mt,style:{width:"80px",marginLeft:"10px"}})]}),E.jsx("div",{className:"web-server-actions",children:mt?E.jsx("button",{onClick:qt,className:"web-server-stop",children:"STOP SERVER"}):E.jsx("button",{onClick:Fe,className:"web-server-start",children:"START SERVER"})}),E.jsxs("div",{className:"web-server-status",children:["Status: ",se]})]})})}),mt&&Yt.length>0&&E.jsx(E.Fragment,{children:E.jsx("div",{className:"menu-section",children:E.jsx("div",{className:"settings-subsection",children:E.jsxs("div",{className:"menu-section-column",children:[Yt.filter(tt=>tt.type==="read-only").length>0&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"endpoint-section-label",children:"Display View (Read-Only)"}),Yt.filter(tt=>tt.type==="read-only").map((tt,it)=>E.jsx("a",{href:"#",onClick:wt=>{var Tt;wt.preventDefault(),(Tt=window.electronAPI)!=null&&Tt.openExternal?window.electronAPI.openExternal(tt.url):window.open(tt.url,"_blank","noopener,noreferrer")},className:"endpoint-link",children:E.jsx("code",{children:tt.url})},`ro-${it}`))]}),Yt.filter(tt=>tt.type==="full-app").length>0&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"endpoint-section-label",children:"Control View (Full App)"}),Yt.filter(tt=>tt.type==="full-app").map((tt,it)=>E.jsx("a",{href:"#",onClick:wt=>{var Tt;wt.preventDefault(),(Tt=window.electronAPI)!=null&&Tt.openExternal?window.electronAPI.openExternal(tt.url):window.open(tt.url,"_blank","noopener,noreferrer")},className:"endpoint-link",children:E.jsx("code",{children:tt.url})},`fa-${it}`))]})]})})})})]}),E.jsx("span",{className:"section-label",children:"CONFIGURATION"}),E.jsxs("div",{className:"menu-section",children:[E.jsx("button",{onClick:zr,children:"SAVE"}),E.jsx("button",{onClick:Ki,children:"LOAD"})]}),E.jsx("input",{ref:L,type:"file",accept:".json",onChange:za,style:{display:"none"}}),E.jsx("input",{ref:Bt,type:"file",accept:"image/*",onChange:wu,style:{display:"none"}}),E.jsxs("span",{className:"footer",children:["v",MT.version,E.jsx("br",{}),"Created by Tom Hillmeyer"]})]})}),Xt&&E.jsx("div",{className:"config-dialog-overlay",children:E.jsxs("div",{className:"config-dialog",children:[E.jsx("h3",{children:"Load Configuration"}),E.jsx("p",{children:"How would you like to load this configuration?"}),E.jsxs("div",{className:"config-dialog-buttons",children:[E.jsxs("button",{className:"config-dialog-button add-boxes",onClick:La,children:["Add Boxes Only",E.jsx("span",{className:"button-description",children:"Keep current settings"})]}),E.jsxs("button",{className:"config-dialog-button replace-all",onClick:gn,children:["Replace Everything",E.jsx("span",{className:"button-description",children:"Replace all settings"})]})]}),E.jsx("button",{className:"config-dialog-cancel",onClick:()=>{Zt(!1),Ft(null)},children:"Cancel"})]})})]})}),vm=[{id:"1e9480a6-f344-484e-a7d3-543d357cff23",frame:{translate:[30,30],width:690,height:150},zIndex:1,backgroundColor:"#019cff",backgroundColorText:"",backgroundVariableColors:[],borderColor:"#61BAFA",borderColorText:"",borderVariableColors:[],noBorder:!0,headerColor:"#19325c",headerColorText:"",headerVariableColors:[],headerLabelSource:"",headerLabel:"NO CONNECTION",headerLabelSize:30,headerLabelColor:"#ffffff",headerLabelColorText:"",headerLabelVariableColors:[],leftLabelSource:"**Welcome to<br>Companion Dashboard!**",leftLabel:"",leftLabelSize:50,leftLabelColor:"#FFFFFF",leftLabelColorText:"",leftLabelVariableColors:[],leftVisible:!0,rightLabelSource:"$(internal:time_hms_12)",rightLabel:"",rightLabelSize:20,rightLabelColor:"#FFFFFF",rightLabelColorText:"",rightLabelVariableColors:[],rightVisible:!1,headerLabelVisible:!1},{id:"b67782e9-3e55-4a26-bdff-ec97e03a4d85",frame:{translate:[30,195],width:690,height:105},zIndex:1,backgroundColor:"#262626",backgroundColorText:"",backgroundVariableColors:[],borderColor:"#61BAFA",borderColorText:"",borderVariableColors:[],noBorder:!0,headerColor:"#19325c",headerColorText:"",headerVariableColors:[],headerLabelSource:"",headerLabel:"NO CONNECTION",headerLabelSize:30,headerLabelColor:"#ffffff",headerLabelColorText:"",headerLabelVariableColors:[],leftLabelSource:"Double click boxes to edit them.",leftLabel:"",leftLabelSize:30,leftLabelColor:"#FFFFFF",leftLabelColorText:"",leftLabelVariableColors:[],leftVisible:!0,rightLabelSource:"Click the arrow in the bottom left of the page to edit settings",rightLabel:"",rightLabelSize:15,rightLabelColor:"#FFFFFF",rightLabelColorText:"",rightLabelVariableColors:[],rightVisible:!0,headerLabelVisible:!1},{id:"9369f827-4d5f-440a-880f-2f9420464d3d",frame:{translate:[30,315],width:690,height:105},zIndex:1,backgroundColor:"#262626",backgroundColorText:"",backgroundVariableColors:[],borderColor:"#61BAFA",borderColorText:"",borderVariableColors:[],noBorder:!0,headerColor:"#19325c",headerColorText:"",headerVariableColors:[],headerLabelSource:"",headerLabel:"NO CONNECTION",headerLabelSize:30,headerLabelColor:"#ffffff",headerLabelColorText:"",headerLabelVariableColors:[],leftLabelSource:"Learn more about the functionality&nbsp[here!](https://github.com/tomhillmeyer/companion-dashboard/blob/main/README.md)",leftLabel:"",leftLabelSize:30,leftLabelColor:"#FFFFFF",leftLabelColorText:"",leftLabelVariableColors:[],leftVisible:!0,rightLabelSource:"Click the arrow in the bottom left of the page to edit settings",rightLabel:"",rightLabelSize:15,rightLabelColor:"#FFFFFF",rightLabelColorText:"",rightLabelVariableColors:[],rightVisible:!1,headerLabelVisible:!1}],RT=()=>{const[e,a]=ut.useState(!1),[n,i]=ut.useState(null),l=()=>{a(!0),n&&clearTimeout(n);const u=setTimeout(()=>a(!1),2e3);i(u)};return ut.useEffect(()=>{const u=()=>l();return window.addEventListener("mousemove",u),()=>window.removeEventListener("mousemove",u)},[]),E.jsx("div",{className:`title-bar ${e?"visible":""}`})},DT=()=>{var e;return typeof window<"u"&&((e=window.electronAPI)!=null&&e.windowId)?window.electronAPI.windowId:"1"},Yn=DT(),Ks=`window_${Yn}_boxes`,la=`window_${Yn}_canvas_settings`,sd=`window_${Yn}_companion_connections`,Qo="global_font_family",pm=`window_${Yn}_boxes_locked`,Zs=`window_${Yn}_scale_enabled`,Qs=`window_${Yn}_design_width`;function _T(){const[e,a]=ut.useState(()=>{const pt=localStorage.getItem(Ks);if(pt)try{return JSON.parse(pt).map(mt=>({...mt,anchorPoint:mt.anchorPoint??"top-left",leftRightRatio:mt.leftRightRatio??50,leftVisible:mt.leftVisible??!0,rightVisible:mt.rightVisible??!0,opacity:mt.opacity??100,opacitySource:mt.opacitySource??"",opacityVariableValues:mt.opacityVariableValues??[],overlayColor:mt.overlayColor??"#00000000",overlayColorText:mt.overlayColorText??"",overlayVariableColors:mt.overlayVariableColors??[],overlayDirection:mt.overlayDirection??"bottom",overlaySize:mt.overlaySize??100,overlaySizeSource:mt.overlaySizeSource??"",overlaySizeVariableValues:mt.overlaySizeVariableValues??[]}))}catch(vt){return console.error("Failed to parse saved boxes:",vt),vm}else return vm}),n=(pt,vt,mt)=>{console.log("handleConfigRestore called with URL:",vt),console.log("Current companionBaseUrl before update:",b),a(pt),x(vt),console.log("Called setCompanionBaseUrl with:",vt),c(null),mt&&(mt.canvasBackgroundColor!==void 0&&M(mt.canvasBackgroundColor),mt.canvasBackgroundColorText!==void 0&&O(mt.canvasBackgroundColorText),mt.canvasBackgroundVariableColors!==void 0&&_(mt.canvasBackgroundVariableColors),mt.canvasBackgroundImageOpacity!==void 0&&z(mt.canvasBackgroundImageOpacity),mt.refreshRateMs!==void 0&&$(mt.refreshRateMs))},i=()=>{a([]),c(null)},l=pt=>{const vt={...pt,id:Ma(),frame:{...pt.frame,translate:[pt.frame.translate[0]+20,pt.frame.translate[1]+20]},leftRightRatio:pt.leftRightRatio??50};a(mt=>[...mt,vt])},[u,c]=ut.useState(null),[f,v]=ut.useState(!1),[p,g]=ut.useState(!0),y=ut.useRef(null),m=ut.useRef(null);ut.useEffect(()=>{window.isDraggingBox=f,console.log("Dragging state changed:",f)},[f]);const[b,x]=ut.useState(()=>localStorage.getItem("companion_connection_url")||""),[S,C]=ut.useState([]),[T,M]=ut.useState(()=>{const pt=localStorage.getItem(la);if(pt)try{return JSON.parse(pt).canvasBackgroundColor||"#000000"}catch(vt){return console.error("Failed to parse canvas settings:",vt),"#000000"}return"#000000"}),[A,O]=ut.useState(()=>{const pt=localStorage.getItem(la);if(pt)try{return JSON.parse(pt).canvasBackgroundColorText||""}catch{return""}return""}),[R,_]=ut.useState(()=>{const pt=localStorage.getItem(la);if(pt)try{return JSON.parse(pt).canvasBackgroundVariableColors||[]}catch{return[]}return[]}),[N,z]=ut.useState(()=>{const pt=localStorage.getItem(la);if(pt)try{return JSON.parse(pt).canvasBackgroundImageOpacity||100}catch{return 100}return 100}),[j,H]=ut.useState(()=>{const pt=localStorage.getItem(la);if(pt)try{return JSON.parse(pt).canvasBackgroundImageSize||"cover"}catch{return"cover"}return"cover"}),[P,q]=ut.useState(()=>{const pt=localStorage.getItem(la);if(pt)try{return JSON.parse(pt).canvasBackgroundImageWidth||1920}catch{return 1920}return 1920}),[U,$]=ut.useState(()=>{const pt=localStorage.getItem(la);if(pt)try{return JSON.parse(pt).refreshRateMs||100}catch{return 100}return 100}),[G,V]=ut.useState(()=>localStorage.getItem(Qo)||"Work Sans"),[W,Q]=ut.useState(()=>localStorage.getItem(Zs)==="true"),[ot,B]=ut.useState(()=>{const pt=localStorage.getItem(Qs);return pt?parseInt(pt):1920}),[I,lt]=ut.useState(1),[et]=ut.useState(()=>{if(typeof window>"u")return!1;const pt=window.location.pathname==="/",vt=!!window.electronAPI,mt=cn.isNativePlatform();return pt&&!vt&&!mt}),[dt,bt]=ut.useState(()=>et?!0:localStorage.getItem(pm)==="true");ut.useEffect(()=>{const pt=localStorage.getItem(Qo)||"Work Sans";document.documentElement.style.setProperty("--box-font-family",`"${pt}", system-ui, Avenir, Helvetica, Arial, sans-serif`)},[]);const L=ut.useRef(null);ut.useEffect(()=>{localStorage.setItem(Ks,JSON.stringify(e))},[e]),ut.useEffect(()=>{const pt={canvasBackgroundColor:T,canvasBackgroundColorText:A,canvasBackgroundVariableColors:R,canvasBackgroundImageOpacity:N,canvasBackgroundImageSize:j,canvasBackgroundImageWidth:P,refreshRateMs:U};localStorage.setItem(la,JSON.stringify(pt))},[T,A,R,N,j,P,U]),ut.useEffect(()=>{localStorage.setItem("companion_connection_url",b)},[b]),ut.useEffect(()=>{localStorage.setItem(Qo,G),document.documentElement.style.setProperty("--box-font-family",`"${G}", system-ui, Avenir, Helvetica, Arial, sans-serif`)},[G]),ut.useEffect(()=>{et||localStorage.setItem(pm,dt.toString())},[dt,et]),ut.useEffect(()=>{localStorage.setItem(Zs,W.toString())},[W]),ut.useEffect(()=>{localStorage.setItem(Qs,ot.toString())},[ot]),ut.useEffect(()=>{const pt=()=>{lt(W&&typeof window<"u"?window.innerWidth/ot:1)};return pt(),window.addEventListener("resize",pt),()=>window.removeEventListener("resize",pt)},[W,ot]);const Z=pt=>{et||bt(pt)};ut.useEffect(()=>{const pt=localStorage.getItem(sd);if(pt)try{const vt=JSON.parse(pt);C(vt)}catch(vt){console.error("Failed to parse saved connections:",vt)}},[]);const k=()=>{const pt={};return A&&(pt[A]=A),R&&Array.isArray(R)&&R.forEach(vt=>{vt.variable&&(pt[vt.variable]=vt.variable)}),pt},rt=()=>{const pt={};return Object.assign(pt,k()),e.forEach(vt=>{vt.headerLabelSource&&(pt[vt.headerLabelSource]=vt.headerLabelSource),vt.leftLabelSource&&(pt[vt.leftLabelSource]=vt.leftLabelSource),vt.rightLabelSource&&(pt[vt.rightLabelSource]=vt.rightLabelSource),vt.backgroundColorText&&(pt[vt.backgroundColorText]=vt.backgroundColorText),vt.borderColorText&&(pt[vt.borderColorText]=vt.borderColorText),vt.headerColorText&&(pt[vt.headerColorText]=vt.headerColorText),vt.headerLabelColorText&&(pt[vt.headerLabelColorText]=vt.headerLabelColorText),vt.leftLabelColorText&&(pt[vt.leftLabelColorText]=vt.leftLabelColorText),vt.rightLabelColorText&&(pt[vt.rightLabelColorText]=vt.rightLabelColorText),[vt.backgroundVariableColors,vt.borderVariableColors,vt.headerVariableColors,vt.headerLabelVariableColors,vt.leftLabelVariableColors,vt.rightLabelVariableColors].forEach(mt=>{mt&&Array.isArray(mt)&&mt.forEach(At=>{At.variable&&(pt[At.variable]=At.variable)})})}),pt},{values:gt,htmlValues:ct}=oy(b,rt(),S,U,f);ut.useEffect(()=>{(async()=>{var vt;try{const mt={canvasBackgroundColor:T,canvasBackgroundColorText:A,canvasBackgroundVariableColors:R,canvasBackgroundImageOpacity:N,canvasBackgroundImageSize:j,canvasBackgroundImageWidth:P,refreshRateMs:U},At=new Set;if(A&&A.startsWith("./src/assets/")){const Yt=A.replace("./src/assets/","");At.add(Yt)}e.forEach(Yt=>{if(Yt.backgroundImage&&Yt.backgroundImage.startsWith("./src/assets/")){const Me=Yt.backgroundImage.replace("./src/assets/","");At.add(Me)}if(Yt.backgroundColorText&&Yt.backgroundColorText.startsWith("./src/assets/")){const Me=Yt.backgroundColorText.replace("./src/assets/","");At.add(Me)}});const se={};for(const Yt of At){const Me=await Zt(Yt);Me&&(se[Yt]=Me)}const De={boxes:e,canvasSettings:mt,connections:S,companionBaseUrl:b,variableValues:gt,htmlVariableValues:ct,imageData:se,fontFamily:G,scaleEnabled:W,designWidth:ot};await((vt=window.electronAPI)==null?void 0:vt.webServer.updateState(De))}catch(mt){console.debug("Web server update failed:",mt)}})()},[e,T,A,R,N,j,P,U,S,b,gt,ct,G,W,ot]),ut.useEffect(()=>{const pt=typeof window<"u"&&window.electronAPI,vt=cn.isNativePlatform();if(console.log("Sync effect running. isElectron:",pt,"isCapacitor:",vt),pt&&(console.log("Setting up Electron listener for browser state changes"),window.electronAPI.onSyncStateFromBrowser(async mt=>{if(console.log(" Syncing state from browser client to Electron",mt),mt.boxes&&(a(mt.boxes),localStorage.setItem(Ks,JSON.stringify(mt.boxes))),mt.canvasSettings){const At=mt.canvasSettings;At.canvasBackgroundColor!==void 0&&M(At.canvasBackgroundColor),At.canvasBackgroundColorText!==void 0&&O(At.canvasBackgroundColorText),At.canvasBackgroundVariableColors!==void 0&&_(At.canvasBackgroundVariableColors),At.canvasBackgroundImageOpacity!==void 0&&z(At.canvasBackgroundImageOpacity),At.canvasBackgroundImageSize!==void 0&&H(At.canvasBackgroundImageSize),At.canvasBackgroundImageWidth!==void 0&&q(At.canvasBackgroundImageWidth),At.refreshRateMs!==void 0&&$(At.refreshRateMs),localStorage.setItem(la,JSON.stringify(At))}if(mt.connections&&(C(mt.connections),localStorage.setItem(sd,JSON.stringify(mt.connections))),mt.companionBaseUrl!==void 0&&(x(mt.companionBaseUrl),localStorage.setItem("companion_connection_url",mt.companionBaseUrl)),mt.fontFamily!==void 0&&(V(mt.fontFamily),localStorage.setItem(Qo,mt.fontFamily),document.documentElement.style.setProperty("--box-font-family",`"${mt.fontFamily}", system-ui, Avenir, Helvetica, Arial, sans-serif`)),mt.imageData)for(const[At,se]of Object.entries(mt.imageData))typeof se=="string"&&await Xt(At,se);mt.scaleEnabled!==void 0&&(Q(mt.scaleEnabled),localStorage.setItem(Zs,mt.scaleEnabled.toString())),mt.designWidth!==void 0&&(B(mt.designWidth),localStorage.setItem(Qs,mt.designWidth.toString()))})),!pt&&!vt){console.log("Running in browser, connecting to WebSocket...");const mt=()=>{m.current&&m.current.readyState!==WebSocket.CLOSED&&(console.log("Closing existing WebSocket before reconnecting"),m.current.close());const At=window.location.protocol==="https:"?"wss:":"ws:",se=window.location.pathname.startsWith("/control")?"/control":"/",De=`${At}//${window.location.host}${se}`;console.log("WebSocket URL:",De);const Yt=new WebSocket(De);m.current=Yt,Yt.onopen=()=>{console.log(" Connected to full app server for bidirectional sync"),g(!0),y.current&&(clearInterval(y.current),y.current=null)},Yt.onmessage=async Me=>{try{const Fe=JSON.parse(Me.data);if(console.log(" Received WebSocket message:",Fe.type),Fe.type==="stateUpdate"&&Fe.data){const qt=Fe.data;if(window.isDraggingBox){console.log(" Dragging in progress, ignoring incoming update");return}if(console.log(" Received state update from Electron",qt),window.isReceivingUpdate=!0,qt.boxes&&(console.log("Updating boxes:",qt.boxes.length),a(qt.boxes),localStorage.setItem(Ks,JSON.stringify(qt.boxes))),qt.canvasSettings){const Se=qt.canvasSettings;console.log("Updating canvas settings"),Se.canvasBackgroundColor!==void 0&&M(Se.canvasBackgroundColor),Se.canvasBackgroundColorText!==void 0&&O(Se.canvasBackgroundColorText),Se.canvasBackgroundVariableColors!==void 0&&_(Se.canvasBackgroundVariableColors),Se.canvasBackgroundImageOpacity!==void 0&&z(Se.canvasBackgroundImageOpacity),Se.canvasBackgroundImageSize!==void 0&&H(Se.canvasBackgroundImageSize),Se.canvasBackgroundImageWidth!==void 0&&q(Se.canvasBackgroundImageWidth),Se.refreshRateMs!==void 0&&$(Se.refreshRateMs),localStorage.setItem(la,JSON.stringify(Se))}if(qt.connections&&(console.log("Updating connections"),C(qt.connections),localStorage.setItem(sd,JSON.stringify(qt.connections))),qt.companionBaseUrl!==void 0&&(console.log("Updating companion base URL:",qt.companionBaseUrl),x(qt.companionBaseUrl),localStorage.setItem("companion_connection_url",qt.companionBaseUrl)),qt.fontFamily!==void 0&&(console.log("Updating font family:",qt.fontFamily),V(qt.fontFamily),localStorage.setItem(Qo,qt.fontFamily),document.documentElement.style.setProperty("--box-font-family",`"${qt.fontFamily}", system-ui, Avenir, Helvetica, Arial, sans-serif`)),qt.imageData){console.log("Storing image data in IndexedDB");for(const[Se,zr]of Object.entries(qt.imageData))typeof zr=="string"&&await Xt(Se,zr)}qt.scaleEnabled!==void 0&&(console.log("Updating scale enabled:",qt.scaleEnabled),Q(qt.scaleEnabled),localStorage.setItem(Zs,qt.scaleEnabled.toString())),qt.designWidth!==void 0&&(console.log("Updating design width:",qt.designWidth),B(qt.designWidth),localStorage.setItem(Qs,qt.designWidth.toString()))}}catch(Fe){console.error(" Error processing WebSocket message:",Fe)}},Yt.onerror=Me=>{console.error(" WebSocket error:",Me),g(!1)},Yt.onclose=()=>{console.log(" Disconnected from full app server"),g(!1),y.current||(y.current=setInterval(()=>{console.log("Attempting to reconnect..."),mt()},3e3))},window.fullAppServerWS=Yt};return mt(),()=>{console.log("Cleaning up WebSocket connection"),y.current&&(clearInterval(y.current),y.current=null),m.current&&m.current.readyState===WebSocket.OPEN&&m.current.close(),m.current=null}}},[]),ut.useEffect(()=>{const pt=typeof window<"u"&&window.electronAPI;if(f){console.log(" Skipping send - drag in progress");return}if(window.isReceivingUpdate){console.log(" Skipping send - currently receiving update"),window.isReceivingUpdate=!1;return}if(!pt&&window.fullAppServerWS){const vt=window.fullAppServerWS;if(vt.readyState===WebSocket.OPEN){console.log(" Sending state change to Electron");const mt={boxes:e,canvasSettings:{canvasBackgroundColor:T,canvasBackgroundColorText:A,canvasBackgroundVariableColors:R,canvasBackgroundImageOpacity:N,canvasBackgroundImageSize:j,canvasBackgroundImageWidth:P,refreshRateMs:U},connections:S,companionBaseUrl:b,fontFamily:G,scaleEnabled:W,designWidth:ot};vt.send(JSON.stringify({type:"stateChange",data:mt}))}else console.log(" WebSocket not ready, state:",vt.readyState)}},[e,T,A,R,N,j,P,U,S,b,G,W,ot]);const Ct=(pt,vt,mt)=>{if(pt&&Array.isArray(pt)){for(const At of pt)if(At&&At.variable&&At.value&&(gt[At.variable]||"")===At.value)return At.color}return vt&&vt.trim()?gt[vt]||vt:mt},Dt=Ct(R,A,T),zt=pt=>{if(!pt||typeof pt!="string")return!1;try{return pt.startsWith("http://")||pt.startsWith("https://")||pt.startsWith("data:image/")?!0:/\.(jpg|jpeg|png|gif|webp|svg|bmp)$/i.test(pt)}catch(vt){return console.error("Error in isImageUrl:",vt),!1}},[Rt,Bt]=ut.useState(null),Xt=async(pt,vt)=>{const mt=indexedDB.open("CompanionDashboardImages",3);return new Promise((At,se)=>{mt.onerror=()=>se(mt.error),mt.onsuccess=()=>{const Yt=mt.result.transaction(["images"],"readwrite"),Me=Yt.objectStore("images"),Fe={id:pt,data:vt};Me.put(Fe),Yt.oncomplete=()=>At(),Yt.onerror=()=>se(Yt.error)},mt.onupgradeneeded=De=>{const Yt=De.target.result;Yt.objectStoreNames.contains("images")||Yt.createObjectStore("images",{keyPath:"id"})}})},Zt=async pt=>{try{const vt=indexedDB.open("CompanionDashboardImages",3);return new Promise(mt=>{vt.onerror=()=>mt(null),vt.onsuccess=()=>{const At=vt.result;if(!At.objectStoreNames.contains("images")){mt(null);return}try{const Yt=At.transaction(["images"],"readonly").objectStore("images").get(pt);Yt.onerror=()=>mt(null),Yt.onsuccess=()=>{const Me=Yt.result;mt(Me?Me.data:null)}}catch(se){console.error("IndexedDB transaction error:",se),mt(null)}},vt.onupgradeneeded=At=>{const se=At.target.result;se.objectStoreNames.contains("images")||se.createObjectStore("images",{keyPath:"id"})}})}catch(vt){return console.error("IndexedDB error:",vt),null}};ut.useEffect(()=>{(async()=>{if(Dt&&typeof Dt=="string"&&Dt.startsWith("./src/assets/background_")){const vt=Dt.split("/").pop();if(vt){let mt=await Zt(vt);mt||(mt=localStorage.getItem(`window_${Yn}_cached_bg_${vt}`)),Bt(mt)}}else Bt(null)})()},[Dt]);const Ot=()=>{const pt=Ct(R,A,T),vt=N/100;let mt,At;if(j==="cover"?(mt="cover",At="center"):j==="contain"?(mt="contain",At="top left"):(mt=`${W?P*I:P}px auto`,At="top left"),zt(Dt)){let se=Dt;return Dt&&typeof Dt=="string"&&Dt.startsWith("./src/assets/background_")&&Rt&&(se=Rt),{backgroundColor:T,position:"relative","--canvas-background-image":`url("${se}")`,"--canvas-background-opacity":vt,"--canvas-background-size":mt,"--canvas-background-position":At}}return Rt&&typeof Rt=="string"?{backgroundColor:T,position:"relative","--canvas-background-image":`url(${Rt})`,"--canvas-background-opacity":vt,"--canvas-background-size":mt,"--canvas-background-position":At}:{backgroundColor:pt}},Ft=()=>{const pt={id:Ma(),frame:{translate:[30,60],width:600,height:105},anchorPoint:"top-left",zIndex:1,opacity:100,opacitySource:"",opacityVariableValues:[],backgroundColor:"#262626",backgroundColorText:"",backgroundVariableColors:[],overlayColor:"#00000000",overlayColorText:"",overlayVariableColors:[],overlayDirection:"left",overlaySize:100,overlaySizeSource:"",overlaySizeVariableValues:[],borderColor:"#61BAFA",borderColorText:"",borderVariableColors:[],noBorder:!0,borderRadius:15,headerColor:"#19325c",headerColorText:"",headerVariableColors:[],headerLabelSource:"Time of Day",headerLabel:"NO CONNECTION",headerLabelSize:16,headerLabelColor:"#ffffff",headerLabelColorText:"",headerLabelVariableColors:[],headerLabelVisible:!0,headerLabelAlign:"center",leftLabelSource:"Time",leftLabel:"",leftLabelSize:14,leftLabelColor:"#FFFFFF",leftLabelColorText:"",leftLabelVariableColors:[],leftVisible:!0,leftLabelAlign:"left",rightLabelSource:"$(internal:time_hms_12)",rightLabel:"",rightLabelSize:20,rightLabelColor:"#FFFFFF",rightLabelColorText:"",rightLabelVariableColors:[],rightVisible:!0,rightLabelAlign:"right",leftRightRatio:50,companionButtonLocation:""};a(vt=>[...vt,pt])};ut.useEffect(()=>{const pt=vt=>{var mt;u&&(vt.key==="Backspace"||vt.key==="Delete")?(vt.preventDefault(),a(At=>At.filter(se=>se.id!==u)),c(null)):vt.key==="n"&&(vt.metaKey||vt.ctrlKey)?(vt.preventDefault(),Ft()):vt.key===","&&(vt.metaKey||vt.ctrlKey)&&!et&&(vt.preventDefault(),(mt=L.current)==null||mt.toggle())};return document.addEventListener("keydown",pt),()=>document.removeEventListener("keydown",pt)},[u]);const le=Ot(),Re=zt(Dt)||Rt&&typeof Rt=="string",ye=typeof window<"u"&&window.electronAPI,de=cn.isNativePlatform(),be=!ye&&!de&&!p;return E.jsxs("div",{className:`canvas-container ${Re?"has-background-image":""}`,style:{minHeight:"100vh",width:"100%",...le},children:[E.jsx(RT,{}),be&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",backdropFilter:"blur(10px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4,pointerEvents:"all"},children:E.jsxs("div",{style:{backgroundColor:"#262626",border:"2px solid #61BAFA",borderRadius:"12px",padding:"40px 60px",maxWidth:"500px",textAlign:"center",boxShadow:"0 8px 32px rgba(97, 186, 250, 0.2)",fontFamily:'"Work Sans", system-ui, Avenir, Helvetica, Arial, sans-serif'},children:[E.jsx("h2",{style:{color:"#61BAFA",margin:"0 0 20px 0",fontSize:"28px",fontWeight:"700",letterSpacing:"0.5px"},children:"Connection Lost"}),E.jsx("p",{style:{color:"#61BAFA",margin:0,fontSize:"14px",opacity:.8},children:"Attempting to reconnect..."})]})}),E.jsx(OT,{ref:L,onNewBox:Ft,connectionUrl:b,onConnectionUrlChange:x,onConnectionsChange:C,onConfigRestore:n,onDeleteAllBoxes:i,canvasBackgroundColor:T,canvasBackgroundColorText:A,canvasBackgroundVariableColors:R,onCanvasBackgroundColorChange:M,onCanvasBackgroundColorTextChange:O,onCanvasBackgroundVariableColorsChange:_,canvasBackgroundImageOpacity:N,onCanvasBackgroundImageOpacityChange:z,canvasBackgroundImageSize:j,onCanvasBackgroundImageSizeChange:H,canvasBackgroundImageWidth:P,onCanvasBackgroundImageWidthChange:q,refreshRateMs:U,onRefreshRateMsChange:$,fontFamily:G,onFontFamilyChange:V,boxesLocked:dt,onBoxesLockedChange:Z,isDisplayMode:et,scaleEnabled:W,onScaleEnabledChange:Q,designWidth:ot,onDesignWidthChange:B}),E.jsx("div",{style:{transform:`scale(${I})`,transformOrigin:"top left",width:W?`${ot}px`:"100%",minHeight:"100vh",position:"relative"},children:e.length===0?E.jsxs("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pointerEvents:"none",backgroundColor:"rgba(0,0,0,.9)",zIndex:1},children:[E.jsx("img",{src:uy,alt:"Dashboard",style:{width:"500px",height:"auto",opacity:.2,filter:"grayscale(100%)"}}),E.jsx("div",{style:{position:"fixed",bottom:"32px",left:"120px",color:"#FFF",fontSize:"14px",fontWeight:"500",opacity:.5},children:"Open the menu to add boxes!"})]}):e.map(pt=>E.jsx(eT,{boxData:pt,isSelected:u===pt.id,onSelect:()=>c(pt.id),onDeselect:()=>c(null),onBoxUpdate:vt=>{a(mt=>mt.map(At=>At.id===vt.id?vt:At))},onDelete:vt=>{a(mt=>mt.filter(At=>At.id!==vt)),c(null)},onDuplicate:l,companionBaseUrl:b,connections:S,refreshRateMs:U,isDragging:f,onDragStart:()=>v(!0),onDragEnd:()=>v(!1),boxesLocked:dt},pt.id))})]})}AS.createRoot(document.getElementById("root")).render(E.jsx(ut.StrictMode,{children:E.jsx(_T,{})}));export{Gd as E,sy as W,bT as b};
